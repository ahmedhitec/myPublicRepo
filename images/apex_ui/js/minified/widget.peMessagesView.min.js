!function(e,t,a,i){"use strict";var n="error",s="warning",o="icon-remove-sign",r="icon-warning-sign";t.widget("apex.peMessagesView",{options:{},_create:function(){var a,i=this;this.element.empty(),a=t("<div>",{class:"a-AlertMessages"}).appendTo(this.element),this._container$=t("<ul></ul>",{class:"a-AlertMessages-list"}).appendTo(a).on("click","a",this._goToComponent),t(document).on("modelReady",(function(){e.observer("messages_"+this.uuid,{events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS,e.EVENT.DELETE,e.EVENT.REMOVE_PROP]},(function(e){i._update(e)})),t(document).one("modelCleared",(function(){i._container$.empty(),t.isFunction(i.options.badge)?i.options.badge(""):t(i.options.badge).text("")}))}))},_init:function(){},_destroy:function(){this.element.empty(),t(document).off("modelReady"),t(document).off("modelCleared"),e.unobserver("messages_"+this.uuid)},_update:function(i){function p(t,i,n,s,o){for(var r='<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message is-#CSS_CLASS#">    <div class="a-MediaBlock-graphic">      <span class="a-FAIcon a-FAIcon--medium a-FAIcon--#CSS_CLASS# #ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription">#MESSAGE#</p>    </div>  </a></li>',p="",c=0;c<n.length;c++)p+=r.replace(/#CSS_CLASS#/g,s).replace(/#ICON_CLASS#/g,o).replace("#TYPEID#",t.typeId).replace("#COMPONENTID#",t.id).replace("#PROPERTYID#",i.id).replace("#COMPONENT_TYPE#",a.escapeHTML(e.getComponentType(t.typeId).title.singular)).replace("#COMPONENT#",a.escapeHTML(t.getDisplayTitle())).replace("#DISPLAY_GROUP#",a.escapeHTML(e.getDisplayGroup(i.getMetaData().displayGroupId).title)).replace("#PROPERTY#",a.escapeHTML(i.getMetaData().prompt)).replace("#MESSAGE#",n[c]);this._container$.append(p)}var c,d,l,E=i.component,g="li[data-typeid='"+E.typeId+"'][data-componentid='"+E.id+"']",T=this.options.badge,m=this.options.button,u=this.options.noMsgHandler;if(t.inArray(e.EVENT.DELETE,i.events)>=0)this._container$.find(g).remove();else for(var O in i.properties)i.properties.hasOwnProperty(O)&&(this._container$.find(g+"[data-propertyid='"+O+"']").remove(),-1===t.inArray(e.EVENT.REMOVE_PROP,i.properties[O])&&(c=E.getProperty(O),p.call(this,E,c,c.errors,n,o),p.call(this,E,c,c.warnings,s,r)));l=(d=this._container$.find("li").length)>0,m.toggle(l&&m.length>0),t.isFunction(T)?T(d):t(T).text(l?d:""),!l&&t.isFunction(u)&&u()},_goToComponent:function(){var a=t(this).closest("li"),i=e.getComponents(a.data("typeid"),{id:a.data("componentid")})[0];window.pageDesigner.goToComponent(i.typeId,i.id,a.data("propertyid"))}})}(pe,apex.jQuery,apex.util);
!function(n,e,i,o,t){"use strict";e.getAppUnderTestWindowName=function(n){var e="APEX_AUT_";return"Y"===$v("P0_WINDOW_MGMT_SHARE_WINDOW")||(e+=n),e},e.launchAppUnderTest=function(n,i,t){var a="",r=apex.navigation.openInNewWindow("",e.getAppUnderTestWindowName(i),t);return r&&r.$v&&(a=r.$v("pdebug")||""),"BRANCH_TO_PAGE_ACCEPT"===(n=n.split(":"))[3]?(n[6]=n[6]+",P1000_DEBUG",n[7]=n[7]+","+a):n[4]=a,n=n.join(":"),o.openInNewWindow(n,e.getAppUnderTestWindowName(i),t)},e.nameBuilderWindow=function(){window.name&&0!==window.name.indexOf("APEX_BUILDER")||(window.name="APEX_BUILDER_"+$v("pInstance"))},e.initWizardModal=function(){var e=function(){var e=n(".a-Dialog-wizardSteps").height(),i=n(".a-Dialog-footer").height();n(".a-Dialog-body").css({top:e,bottom:i})};n(window).on("apexwindowresized",(function(){e()})),e(),t.modalAutoSize({observeClass:".a-Dialog-body",sections:[".a-Dialog-body",".a-Dialog-wizardSteps",".a-Dialog-footer"]})},e.initStickyHeader=function(e){var i=n("#"+e);if(i[0]){var o=i.outerHeight(),t=i.parent(),a=i.offset().top;n(window).scroll((function(){n(window).scrollTop()>a?(i.addClass("is-fixed"),t.css("margin-top",o)):(i.removeClass("is-fixed"),t.css("margin-top","0"))}))}},e.initWizardProgressBar=function(){t.initWizardProgressBar("a-WizardSteps")},n((function(){function i(){o.openInNewWindow(this.href,"_blank",{favorTabbedBrowsing:!0})}10===document.documentMode&&(document.documentElement.className+=" ie10"),n(".a-Header-tabsContainer").menu({menubar:!0,behaveLikeTabs:!0}).show(),function(e){var i,o,t,a,r=n("#"+e);if(r.length)for(t=r.children("ul").children("li"),a=r.menu("option").items,i=0;i<a.length;i++)(o=a[i].id)&&t.eq(i).addClass(o)}("a_Header_menu"),n("#helpMenu_menu").on("menucreate",(function(){var e=this;n.each(["helpLinkNewWindow","helpLinkForum","helpLinkOTN","helpLinkDocLib"],(function(o,t){var a=n(e).menu("find",t);a&&(a.action=i)}))})),n(".a-Region--hideShow").each((function(){n(this).collapsible({content:n(this).find(".a-Region-body").first()})})),n("body").on("click","button.launch-aut",(function(i){var t=n(this).attr("data-link"),a=function(n){var e,i,o,t,a=null;if((e=n.indexOf("?p="))>=0)if((i=n.substring(e+3).split(":")).length>=8&&"BRANCH_TO_PAGE_ACCEPT"===i[3]){for(o=i[6].split(","),t=i[7].split(","),e=0;e<o.length&&e<t.length;e++)if("FB_FLOW_ID"===o[e]){a=t[e];break}}else a=i[0];return a}(t),r={},d=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";a&&("NONE"===d||/^4\d\d\d$/.test(a)?o.redirect(t):("BROWSER"===d&&(r.favorTabbedBrowsing=!0),e.launchAppUnderTest(t,a,r)))})),n("button.launch-aut").each((function(){var e,i=n(this),o=i.attr("data-link");o||(e=/['"]((ws|f)\?p=.*)['"]/.exec(i.attr("onclick")))&&e.length>1&&(o=e[1],i.removeAttr("onclick"),i.attr("data-link",o))})),n("#accountMenu_menu").menu({customContent:!0,tabBehavior:"NEXT"}),n(document.body).on("dialogopen dialogresizestop",".a-DialogRegion",(function(){var e,i;e=n(this),i=e.find(".a-DialogRegion-buttons").height(),e.find(".a-DialogRegion-body").css("bottom",i)}))}))}(apex.jQuery,apex.builder,apex.util,apex.navigation,apex.theme);
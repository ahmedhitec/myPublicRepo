!function(e,t,n,i,a,o){"use strict";var r="is-not-important",p="is-populated",_="is-run-on-init",P=[{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:s("NAVIGATION_BAR_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:s("TAB_SET"),typeId:e.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:e.COMP_TYPE.LOV,type:"lov"},{typeId:e.COMP_TYPE.LIST,type:"list"},{typeId:e.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:e.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:e.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:e.COMP_TYPE.WS_REF,type:"web_service"},{typeId:e.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{title:s("TEMPLATES"),type:"template",children:[{titleTypeId:e.COMP_TYPE.PAGE,typeId:e.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:e.COMP_TYPE.PAGE_ITEM,typeId:e.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:e.COMP_TYPE.BUTTON,typeId:e.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:e.COMP_TYPE.REGION,typeId:e.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:e.COMP_TYPE.LIST,typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:s("CLASSIC_REPORT"),typeId:e.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:e.COMP_TYPE.BREADCRUMB,typeId:e.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:s("LEGACY_CALENDAR"),typeId:e.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];function s(e){return a.getMessage("PD.TREE."+e)}function E(e){var t=s(e),n=[t].concat(Array.prototype.slice.call(arguments,1));return a.formatNoEscape.apply(this,n)}function c(e,t){var n=l(e,o.extend({isHeader:!0},t));return n.children=[],n.state={},t.isOpen&&(n.state={opened:!0}),t.omitIfEmpty&&(n.commands.omitIfEmpty=!0),t.showHasComponents&&(n.commands.showHasComponents=!0),n}function l(n,i){var a={type:i.type,label:i.title,classes:"",data:{},commands:{}};return i.component instanceof e.Component?(a.data={typeId:i.component.typeId,componentId:i.component.id,isPlain:i.isPlain},i.isPlain||(t.isNever(i.component)?a.classes=t.CSS.IS_NEVER:t.isConditional(i.component)&&(a.classes=t.CSS.IS_CONDITIONAL),i.component.hasChanged()&&(a.classes=t.CSS.IS_CHANGED),i.component.hasErrors()&&(a.classes+=" "+t.CSS.IS_ERROR,a.commands.openAllParents=!0),i.component.hasWarnings()&&(a.classes+=" "+t.CSS.IS_WARNING),i.component.typeId===e.COMP_TYPE.DA_ACTION&&"Y"===i.component.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()&&(a.classes+=" "+_)),i.title||(a.label=i.component.getDisplayTitle())):(i.hasWarnings&&(a.classes+=" "+t.CSS.IS_WARNING),i.hasErrors&&(a.classes+=" "+t.CSS.IS_ERROR,a.commands.openAllParents=!0)),i.isNotImportant&&(a.classes+=" "+r),i.hasOwnProperty("id")?a.id=i.id:i.component instanceof e.Component?(a.id=a.type+"_"+i.component.typeId+"_"+i.component.id,0!==a.type.indexOf("inline_")&&0!==a.type.indexOf("page_load_da_")||(a.id=n.id+"_"+a.id)):(a.id=i.type,i.idPostfix&&(a.id+=i.idPostfix),n&&(a.id=n.id+"_"+a.id)),i.tooltip&&(a.tooltip=i.tooltip),i.hasOwnProperty("icon")&&(!1===i.icon?a.icon=null:a.icon=i.icon),i.openAllParents&&(a.commands.openAllParents=!0),n&&n.children.push(a),a}function d(e,t){var n,i;if((t=o.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},t)).isHeader=!0,t.isNotImportant=!0,n=c(e,t),t.filter)if("parent"===t.filter.setFilter)for(i=0;i<t.filter.properties.length;i++)e.data[t.filter.properties[i].id]=t.filter.properties[i].value;else if(t.filter.properties)for(i=0;i<t.filter.properties.length;i++)n.data[t.filter.properties[i].id]=t.filter.properties[i].value;if(t.data)for(var a in t.data)t.data.hasOwnProperty(a)&&(n.data[a]=t.data[a]);return n}function O(t){if(t.children){for(var n=0;n<t.children.length;)O(t.children[n])?t.children.splice(n,1):(t.children[n].commands.openAllParents&&(t.state.opened||(t.state.opened=!0),t.commands.openAllParents||(t.commands.openAllParents=!0)),(t.children[n].state&&t.children[n].state.hasComponents||t.children[n].data.hasOwnProperty("componentId")&&!e.getComponents(t.children[n].data.typeId,{id:t.children[n].data.componentId})[0].isOnGlobalPage())&&(t.state.hasComponents||(t.state.hasComponents=!0,t.commands.showHasComponents&&(t.classes+=" "+p))),n++);return 0===t.children.length&&delete t.state,t.commands.omitIfEmpty&&(t.children&&0===t.children.length||!t.children)}return delete t.state,!1}function T(n,i){var a,r,p,_,P,s,E=i.setFilter,O=[],T={};if(void 0===E&&(E="parent"),!1===i.header){if(_=n,"parent"===E)for(s=0;s<i.component.filter.properties.length;s++)n.data[i.component.filter.properties[s].id]=i.component.filter.properties[s].value}else{if(a=i.header.component instanceof e.Component?i.header.component.getDisplayTitle():i.header.title?i.header.title:e.getComponentType(i.component.typeId).title.plural,E)if(p={setFilter:E,properties:[]},o.isArray(i.component))for(s=0;s<i.component.length;s++)p.properties=p.properties.concat(i.component[s].filter.properties);else i.component.filter.properties&&(p.properties=i.component.filter.properties);_=d(n,{title:a,type:i.header.type,id:i.header.id,idPostfix:i.header.idPostfix,isPlain:i.header.isPlain,hasWarnings:i.header.hasWarnings,hasErrors:i.header.hasErrors,isOpen:i.header.isOpen,openAllParents:i.header.openAllParents,omitIfEmpty:i.header.omitIfEmpty,component:i.header.component,filter:p})}if(o.isArray(i.component))for(s=0;s<i.component.length;s++)O[s]={typeId:i.component[s].typeId,filter:i.component[s].filter},T[i.component[s].typeId]=i.component[s];else O[0]={typeId:i.component.typeId,filter:i.component.filter},T[i.component.typeId]=i.component;for(r=e.getComponentsAdvanced(O),s=0;s<r.length;s++)t.isDisplayed(r[s])&&(T[r[s].typeId].addSubComponents?(P=c(_,{title:r[s].getDisplayTitle(),type:T[r[s].typeId].type,component:r[s],isHeader:!1,isPlain:T[r[s].typeId].isPlain,isOpen:T[r[s].typeId].isOpen,openAllParents:!r[s].isOnGlobalPage()&&T[r[s].typeId].openAllParents,omitIfEmpty:T[r[s].typeId].omitIfEmpty}),T[r[s].typeId].addSubComponents(P,r[s])):l(_,{title:r[s].getDisplayTitle(),type:T[r[s].typeId].type,isPlain:T[r[s].typeId].isPlain,component:r[s],openAllParents:!r[s].isOnGlobalPage()&&T[r[s].typeId].openAllParents}))}function I(t,n){var i;return t===e.COMP_TYPE.BRANCH?i=e.PROP.BRANCH_POINT:t===e.COMP_TYPE.PAGE_COMPUTATION?i=e.PROP.COMPUTATION_POINT:t===e.COMP_TYPE.PAGE_PROCESS&&(i=e.PROP.PROCESS_POINT),e.getLovTitle(t,i,n)}function C(t,n,i){T(t,{header:{type:"branches",isOpen:!0,omitIfEmpty:i},component:{type:"branch",typeId:e.COMP_TYPE.BRANCH,filter:{properties:[{id:e.PROP.BRANCH_POINT,value:n.point}]},openAllParents:!0}})}function u(t,n,i){var a,o,r,p="inline_",_={isOpen:!0,omitIfEmpty:i};n.hasOwnProperty("regionColumn")?(r=n.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue(),a=function(){var t;return this.getProperty(e.PROP.VALIDATION_REGION).getValue()===n.region.id&&((t=this.getProperty(e.PROP.REGION_VAL_COLUMN))&&t.getValue()===r||this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()===r)}):n.hasOwnProperty("region")?(_.isOpen=!1,a=function(){return!(this.getProperty(e.PROP.VALIDATION_REGION).getValue()!==n.region.id||""!==this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(e.PROP.REGION_VAL_COLUMN))}):n.hasOwnProperty("pageItem")?(o=n.pageItem.getProperty(e.PROP.ITEM_NAME).getValue(),a=function(){var t;return""===this.getProperty(e.PROP.VALIDATION_REGION).getValue()&&(t=this.getProperty(e.PROP.VAL_ITEM),this.getProperty(e.PROP.ASSOCIATED_ITEM).getValue()===n.pageItem.id||t&&t.getValue()===o)}):(p="",_.isOpen=!0,_.openAllParents=!0),_.type=p+"validations",T(t,{header:_,setFilter:!1,component:{type:p+"validation",typeId:e.COMP_TYPE.VALIDATION,filter:{properties:[],filterFunction:a}}})}function R(t,n,i,a){var o,r=n.hasOwnProperty("pageItem")?"inline_":"",p={type:r+"computations",isOpen:!0,omitIfEmpty:i};n.hasOwnProperty("point")?o={id:e.PROP.COMPUTATION_POINT,value:n.point}:n.hasOwnProperty("pageItem")&&(o={id:e.PROP.COMPUTATION_ITEM_NAME,value:n.pageItem.getProperty(e.PROP.ITEM_NAME).getValue()}),T(t,{header:p,component:{type:r+"computation",typeId:e.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[o]},openAllParents:a}})}function m(t,n,i,a){var r,p,_=n.hasOwnProperty("region")?"inline_":"";p="ON_DEMAND"!==n.point&&{type:_+"processes",isOpen:!0,omitIfEmpty:i},n.hasOwnProperty("point")?r={id:e.PROP.PROCESS_POINT,value:n.point}:n.hasOwnProperty("region")&&(r={id:e.PROP.PROCESS_REGION,value:n.region.id},p.isOpen=!1),T(t,{header:p,component:{type:_+"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[r]},addSubComponents:function(t,n){var i=n.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue();-1!==o.inArray(i,["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"])&&(T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:n.id}}}),"ITEMS"===n.getProperty(e.getPluginProperty(e.COMP_TYPE.PAGE_PROCESS,i,2).id).getValue()&&T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:n.id}}}),T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:n.id}}}))},openAllParents:a}})}function g(t,i){function a(t,n,i,a){T(t,{header:{title:a,type:"da_actions_"+i,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:e.COMP_TYPE.DA_ACTION,filter:{parentId:n.id,properties:[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}]}}})}var o,r=!1,p=[],_={title:s("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};o="inline_",i.hasOwnProperty("regionColumn")?(p.push({id:e.PROP.WHEN_REGION,value:i.region.id}),p.push({id:e.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):i.hasOwnProperty("region")?(p.push({id:e.PROP.WHEN_TYPE,value:"REGION"}),p.push({id:e.PROP.WHEN_REGION,value:i.region.id}),_.isOpen=!1):i.hasOwnProperty("pageItem")?p.push({id:e.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.pageItem.getProperty(e.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):i.hasOwnProperty("button")?p.push({id:e.PROP.WHEN_BUTTON,value:i.button.id}):i.hasOwnProperty("event")&&(p.push({id:e.PROP.EVENT,value:i.event}),o="",r="header",""===i.event?_.title=s("UNDEFINED_EVENT"):_.title=e.getLovTitle(e.COMP_TYPE.DA_EVENT,e.PROP.EVENT,i.event),_.idPostfix="_"+i.event,_.omitIfEmpty=!1),_.type=o+"da_events",T(t,{header:_,setFilter:r,component:{type:o+"da_event",typeId:e.COMP_TYPE.DA_EVENT,filter:{properties:p},addSubComponents:function(e,t){a(e,t,"true",s("TRUE")),a(e,t,"false",s("FALSE"))}}})}function A(t,n){var i,a={},o={isOpen:!1,omitIfEmpty:!0};n.hasOwnProperty("region")?(i=e.getRegionTemplate(n.region.id).displayPointsMap.SUB_REGIONS,o.title=i?i.name:s("SUB_REGIONS"),o.type="sub_regions",a.properties=[{id:e.PROP.PARENT_REGION,value:n.region.id}]):n.hasOwnProperty("point")?(o.title=n.point.name,o.type="regions",o.id="rdp_"+n.point.id,o.omitIfEmpty=!n.point.isQuickPick,a.properties=[],a.properties.push({id:e.PROP.PARENT_REGION,value:""}),a.properties.push({id:e.PROP.REGION_POSITION,value:n.point.id})):n.hasOwnProperty("validPointsMap")&&(o.title=s("INVALID_POSITION"),o.type="regions",o.id="invalid_region_dp",o.hasWarnings=!0,a.filterFunction=function(){var t=this.getProperty(e.PROP.REGION_POSITION);return!!t&&!n.validPointsMap.hasOwnProperty(t.getValue())}),T(t,{header:o,setFilter:"header",component:{type:"region",typeId:e.COMP_TYPE.REGION,filter:a,addSubComponents:function(t,n){var i={NATIVE_CARDS:y,NATIVE_IR:N,NATIVE_IG:f,NATIVE_SQL_REPORT:h,NATIVE_FNC_REPORT:h,NATIVE_TABFORM:M,NATIVE_FLASH_MAP:S,NATIVE_FLASH_CHART5:Y,NATIVE_JET_CHART:D,NATIVE_FACETED_SEARCH:v},a=n.getProperty(e.PROP.REGION_TYPE).getValue();n.isOnGlobalPage()||(i.hasOwnProperty(a)?i[a](t,n):b(t,n)),n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&T(t,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:e.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:n.id}}}),G(t,n),L(t,n),u(t,{region:n},!0),g(t,{region:n}),A(t,{region:n})},isOpen:!0,openAllParents:!0,omitIfEmpty:!1}})}function y(t,n){var i=e.getComponents(e.COMP_TYPE.CARD,{parentId:n.id})[0];T(t,{header:{type:"card_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"card_action",typeId:e.COMP_TYPE.CARD_ACTION,filter:{parentId:i.id}}})}function N(t,n){var i=e.getComponents(e.COMP_TYPE.IR_ATTRIBUTES,{parentId:n.id})[0];T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:e.COMP_TYPE.IR_COLUMN,filter:{parentId:i.id}}}),T(t,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:e.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:i.id}}}),T(t,{header:{type:"ir_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:e.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:i.id}}})}function f(t,n){var i=e.getComponents(e.COMP_TYPE.IG_ATTRIBUTES,{parentId:n.id})[0];T(t,{header:{title:s("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:e.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){u(e,{region:n,regionColumn:t},!0),g(e,{region:n,regionColumn:t})}}}),T(t,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:e.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:n.id}}}),T(t,{header:{type:"ig_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_saved_report",typeId:e.COMP_TYPE.IG_SAVED_REPORT,filter:{parentId:i.id}}})}function h(t,n){T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:e.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:n.id}}})}function M(t,n){T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:e.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){u(e,{region:n,regionColumn:t},!0)}}})}function v(t,n){T(t,{header:{title:s("FACETS"),type:"facets",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"facet",typeId:e.COMP_TYPE.FACET,isOpen:!1,filter:{parentId:n.id}},{type:"facet_group",typeId:e.COMP_TYPE.FACET_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){T(t,{header:{type:"facet_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"facet_group_item",typeId:e.COMP_TYPE.FACET_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),b(t,n)}function S(t,n){var i=e.getComponents(e.COMP_TYPE.MAP_CHART,{parentId:n.id})[0];T(t,{header:{type:"map_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_chart_serie",typeId:e.COMP_TYPE.MAP_CHART_SERIES,filter:{parentId:i.id}}})}function Y(t,n){var i=e.getComponents(e.COMP_TYPE.CHART,{parentId:n.id})[0];T(t,{header:{type:"chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"chart_serie",typeId:e.COMP_TYPE.CHART_SERIES,filter:{parentId:i.id}}})}function D(t,n){var i=e.getComponents(e.COMP_TYPE.JET_CHART,{parentId:n.id})[0],a=i.getProperty(e.PROP.JET_CHART_TYPE).getValue();T(t,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:e.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&T(t,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:e.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:n.id}}})}}}),a in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,gantt:1,line:1,lineWithArea:1,polar:1,radar:1,range:1,scatter:1,stock:1}&&T(t,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:e.COMP_TYPE.JET_CHART_AXES,filter:{parentId:i.id}}})}function b(t,n){var i=e.getComponentType(e.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins,a=n.getProperty(e.PROP.REGION_TYPE).getValue();-1!==o.inArray("COLUMNS",i[a].features)&&T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:e.COMP_TYPE.REGION_COLUMN,filter:{parentId:n.id}}})}function G(t,n){T(t,{header:{type:"page_items",isOpen:!1,omitIfEmpty:!0,title:s("ITEMS")},setFilter:"header",component:[{type:"page_item",typeId:e.COMP_TYPE.PAGE_ITEM,isOpen:!1,openAllParents:!0,filter:{properties:[{id:e.PROP.REGION,value:n instanceof e.Component?n.id:""}]},addSubComponents:function(e,t){u(e,{pageItem:t},!0),g(e,{pageItem:t}),R(e,{pageItem:t},!0)}},{type:"form_button",typeId:e.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{properties:[{id:e.PROP.REGION,value:n instanceof e.Component?n.id:""},{id:e.PROP.BUTTON_POSITION,value:"BODY"}]},addSubComponents:function(e,t){g(e,{button:t})}}]})}function L(t,n){var i=n instanceof e.Component?n.id:"";T(t,{header:{type:"region_buttons",isOpen:!1,omitIfEmpty:!0,title:s("REGION_BUTTONS")},component:{type:"region_button",typeId:e.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{filterFunction:function(){return this.getProperty(e.PROP.REGION).getValue()===i&&"BODY"!==this.getProperty(e.PROP.BUTTON_POSITION).getValue()}},addSubComponents:function(e,t){g(e,{button:t})}}})}function V(){var t,n;return(t=c(void 0,{component:(n=e.getComponents(e.COMP_TYPE.PAGE))[0],type:"page",title:E("PAGE_TITLE",n[0].id,n[0].getDisplayTitle()),isHeader:!1,isOpen:!0})).data[e.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",t.data[e.PROP.PROCESS_POINT]="AFTER_HEADER",t.data[e.PROP.BRANCH_POINT]="BEFORE_HEADER",t.data[e.PROP.REGION_POSITION]="BODY",t.data[e.PROP.BUTTON_POSITION]="BELOW_BOX",function(t){var n,i,a,r,p=e.isGlobalPage();r=e.getPageTemplate(),n=d(t,{title:s("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),p||(R(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),{point:"ON_NEW_INSTANCE"},!0),m(a,{point:"ON_NEW_INSTANCE"},!0),C(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),{point:"BEFORE_HEADER"},!0),R(a,{point:"BEFORE_HEADER"},!0),m(a,{point:"BEFORE_HEADER"},!0));a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:p}),p||(R(a,{point:"AFTER_HEADER"},!0),m(a,{point:"AFTER_HEADER"},!0));A(a,{point:{id:"AFTER_HEADER"}}),p||(R(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),{point:"BEFORE_BOX_BODY"},!0),m(a,{point:"BEFORE_BOX_BODY"},!0));a=d(t,{title:e.getComponentType(e.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0});for(var _=0;_<r.displayPoints.length;_++)-1===o.inArray(r.displayPoints[_].id,["AFTER_HEADER","BEFORE_FOOTER"])&&A(a,{point:r.displayPoints[_]});A(a,{validPointsMap:r.displayPointsMap}),G(a=d(t,{title:s("NO_REGION"),type:"no_region",hasWarnings:!0,isOpen:!0,omitIfEmpty:!0}),null),L(a,null),i=d(t,{title:s("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),p||(R(a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),{point:"AFTER_BOX_BODY"},!0),m(a,{point:"AFTER_BOX_BODY"},!0));a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),p||(R(a,{point:"BEFORE_FOOTER"},!0),m(a,{point:"BEFORE_FOOTER"},!0));A(a,{point:{id:"BEFORE_FOOTER",name:e.getComponentType(e.COMP_TYPE.REGION).title.plural}}),p||(R(a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),{point:"AFTER_FOOTER"},!0),m(a,{point:"AFTER_FOOTER"},!0))}(t),O(t),t}function U(){var t,n,i={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},a={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};function o(t,n,i,a){var o=[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}];"ready"!==n.getProperty(e.PROP.EVENT).getValue()&&o.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),T(t,{header:{title:a,type:"page_load_da_actions_"+i,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:e.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:n.id,properties:o}}})}T(i,{header:{title:s("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:e.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var t=!0;return"ready"!==this.getProperty(e.PROP.EVENT).getValue()&&(t=this.getChilds(e.COMP_TYPE.DA_ACTION,{properties:[{id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),t}},addSubComponents:function(e,t){o(e,t,"true",s("TRUE")),o(e,t,"false",s("FALSE"))}}}),t=d(i,{title:s("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:e.PROP.EVENT,value:""}]}}),n=e.getComponents(e.COMP_TYPE.DA_EVENT,{});for(var r=0;r<n.length;r++)a[n[r].getProperty(e.PROP.EVENT).getValue()]=!0;for(var p in a)a.hasOwnProperty(p)&&g(t,{event:p});return O(i),i}function F(){var t={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return function(t){var n;if(e.isGlobalPage())return;m(n=d(t,{title:I(e.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),{point:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),C(n,{point:"BEFORE_COMPUTATION"},!0),R(n,{point:"AFTER_SUBMIT"},!0,!0),C(n=d(t,{title:I(e.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),{point:"BEFORE_VALIDATION"},!0),u(n,{},!0),C(n=d(t,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),{point:"BEFORE_PROCESSING"},!0),m(n,{point:"AFTER_SUBMIT"},!0,!0),C(n=d(t,{title:I(e.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),{point:"AFTER_PROCESSING"},!0),m(n=d(t,{title:I(e.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),{point:"ON_DEMAND"},!1,!0)}(t),O(t),t}function x(){function t(t,n,i){var a,r,p,_,P,s,c,l=e.getComponentType(n.typeId);c=d(t,{title:n.title||(n.titleTypeId?e.getComponentType(n.titleTypeId).title.singular:l.title.plural),type:n.type+"s",isOpen:!1,omitIfEmpty:i,data:{typeId:n.typeId}}),a=B(n.typeId),s={};for(var O=0;O<a.length;O++){r=e.getComponents(a[O].typeId,{});for(var I=0;I<r.length;I++)P=!1,a[O].typeId===e.COMP_TYPE.PAGE&&-1!==o.inArray(a[O].propertyId,[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.NAVIGATION_LIST,e.PROP.TAB_SET])?!r[I].getProperty(a[O].propertyId)||a[O].propertyId!==e.PROP.PAGE_TEMPLATE&&a[O].propertyId!==e.PROP.DIALOG_TEMPLATE||(P=!0,_=e.getPageTemplate().id):(p=r[I].getProperty(a[O].propertyId))&&""!==(_=p.getValue())&&(n.typeId!==e.COMP_TYPE.BUILD_OPTION&&n.typeId!==e.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(_)||(_=_.substr(1)),P=!0),P&&""!==_&&(s.hasOwnProperty(_)||(s[_]={}),s[_].hasOwnProperty(a[O].typeId)||(s[_][a[O].typeId]=[]),s[_][a[O].typeId].push(r[I]))}for(var C in s)s.hasOwnProperty(C)&&T(c,{header:!1,component:{type:n.type,typeId:n.typeId,isOpen:!1,filter:{id:C,properties:[]},addSubComponents:function(t){var n,i;for(var a in s[C])if(s[C].hasOwnProperty(a)){n=e.getComponentType(a),i=d(t,{title:E("REFERENCED_BY",1===s[C][n.id].length?n.title.singular:n.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var o=0;o<s[C][n.id].length;o++)T(i,{header:!1,component:{type:"referenced_by",typeId:n.id,isPlain:!0,filter:{id:s[C][n.id][o].id,properties:[]}}})}}}});return c}var n={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return function n(i,a,r){for(var p,_,P=!1,s=0;s<a.length;s++)-1!==o.inArray(a[s].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])?("navigation_menu_list"===a[s].type?(_=e.getNavListId(),P=!0):"navigation_bar_list"===a[s].type?(_=e.getNavBarListId(),P=!0):"nav_list_template"===a[s].type?_=e.getNavListTemplateId():"tab_set"===a[s].type&&(_=e.getTabSetId()),_&&T(i,{header:{title:a[s].title,type:a[s].type+"s",isOpen:P,omitIfEmpty:!0,data:{typeId:a[s].typeId}},component:{type:a[s].type,typeId:a[s].typeId,isOpen:!1,filter:{id:_,properties:[]}}})):p=a[s].hasOwnProperty("typeId")?t(i,a[s],r):d(i,{title:a[s].title,type:a[s].type+"s",isOpen:!0,omitIfEmpty:r}),a[s].children&&n(p,a[s].children,!0)}(n,P,!1),O(n),n}function B(t){for(var n,i,a=e.getComponentType(t),o=[],r=0;r<a.refByProperties.length;r++){n=e.getProperty(a.refByProperties[r]);for(var p=0;p<n.refByComponentTypes.length;p++)((i=e.getComponentType(n.refByComponentTypes[p])).isPageComponent||i.id===e.COMP_TYPE.PAGE)&&o.push({typeId:i.id,propertyId:n.id})}return o}function H(t){function n(e){var n;e.hasOwnProperty("value")?i.push({id:e.id,value:e.value}):e.typeId?(n=Q(e.typeId,t._parent),i.push({id:e.id,value:n?n.id:""})):e.id&&i.push({id:e.id,value:$(e.id,t._parent)+""})}var i=[];switch(t.type){case"region":"regions"===t._parent.type?(n({id:e.PROP.PARENT_REGION,value:""}),n({id:e.PROP.REGION_POSITION})):n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"page_item":n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});break;case"form_button":case"region_button":n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.BUTTON_POSITION});break;case"da_action":n({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),n({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":n({id:e.PROP.COMPUTATION_POINT});break;case"process":n({id:e.PROP.PROCESS_POINT});break;case"branch":n({id:e.PROP.BRANCH_POINT});break;case"facet_group_item":n({id:e.PROP.FACET_GROUP,typeId:e.COMP_TYPE.FACET_GROUP}),n({id:e.PROP.FACET_REGION,typeId:e.COMP_TYPE.REGION})}return i}function w(e,t,n,i){var a,r,p=[],_=o(),P=n;if(n||"PDdynamicActionTree"!==t[0].id||(P="da_da_events"),i){for(r=0;r<e.length;r++)_=_.add(j(e[r],t,P));t.treeView("setSelection",_)}else{for(r=0;r<e.length;r++)(a=J(e[r],t,P))&&p.push(a);t.treeView("setSelectedNodes",p,!1,!0)}}function W(t,n,i,a){var r,p,_,P,E,c,l,d,O,T=X(t),I=[];function C(e){var n;e.hasOwnProperty("value")?I.push({id:e.id,value:e.value}):e.typeId?(n=Q(e.typeId,t),I.push({id:e.id,value:n?n.id:""})):e.id&&I.push({id:e.id,value:$(e.id,t)+""})}if(i===e.COMP_TYPE.REGION)"SUB_REGION"===a?C({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}):T&&""!==T.getProperty(e.PROP.PARENT_REGION).getValue()?C({id:e.PROP.PARENT_REGION}):C({id:e.PROP.REGION_POSITION});else if(i===e.COMP_TYPE.PAGE_ITEM)C({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});else if(i===e.COMP_TYPE.BUTTON)C({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),C({id:e.PROP.BUTTON_POSITION});else if(i===e.COMP_TYPE.PAGE_COMPUTATION)(p=Q(e.COMP_TYPE.PAGE_ITEM,t))?(C({id:e.PROP.COMPUTATION_ITEM_NAME,value:p.getProperty(e.PROP.ITEM_NAME).getValue()}),C({id:e.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):C({id:e.PROP.COMPUTATION_POINT});else if(i===e.COMP_TYPE.PAGE_PROCESS)C({id:e.PROP.PROCESS_POINT});else if(i===e.COMP_TYPE.VALIDATION){if(p=Q([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.REGION,e.COMP_TYPE.TAB_FORM_COLUMN,e.COMP_TYPE.IG_COLUMN],t))switch(p.typeId){case e.COMP_TYPE.PAGE_ITEM:C({id:e.PROP.ASSOCIATED_ITEM,value:p.id});break;case e.COMP_TYPE.REGION:C({id:e.PROP.VALIDATION_REGION,value:p.id});break;case e.COMP_TYPE.TAB_FORM_COLUMN:case e.COMP_TYPE.IG_COLUMN:_=p.getProperty(e.PROP.COLUMN_NAME).getValue(),C({id:e.PROP.VALIDATION_REGION,value:p.parentId}),C({id:e.PROP.ASSOCIATED_COLUMN,value:_}),C({id:e.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),C({id:e.PROP.REGION_VAL_COLUMN,value:_}),C({id:e.PROP.ERROR_MESSAGE,value:s("COLUMN_NOT_NULL_VALIDATION")})}}else if(i===e.COMP_TYPE.BRANCH)C({id:e.PROP.BRANCH_POINT});else if(i===e.COMP_TYPE.DA_EVENT)if(p=Q([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE,e.COMP_TYPE.IG_COLUMN],t))switch(p.typeId){case e.COMP_TYPE.PAGE_ITEM:C({id:e.PROP.EVENT,value:"change"}),C({id:e.PROP.WHEN_TYPE,value:"ITEM"}),C({id:e.PROP.WHEN_ITEMS,value:p.getProperty(e.PROP.ITEM_NAME).getValue()});break;case e.COMP_TYPE.BUTTON:-1!==o.inArray(p.getProperty(e.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])?C({id:e.PROP.EVENT,value:"apexafterclosedialog"}):C({id:e.PROP.EVENT,value:"click"}),C({id:e.PROP.WHEN_TYPE,value:"BUTTON"}),C({id:e.PROP.WHEN_BUTTON,value:p.id});break;case e.COMP_TYPE.REGION:C({id:e.PROP.EVENT,value:"apexafterrefresh"}),C({id:e.PROP.WHEN_TYPE,value:"REGION"}),C({id:e.PROP.WHEN_REGION,value:p.id});break;case e.COMP_TYPE.PAGE:C({id:e.PROP.EVENT,value:"ready"});break;case e.COMP_TYPE.IG_COLUMN:C({id:e.PROP.EVENT,value:"change"}),C({id:e.PROP.WHEN_TYPE,value:"COLUMN"}),C({id:e.PROP.WHEN_REGION,value:p.parentId}),C({id:e.PROP.WHEN_COLUMNS,value:p.getProperty(e.PROP.COLUMN_NAME).getValue()})}else C({id:e.PROP.EVENT});else i===e.COMP_TYPE.DA_ACTION?(C({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),C(void 0!==a?{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:a}:{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS})):i===e.COMP_TYPE.TAB_FORM_COLUMN||i===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(r=(p=Q(e.COMP_TYPE.REGION,t)).id,P=p.getChilds(i),C({id:e.PROP.QUERY_COLUMN_ID,value:P.length+1}),C({id:e.PROP.DERIVED_COLUMN,value:"Y"}),C({id:e.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===a?(C({id:e.PROP.COLUMN_NAME,value:"CHECK$01"}),C({id:e.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),C({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===a&&(P=p.getChilds(i,{properties:[{id:e.PROP.DERIVED_COLUMN,value:"Y"}]},(function(t,n){return t.getProperty(e.PROP.COLUMN_NAME).getValue()>n.getProperty(e.PROP.COLUMN_NAME).getValue()?1:-1})),C({id:e.PROP.COLUMN_NAME,value:"DERIVED$"+(P.length<8?"0":"")+(P.length+1)}),C({id:i===e.COMP_TYPE.TAB_FORM_COLUMN?e.PROP.TAB_FORM_COLUMN_TYPE:e.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),C({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"}))):i===e.COMP_TYPE.IG_COLUMN?(r=(p=Q(e.COMP_TYPE.REGION,t)).id,C({id:e.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),C({id:e.PROP.IG_COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.CARD_ACTION?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CARD)[0].id:i===e.COMP_TYPE.IR_COLUMN_GROUP?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.IR_ATTRIBUTES)[0].id:i===e.COMP_TYPE.IG_COLUMN_GROUP?r=Q(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.CHART_SERIES?(r=(p=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CHART)[0]).id,C({id:e.PROP.SERIES_CHART_TYPE,value:p.getProperty(e.PROP.CHART_TYPE).getValue()})):i===e.COMP_TYPE.JET_CHART_SERIES?(r=(p=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0]).id,C({id:e.PROP.SERIES_CHART_TYPE,value:p.getProperty(e.PROP.JET_CHART_TYPE).getValue()})):i===e.COMP_TYPE.MAP_CHART_SERIES?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.MAP_CHART)[0].id:i===e.COMP_TYPE.FACET||i===e.COMP_TYPE.FACET_GROUP?r=(p=Q(e.COMP_TYPE.REGION,t)).id:i===e.COMP_TYPE.FACET_GROUP_ITEM&&(r=(p=Q(e.COMP_TYPE.FACET_GROUP,t)).id,C({id:e.PROP.FACET_REGION,typeId:e.COMP_TYPE.REGION}));T&&(E=t._parent.id),d=i===e.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===a?void 0:i===e.COMP_TYPE.DA_EVENT?"last":T||"last",O=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:i}),c=e.transaction.start("",O),l=new e.Component({previousComponent:d,typeId:i,parentId:r,values:I}),i===e.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===l.getProperty(e.PROP.EVENT).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:e.PROP.AFFECTED_TYPE,value:"REGION"},{id:e.PROP.AFFECTED_REGION,value:p?p.getProperty(e.PROP.REGION).getValue():""}]}):l.getProperty(e.PROP.WHEN_TYPE)&&"COLUMN"===l.getProperty(e.PROP.WHEN_TYPE).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:e.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:e.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(c),w([l],n,E,!0)}function k(t){for(var n=t.treeView("getSelectedNodes"),i=[],a=0;a<n.length;a++)n[a].data&&n[a].data.hasOwnProperty("componentId")&&i.push(e.getComponents(n[a].data.typeId,{id:n[a].data.componentId})[0]);return i}function j(e,t,n){var i;return n&&(i=t.treeView("find",{depth:-1,match:function(e){return e.id===n}})),t.treeView("find",{parentNodeContent$:i,depth:-1,findAll:!0,match:function(t){return t.data.typeId===e.typeId&&t.data.componentId===e.id}})}function J(e,t,n){return t.treeView("getNodes",j(e,t,n))[0]}function X(t,n){var i,a=[];return(i=t instanceof jQuery?n.treeView("getNodes",t)[0]:t).data&&i.data.typeId&&i.data.componentId&&(a=e.getComponents(i.data.typeId,{id:i.data.componentId})),1===a.length?a[0]:void 0}function Q(e,t){var n,i=o.isArray(e)?e:[e];return t&&(void 0===(n=X(t))||n&&-1===o.inArray(n.typeId,i))&&(n=Q(i,t._parent)),n}function $(e,t){return t?t.data.hasOwnProperty(e)?t.data[e]:$(e,t._parent):""}function K(e,t,n){j(e,t).each((function(){var e=o(this);n.call(function(e,t){return t.treeView("getNodes",e)}(e,t)[0]),t.treeView("update",e)}))}function z(t){return o.inArray(t.typeId,e.NO_NODE_COMP_TYPES)>-1?z(t.getParent()):t}function Z(e,t,n){K(z(e),n,(function(){this.data&&this.data.isPlain||(this.classes+=" "+t)}))}function q(e,t,n){K(z(e),n,(function(){this.classes=o.grep(this.classes.split(" "),(function(e){return e!==t})).join(" ")}))}function ee(n,i){var a=n(),r=o.apex.treeView.makeDefaultNodeAdapter(a,function(){function t(t){var n=X(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1}function n(t){return"CHECK$01"!==X(t).getProperty(e.PROP.COLUMN_NAME).getValue()}function i(t){return-1===o.inArray(Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CHART)[0].getProperty(e.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])}function a(t){return-1===o.inArray(Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0].getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])}return{default:{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},main_computations:{validChildren:["computations"]},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},main_processes:{validChildren:["processes"]},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},main_branches:{validChildren:["branches"]},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_regions:{validChildren:["regions"]},regions:{operations:{canAdd:!0},validChildren:["region"]},sub_regions:{operations:{canAdd:!0},validChildren:["region"]},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["page_items","region_buttons","inline_da_events","region_columns","ig_columns","chart_series","map_chart_series","svg_chart_series","jet_chart_series","jet_chart_axes","facets","ir_column_groups","ir_saved_reports","ig_column_groups","ig_saved_reports","region","page_item","region_button"]},main_page_items:{validChildren:["page_items"]},page_items:{operations:{canAdd:!0},validChildren:["page_item","region_button","form_button"]},page_item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},form_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:t,canDrag:n,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},card_actions:{operations:{canAdd:!0},validChildren:["card_action"]},card_action:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:t,canDrag:!0}},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:n,canDelete:function(t){return"Y"===X(t).getProperty(e.PROP.DERIVED_COLUMN).getValue()}}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},facets:{operations:{canAdd:!0},validChildren:["facet","facet_group"]},facet:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},facet_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["facet_group_items"]},facet_group_items:{operations:{canAdd:!0},validChildren:["facet_group_item"]},facet_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},chart_attributes:{validChildren:["chart_series"]},chart_series:{operations:{canAdd:i},validChildren:["chart_serie"]},chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:i,canDuplicate:function(t){return-1===o.inArray(X(t).getParent().getProperty(e.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_series:{operations:{canAdd:a},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:a,canDuplicate:function(t){return-1===o.inArray(X(t).getParent().getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.JET_CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},map_chart_series:{operations:{canAdd:!0},validChildren:["map_chart_serie"]},map_chart_serie:{icon:"icon-tree-map-series",operations:{canDuplicate:!0,canDelete:function(t){return e.getComponents(e.COMP_TYPE.MAP_CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},main_buttons:{validChildren:["region_buttons"]},region_buttons:{operations:{canAdd:!0},validChildren:["region_button","form_button"]},region_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_da_events:{validChildren:["da_events"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}}}}(),!0,function(e){var t=[];function n(e){return!(!i||!0!==i[e.id])||!(!e.state||!e.state.opened||i&&!1===i[e.id])}return n(e)&&t.push(e.id),function e(i){for(var a=0;a<i.length;a++)n(i[a])&&t.push(i[a].id),i[a].children&&e(i[a].children)}(e.children),t}(a));return r.sortCompare=null,r.defaultGetIcon=r.getIcon,r.getIcon=function(n){if(n.data){if(n.data.typeId===e.COMP_TYPE.REGION)return t.getComponentIconClass("region",X(n).getProperty(e.PROP.REGION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.PAGE_ITEM)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.FACET)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.FACET_GROUP_ITEM)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.BUTTON)return t.getComponentIconClass("button","Y"===X(n).getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(n.data.typeId===e.COMP_TYPE.CARD_ACTION)return t.getComponentIconClass("card-action",X(n).getProperty(e.PROP.CARD_ACTION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CLASSIC_RPT_COLUMN)return t.getComponentIconClass("col",X(n).getProperty(e.PROP.CLASSIC_REPORT_COLUMN_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IR_COLUMN)return t.getComponentIconClass("col",X(n).getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IG_COLUMN){if("Y"===X(n).getParent().getChilds(e.COMP_TYPE.IG_ATTRIBUTES,{})[0].getProperty(e.PROP.IS_EDITABLE).getValue())return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue())}else if(n.data.typeId===e.COMP_TYPE.JET_CHART_AXES)return"icon-"+X(n).getProperty(e.PROP.NAME).getValue().toLowerCase()+"-axis"}return this.defaultGetIcon(n)},r.extraCheck=function(t,n,i,a,r){var p,_;if(t){if(-1!==o.inArray(n,["canDelete","canRename","canDrag","canDuplicate"]))return(p=X(i))&&!p.isReadOnly()&&!e.isPageReadOnly();if("canAdd"===n&&e.isPageReadOnly())return!1;if("canAdd"===n&&"move"===a&&-1!==o.inArray(i.type,["region_columns","ig_columns","ir_column_groups","ig_column_groups","facets","chart_series","map_chart_series","jet_chart_series","jet_chart_axes"])&&r){for(_=0;_<r.length;_++)if(r[_]._parent&&r[_]._parent!==i)return!1}else if("canAdd"===n&&"move"===a&&"facet_group_items"===i.type&&r)for(_=0;_<r.length;_++)if(r[_]._parent&&r[_]._parent._parent._parent!==i._parent._parent)return!1}return t},r.renderNodeContent=function(e,n,i,a){var o,r,p;i.nodeSelector>0&&n.markup('<span class="u-selector"></span>'),null!==(o=this.getIcon(e))&&n.markup("<span").attr("class","a-Icon "+o).markup("></span>"),(r=this.getClasses(e))&&(r.indexOf(t.CSS.IS_ERROR)>=0?p="icon-error":r.indexOf(t.CSS.IS_WARNING)>=0&&(p="icon-warning")),n.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",a.level).optionalAttr("aria-selected",a.selected?"true":"false").optionalAttr("aria-disabled",a.disabled?"true":null).optionalAttr("aria-expanded",!1===a.hasChildren?null:a.expanded?"true":"false").markup(">"),p&&n.markup("<span class='a-Icon ").attr(p).markup("'></span>"),n.content(this.getLabel(e)).markup("</span>")},function(){return r}}function te(n,a,r){n.treeView({getNodeAdapter:ee(a),showRoot:r,collapsibleRoot:!1,expandRoot:!1,contextMenu:ie(n),contextMenuId:n[0].id+"Menu",multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(e,n){var i=X(n);if(i)return t.tooltipContentForComponent(i)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var e,t=this.id;e=k(o(this)),i.trace("%s: trigger event selectionChanged",t,e),o(document).trigger("selectionChanged",[t,e])},added:function(e,t){},moved:function(t,n){!function(t,n){var i,a,o,r=[];if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.MOVE,component:X(t.items[0].toNode),count:t.items.length}),o=e.transaction.start("",a);for(var p=0;p<t.items.length;p++)r[p]=X(t.items[p].toNode),0===t.items[p].toIndex?i=null:(i=X(t.parentNode.children[t.items[p].toIndex-1]))||(i="last"),r[p].move(i,H(t.items[p].toNode));apex.commandHistory.execute(o)}}(n)},copied:function(t,i){!function(t,n){var i,a,o,r,p=[];if(t.items.length>0){o=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:X(t.items[0].toNode),count:t.items.length}),r=e.transaction.start("",o);for(var _=0;_<t.items.length;_++)i=X(t.items[_].toNode),0===t.items[_].toIndex?a=null:(a=X(t.parentNode.children[t.items[_].toIndex-1]))||(a="last"),p[_]=i.duplicate(),p[_].move(a,H(t.items[_].toNode));apex.commandHistory.execute(r),w(p,n,t.items[0].toNode._parent.id,!0)}}(i,n)},deleted:function(t,n){!function(t,n){var i,a,o;if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:X(t.items[0].node),count:t.items.length}),o=e.transaction.start("",a);for(var r=0;r<t.items.length;r++)(i=X(t.items[r].node))&&i.remove()}apex.commandHistory.execute(o)}(n)}}),n.on("refresh",(function(){var e=n.treeView("getExpandedState");i.trace("%s: refresh tree",n[0].id),n.treeView("option","getNodeAdapter",ee(a,e))})),function(n){var a,r=n[0].id,p=null,_=[];"PDrenderingTree"===r?(p=null,a=null):"PDdynamicActionTree"===r?p=[{typeId:e.COMP_TYPE.DA_EVENT},{typeId:e.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===r?p=[{typeId:e.COMP_TYPE.BRANCH},{typeId:e.COMP_TYPE.PAGE_COMPUTATION},{typeId:e.COMP_TYPE.PAGE_PROCESS},{typeId:e.COMP_TYPE.VALIDATION},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A}]:"PDsharedCompTree"===r&&(p=[],a={},function e(t){for(var n,i=0;i<t.length;i++){if(t[i].hasOwnProperty("typeId")){a[t[i].typeId]=!0,n=B(t[i].typeId);for(var o=0;o<n.length;o++)p.push({typeId:n[o].typeId}),_.push(n[o].propertyId)}t[i].children&&e(t[i].children)}}(P));if(void 0===a){a={};for(var s=0;s<p.length;s++)a[p[s].typeId]=!0}e.observer(r,{components:p,events:[e.EVENT.DISPLAY_TITLE]},(function(e){i.trace("%s: DISPLAY_TITLE component notification received",r,e),K(e.component,n,(function(){this.label=e.component.getDisplayTitle()}))})),e.observer(r,{components:p,events:[e.EVENT.CREATE,e.EVENT.DELETE]},(function(e){i.trace("%s: CREATE/DELETE component notification received",r,e),n.trigger("refresh")}),!0),"PDsharedCompTree"===r?e.observer(r,{components:p,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:_},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",r,e),n.trigger("refresh")}),!0):(e.observer(r,{components:p,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.EXECUTION_SEQUENCE,e.PROP.DISPLAY_SEQUENCE,e.PROP.BRANCH_POINT,e.PROP.PROCESS_POINT,e.PROP.COMPUTATION_POINT,e.PROP.BUTTON_POSITION,e.PROP.REGION_POSITION,e.PROP.PARENT_REGION,e.PROP.REGION,e.PROP.VALIDATION_REGION,e.PROP.VAL_ITEM,e.PROP.REGION_VAL_COLUMN,e.PROP.REGION_TYPE,e.PROP.ASSOCIATED_ITEM,e.PROP.ASSOCIATED_COLUMN,e.PROP.COMPUTATION_ITEM_NAME,e.PROP.EVENT,e.PROP.DA_EVENT,e.PROP.DA_ACTION_TYPE,e.PROP.FIRE_WHEN_EVENT_RESULT_IS,e.PROP.FIRE_ON_PAGE_LOAD,e.PROP.FACET_GROUP,e.PROP.WHEN_REGION,e.PROP.WHEN_ITEMS,e.PROP.WHEN_COLUMNS,e.PROP.WHEN_BUTTON]},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",r,e),n.trigger("refresh")}),!0),e.observer(r,{components:p,events:[e.EVENT.CHANGE]},(function(e){e.component.hasChanged()?Z(e.component,t.CSS.IS_CHANGED,n):q(e.component,t.CSS.IS_CHANGED,n)})),e.observer(r,{components:p,events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS]},(function(e){e.component.hasErrors()?Z(e.component,t.CSS.IS_ERROR,n):q(e.component,t.CSS.IS_ERROR,n)})),e.observer(r,{components:p,events:[e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){e.component.hasWarnings()?Z(e.component,t.CSS.IS_WARNING,n):q(e.component,t.CSS.IS_WARNING,n)})),t.observerIsConditional(r,p,(function(e){q(e.component,t.CSS.IS_CONDITIONAL,n),q(e.component,t.CSS.IS_NEVER,n),t.isNever(e.component)?Z(e.component,t.CSS.IS_NEVER,n):t.isConditional(e.component)&&Z(e.component,t.CSS.IS_CONDITIONAL,n)})));o(document).on("selectionChanged."+r,(function(e,t,o){t!==r&&(i.trace("%s: selectionChanged event received from %s",r,t,o),(0===o.length||null===a||a.hasOwnProperty(o[0].typeId))&&w(o,n,null,!1))}))}(n)}function ne(t){var n=t[0].id;e.unobserver(n,{}),o(document).off("selectionChanged."+n),t.off("refresh"),t.treeView("destroy")}function ie(n){var i=[],a=0;function r(e){return e.call(n.treeView("getSelectedNodes"))}function p(t,n){return 1===t.length&&-1!==o.inArray(t[0].type,n)&&!e.isPageReadOnly()}function _(t,n){return!e.isGlobalPage()&&p(t,n)}function P(t,n){var i=Q(e.COMP_TYPE.REGION,t);return-1!==o.inArray(i.getProperty(e.PROP.REGION_TYPE).getValue(),n)}function c(t,n){var i;return-1!==o.inArray(t.type,["region","ig_column"])&&"NATIVE_IG"===(i=Q(e.COMP_TYPE.REGION,t)).getProperty(e.PROP.REGION_TYPE).getValue()?"Y"===i.getChilds(e.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(e.PROP.IS_EDITABLE).getValue():n}function l(t,n){apex.navigation.redirect(t.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,n).replace(/%application_id%/g,e.getCurrentAppId()).replace(/%page_id%/g,e.getCurrentPageId()))}function d(t,n){var i=X(t,n);l(e.getComponentType(i.typeId).copyUrl,i.id)}function O(t,n){var i,a,r=X(t,n),p=r.getProperty(e.PROP.BRANCH_TYPE).getValue(),_=null;return"REDIRECT_URL"===p?(i=r.getProperty(e.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(i)&&("&FLOW_ID."!==(a=RegExp.$1)&&"&APP_ID."!==a&&a!==e.getCurrentAppId()||(_=RegExp.$2))):-1!==o.inArray(p,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])&&(_=r.getProperty(e.PROP.BRANCH_PAGE_NUMBER).getValue()),_}function T(t){var P,s,c,l={label:t.label,accelerator:t.accelerator,type:t.type};a++,l.id=n[0].id+"_ctx_"+a,l.type||(l.type="action",P=t.action),t.typeId&&(t.label||(l.label=(c=t.typeId,E("CREATE",e.getComponentType(c).title.singular))),P||(P=function(){W(this[0],n,t.typeId)})),l.action=function(){return r(P)},t.visible&&(s=o.isFunction(t.visible)?t.visible:o.isArray(t.visible)?function(){return p(this,t.visible)}:!1===t.visible.global?function(){return _(this,t.visible.types)}:function(){return p(this,t.visible.types)},l.hide=function(){return!r(s)}),t.disabled&&(l.disabled=function(){return r(t.disabled)}),i.push(l)}function I(t,n){T({label:t,action:function(){var t,n,i,a;t=Q(e.COMP_TYPE.REGION,this[0]),n=e.getSourceLocationProperty(t),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),a=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(a)},visible:function(){var t,i;return!(e.isPageReadOnly()||!_(this,["region","ig_columns","region_columns","page_items"]))&&(i=(t=Q(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue(),e.getSourceLocationProperty(t)&&(!n&&"NATIVE_FORM"!==i||i===n))}})}return T({typeId:e.COMP_TYPE.REGION,visible:["main_regions","regions","region","before_footer"]}),T({label:E("CREATE",s("SUB_REGION")),action:function(){W(this[0],n,e.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){var e=X(this[0],n);return!(e&&(!e||e.isOnGlobalPage()))&&p(this,["region","sub_regions"])}}),T({typeId:e.COMP_TYPE.PAGE_ITEM,visible:["main_page_items","page_items","page_item","form_button","region"]}),T({typeId:e.COMP_TYPE.BUTTON,visible:["main_buttons","region_buttons","region_button","region","page_items","page_item","form_button"]}),T({typeId:e.COMP_TYPE.BRANCH,visible:{global:!1,types:["main_branches","branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),T({typeId:e.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["main_computations","computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","page_item"]}}),T({typeId:e.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["main_processes","processes","process","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),T({typeId:e.COMP_TYPE.VALIDATION,visible:function(){return!!_(this,["validation","validations","validating","inline_validations","inline_validation","page_item"])||_(this,["region","tabform_column","ig_column"])&&(P(this[0],["NATIVE_TABFORM"])||c(this[0],!1))}}),T({typeId:e.COMP_TYPE.DA_EVENT,visible:function(){return!!p(this,["main_da_events","da_events","da_event","inline_da_events","inline_da_event","region","page_item","ig_column","region_button","form_button"])&&("ig_column"!==this[0].type||c(this[0],!1))}}),T({typeId:e.COMP_TYPE.DA_ACTION,visible:["da_action"]}),T({label:E("CREATE",s("TRUE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){W(this[0],n,e.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),T({label:E("CREATE",s("FALSE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){W(this[0],n,e.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),T({label:E("CREATE",s("OPPOSITE_DYNAMIC_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){!function(t,n){var i,a,o,r,p,_,P,s={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},E=[],c=[];_=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:X(t[0]),count:t.length}),P=e.transaction.start("",_);for(var l=0;l<t.length;l++){if(a=(i=X(t[l])).getProperty(e.PROP.DA_ACTION_TYPE).getValue(),s.hasOwnProperty(a)){for(E.push({id:e.PROP.DA_ACTION_TYPE,value:s[a]}),o=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,a,o);r&&i.getProperty(r.id)&&o<=15;)E.push({id:e.getPluginProperty(e.COMP_TYPE.DA_ACTION,s[a],o).id,value:i.getProperty(r.id).getValue()}),o++,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,a,o);E.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:i.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()})}p="TRUE"===i.getProperty(e.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",E.push({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:p}),c.push(i.duplicate(E)),c[c.length-1].move("last")}apex.commandHistory.execute(P),w(c,n,t[0]._parent._parent.id,!0)}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if("da_action"!==this[e].type||!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),T({label:E("CREATE",s("VIRTUAL_COLUMN")),action:function(){P(this[0],["NATIVE_TABFORM"])?W(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):W(this[0],n,e.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return p(this,["region_columns","classic_report_column","tabform_column"])&&P(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),T({label:E("CREATE",s("ROW_SELECTOR")),action:function(){W(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var t;return!(!p(this,["region_columns","tabform_column"])||"NATIVE_TABFORM"!==(t=Q(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue())&&0===t.getChilds(e.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:e.PROP.COLUMN_NAME,value:"CHECK$01"}]}).length}}),T({typeId:e.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),T({typeId:e.COMP_TYPE.FACET,visible:["facets","facet","facet_group"]}),T({typeId:e.COMP_TYPE.FACET_GROUP,visible:["facets","facet","facet_group"]}),T({typeId:e.COMP_TYPE.FACET_GROUP_ITEM,visible:["facet_group","facet_group_items","facet_group_item"]}),T({typeId:e.COMP_TYPE.CHART_SERIES,visible:function(){return!!p(this,["chart_series","chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),T({typeId:e.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!p(this,["jet_chart_series","jet_chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),T({typeId:e.COMP_TYPE.MAP_CHART_SERIES,visible:["map_chart","map_chart_series","map_chart_serie"]}),T({typeId:e.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_column_groups","ir_column_group"]}),T({typeId:e.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_column_groups","ig_column_group"]}),T({typeId:e.COMP_TYPE.CARD_ACTION,visible:["card_actions","card_action"]}),T({label:s("DUPLICATE"),action:function(){!function(t,n){var i,a,o=[];if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:X(t[0]),count:t.length}),a=e.transaction.start("",i);for(var r=0;r<t.length;r++)o.push(X(t[r]).duplicate());apex.commandHistory.execute(a),w(o,n,t[0]._parent.id,!0)}}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),T({type:"separator"}),I(s("SYNCHRONIZE_COLUMNS")),I(s("SYNCHRONIZE_PAGE_ITEMS"),"NATIVE_FORM"),T({type:"separator"}),T({label:s("DELETE"),accelerator:"Del",action:function(){return function(t,n){var i,a;if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:X(t[0]),count:t.length}),a=e.transaction.start("",i);for(var o=0;o<t.length;o++)X(t[o]).remove();apex.commandHistory.execute(a)}}(this),!0},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").allowDelete(this[e]))return!1;return!0}}),T({type:"separator"}),T({label:s("COPY_TO_PAGE"),action:function(){d(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&e.getComponentType(X(this[0]).typeId).isPageComponent&&!X(this[0]).isOnGlobalPage()}}),T({label:s("EDIT_SHARED_COMPONENT"),action:function(){!function(t,n){var i=X(t,n);l(e.getComponentType(i.typeId).editUrl,i.id)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!e.getComponentType(X(this[0],n).typeId).isPageComponent}}),T({label:s("COPY_SHARED_COMPONENT"),action:function(){d(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!e.getComponentType(X(this[0],n).typeId).isPageComponent}}),T({label:s("CREATE_SHARED_COMPONENT"),action:function(){!function(t,n){var i;i=X(t,n)?X(t,n).typeId:t.data.typeId,l(e.getComponentType(i).createUrl)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),T({label:s("PAGE_SEARCH"),action:function(){o(document).trigger("pageSearch",[X(this[0],n).getDisplayTitle()])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canSearch",this[0])}}),T({label:s("GOTO_TARGET_PAGE"),action:function(){t.goToPage(O(this[0],n))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===O(this[0],n)}}),T({type:"separator"}),T({label:s("EXPAND_ALL_BELOW"),action:function(){n.treeView("expandAll",n.treeView("getSelection"))}}),T({label:s("COLLAPSE_ALL_BELOW"),action:function(){n.treeView("collapseAll",n.treeView("getSelection"))}}),{items:i}}o((function(){var e=o("#trees"),t=o("#PDrenderingTree"),n=o("#PDdynamicActionTree"),a=o("#PDprocessingTree"),r=o("#PDsharedCompTree");e.on("tabsactivate",(function(e,t){var n,a=t.newPanel.find(".a-TreeView");a.length>0&&(n=k(a)).length>0&&(i.trace("%s: trigger event selectionChanged",a.id,n),o(document).trigger("selectionChanged",[a.id,n]))})),o(document).on("modelReady",(function(){te(t,V,!0),te(n,U,!1),te(a,F,!1),te(r,x,!1),o(document).one("modelCleared",(function(){ne(t),ne(n),ne(a),ne(r)}))}))}))}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
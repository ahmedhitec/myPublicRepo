/*! jQuery UI - v1.12.1 - 2018-10-14
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */
!function(a){"function"==typeof define&&define.amd?define(["jquery","../escape-selector","../keycode","../safe-active-element","../unique-id","../version","../widget"],a):a(jQuery)}(function(a){return a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;c=b.href.replace(a,""),d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(e){}try{d=decodeURIComponent(d)}catch(e){}return b.hash.length>1&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,c.collapsible),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(c.active):this.active=a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){if(a(e).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==b&&b!==-1||(b=!!this.tabs.length&&0)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=!c&&0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(a.ui.safeActiveElement(this.document[0])).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d!==this.options.active&&d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),b<0&&(b=e),b}for(var e=this.tabs.length-1;a.inArray(d(),this.options.disabled)!==-1;)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).trigger("focus"),a},_setOption:function(a,b){return"active"===a?void this._activate(b):(this._super(a,b),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=a(),this.anchors.each(function(c,d){var e,f,g,h=a(d).uniqueId().attr("id"),i=a(d).closest("li"),j=i.attr("aria-controls");b._isLocal(d)?(e=d.hash,g=e.substring(1),f=b.element.find(b._sanitizeSelector(e))):(g=i.attr("aria-controls")||a({}).uniqueId()[0].id,e="#"+g,f=b.element.find(e),f.length||(f=b._createPanel(g),f.insertAfter(b.panels[c-1]||b.tablist)),f.attr("aria-live","polite")),f.length&&(b.panels=b.panels.add(f)),j&&i.data("ui-tabs-aria-controls",j),i.attr({"aria-controls":g,"aria-labelledby":h}),f.attr("aria-labelledby",h)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var c,d,e;for(a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1),e=0;d=this.tabs[e];e++)c=a(d),b===!0||a.inArray(e,b)!==-1?(c.attr("aria-disabled","true"),this._addClass(c,null,"ui-state-disabled")):(c.removeAttr("aria-disabled"),this._removeClass(c,null,"ui-state-disabled"));this.options.disabled=b,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,b===!0)},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(a){a.preventDefault()}}),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=!h&&this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){f._addClass(c.newTab.closest("li"),"ui-tabs-active","ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){f._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),e()}):(this._removeClass(c.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),h.hide(),e()),h.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+a.ui.escapeSelector(b)+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;c!==!1&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setOptionDisabled(c))},disable:function(b){var c=this.options.disabled;if(c!==!0){if(void 0===b)c=!0;else{if(b=this._getIndex(b),a.inArray(b,c)!==-1)return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setOptionDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b),f=e.find(".ui-tabs-anchor"),g=this._getPanelForTab(e),h={tab:e,panel:g},i=function(a,b){"abort"===b&&d.panels.stop(!1,!0),d._removeClass(e,"ui-tabs-loading"),g.removeAttr("aria-busy"),a===d.xhr&&delete d.xhr};this._isLocal(f[0])||(this.xhr=a.ajax(this._ajaxSettings(f,c,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a),d._trigger("load",c,h),i(e,b)},1)}).fail(function(a,b){setTimeout(function(){i(a,b)},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}}),a.uiBackCompat!==!1&&a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),a.ui.tabs});
!function(e,t,i,s){"use strict";var n="a-TreeView-node",r="."+n,o="a-TreeView-row",a="."+o,l="a-TreeView-content",d="."+l,h=d+", "+a,c="a-TreeView-toggle",p="is-selected",f="is-disabled",u="is-focused",g="is-expandable",m="is-collapsible",v="a-TreeView-node--leaf",_="aria-expanded",b="aria-selected",w="aria-level",y="true",x=s.ui.keyCode;function C(){return new Error("Unsupported by model")}function I(){return new Error("Parent node required")}function N(e,t){var i,n,r="",o=e.className.split(" ");for(i=0;i<o.length;i++)n=o[i],s.inArray(n,t)>=0&&(r+=" "+n);e.className=r.substr(1)}function S(e){return e.parent().children(":visible").index(e)}function T(e){var t=e.get(0).id;return t.substring(t.lastIndexOf("_")+1)}function k(e,t){return parseInt(e.children(d).find(t).attr(w),10)}function A(e,t){return parseInt(e.find(t).attr(w),10)}var P=function(e,t){e._trigger("selectionChange",t)},D=t.debounce(P,1),O=t.debounce(P,350),E=null;function V(e,t,i,s,n){var r,o,a,l;i.renderNodeContent?i.renderNodeContent(t,e,s,n):(s.nodeSelector>0&&(l="u-selector",1===s.nodeSelector&&(l+=" u-selector--single"),e.markup('<span class="'+l+'"></span>')),i.getIcon&&null!==(r=i.getIcon(t))&&e.markup("<span").attr("class",s.iconType+" "+r).markup("></span>"),(o=s.useLinks&&i.getLink&&i.getLink(t))?(E&&o.match(/^#\S*$/)&&(o=E+o),a="a"):a="span",e.markup("<"+a+" tabIndex='-1' role='treeitem'").attr("class",s.labelClass).optionalAttr("href",o).attr(w,n.level).attr(b,n.selected?y:"false").optionalAttr("aria-disabled",n.disabled?y:null).optionalAttr(_,!1===n.hasChildren?null:n.expanded?y:"false").markup(">").content(i.getLabel(t)).markup("</"+a+">"))}function M(e){e.tabIndex=0,e.focus()}function R(e){var t;return e.hasClass(m)?t=e.children("ul").children("li").first():0===(t=e.next()).length&&(t=e.parent().parents("li").next("li").first()),t}function L(e){var t;return(t=e.prev()).length>0?t.hasClass(m)&&(t=t.find("li").filter(":visible").last()):t=e.parent().parent("li"),t}function F(e,t,i,n,r){var o=e.val(t).width(i).keydown((function(e){var t=e.which;e.shiftKey||e.ctrlKey||e.altKey||(t===x.ENTER?(n(s(this).val(),!0),e.preventDefault()):t===x.ESCAPE&&(setTimeout((function(){r(!0)}),10),e.preventDefault()))})).blur((function(e){n(s(this).val(),!1)}))[0];return M(o),o.select(),o}s("base").length&&(E=window.location.pathname+window.location.search);var K={begin:function(e,t){this.text="<ul>\r\n"},node:function(e,i,s){this.text+="<li>"+t.escapeHTML(s)+"</li>\r\n"},end:function(){this.text+="</ul>\r\n"},toString:function(){return this.text}};s.widget("apex.treeView",s.ui.mouse,s.extend(!0,{version:"19.1",widgetEventPrefix:"treeview",options:{getNodeAdapter:null,adapterTypesMap:null,showRoot:!0,expandRoot:!0,collapsibleRoot:!0,autoCollapse:!1,useLinks:!0,multiple:!1,nodeSelector:!1,allowCopy:!0,dataTransferFormats:[{format:"text/plain",writer:Object.create({begin:function(e,t){this.text=""},node:function(e,t,i){t>0&&(this.text+="\r\n"),this.text+=i},end:function(){},toString:function(){return this.text}})},{format:"text/html",writer:Object.create(K)}],idPrefix:null,iconType:"a-Icon",labelClass:"a-TreeView-label",doubleClick:!1,clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!1,tooltip:null,navigation:!1,dragAndDrop:!1,dragMultiple:!1,dragReorder:!1,dragAppendTo:"parent",dragContainment:!1,dragCursor:"auto",dragCursorAt:!1,dragHelper:null,dragOpacity:!1,dragAnimate:!1,dragExpandDelay:1200,dragScroll:!0,dragScrollSensitivity:20,dragScrollSpeed:10,dragZIndex:1e3,scope:"default",activate:null,deactivate:null,out:null,over:null,start:null,drag:null,beforeStop:null,stop:null,selectionChange:null,expansionStateChange:null,activateNode:null,beginEdit:null,endEdit:null,added:null,renamed:null,deleted:null,moved:null,copied:null},scrollTimerId:null,delayExpandTimer:null,hasCurrent:!1,tooltipOptions:null,triggerTimerId:null,forwardKey:x.RIGHT,backwardKey:x.LEFT,scrollParent:null,animating:!1,dragging:!1,dragItems:null,currentItem:null,_create:function(){var e=this,t=this.element,i=this.options;if(i.getNodeAdapter||(i.getNodeAdapter=this._parseTreeMarkup(t,i.adapterTypesMap||null)),!i.getNodeAdapter)throw new Error("Missing required option getNodeAdapter");this.nodeAdapter=i.getNodeAdapter(),this.containerCache={},!1===i.collapsibleRoot&&(i.expandRoot=!0),t.addClass("a-TreeView").attr("role","tree"),this.baseId=(i.idPrefix||t[0].id||"tree")+"_",this.labelSelector="."+i.labelClass,this.editMode=!1,i.multiple&&t.attr("aria-multiselectable",y),this.rtlFactor=1,"rtl"===t.css("direction")&&(t.addClass("u-RTL"),this.forwardKey=x.LEFT,this.backwardKey=x.RIGHT,this.rtlFactor=-1),i.disabled&&t.attr("aria-disabled",y),i.tooltip&&this._initTooltips(i.tooltip),this._initContextMenu(d,(function(t){return s(t.target).closest("a").length>0||e.editMode}),(function(t){var i="keydown"===t.type&&e.lastFocused?e.lastFocused:t.target,n=s(i).closest(d);return!!n.length&&(!!n.hasClass(p)||n)}),(function(t){t.selectedNodes=e.getNodes(t.selection),t.treeNodeAdapter=e.nodeAdapter})),this.scrollParent=t.scrollParent(),this.offset=this.element.offset(),this._mouseInit(),this._on(this._eventHandlers),i.allowCopy&&apex.clipboard.addHandler(t[0],(function(t){return!e.editMode&&(e._copy(t),!0)})),this._setOption("disabled",i.disabled),this.refresh()},_eventHandlers:{click:function(e){var t,i,n=this.options,o=s(e.target);if(n.multiple||"A"!==e.target.nodeName||!e.shiftKey&&!e.ctrlKey){if(o.hasClass("u-selector"))t=o.closest(r),e.ctrlKey=!0,e.shiftKey=!1,this._select(t.children(d),e,!0),e.preventDefault();else if(o.hasClass(c))this._toggleNode(o.parent()),this.scrollParent&&(a=this.scrollParent,l=a.scrollTop(),h=a,f=null,a[0]===document&&(h=s(window)),h.on("scroll.treeTemp",(function(){a.scrollTop(l),h.off(".treeTemp"),clearTimeout(f)})),f=setTimeout((function(){h.off(".treeTemp")}),20)),this.lastFocused.focus(),e.preventDefault();else if((t=o.closest(r)).length>0){if(i=t.children(d),this.editMode&&i.hasClass(p))return;n.clickToRename&&i.find(this.labelSelector).attr(b)===y&&!e.ctrlKey&&!e.altKey&&1===this.getSelection().length&&o.closest(this.labelSelector).length?this.renameNodeInPlace(i):(this._select(i,e,!0),n.navigation&&(this.keyboardActivate||"activate"!==n.doubleClick)&&this._activate(e)),e.preventDefault()}var a,l,h,f,u;this.keyboardActivate=!1,u={},window.getSelection?u=window.getSelection():document.selection&&(u=document.selection.createRange()),u.rangeCount?u.removeAllRanges():u.text>""&&document.selection.empty()}else this.keyboardActivate=!1},dblclick:function(e){var t,i=this.options.doubleClick;i&&!this.editMode&&(t=s(e.target).closest(r)).length>0&&("toggle"===i?(this._toggleNode(t),e.preventDefault()):"activate"===i&&this._activate(e))},keydown:function(e){var t,i,n,o,l,h=this,c=this.options,p=this.element,f=e.which;e.altKey||"INPUT"===e.target.nodeName||this.dragging||(f!==x.PAGE_UP&&f!==x.PAGE_DOWN||(this.scrollParent?(n=p.find(a).filter(":visible").first().outerHeight()||24,t=p.find("li").filter(":visible").first(),n+=parseInt(t.css("margin-top"),10)+parseInt(t.css("margin-bottom"),10),o=this.scrollParent[0]===document?s(window).height():this.scrollParent[0].clientHeight,l=Math.floor(o/n)-1):l=10),f===x.HOME?(p.find(d).filter(":visible").first().each((function(){h._select(s(this),e,!0,!0)})),e.preventDefault()):f===x.END?(p.find(d).filter(":visible").last().each((function(){h._select(s(this),e,!0,!0)})),e.preventDefault()):f===x.SPACE?(this.lastFocused&&this._select(s(h.lastFocused).closest(d),e,!0,!0),e.preventDefault()):f===x.DOWN?(this._traverseDown(e,1),e.preventDefault()):f===x.UP?(this._traverseUp(e,1),e.preventDefault(),e.stopPropagation()):f===x.PAGE_DOWN?(this._traverseDown(e,l),e.preventDefault()):f===x.PAGE_UP?(this._traverseUp(e,l),e.preventDefault()):f===this.backwardKey?(this.lastFocused&&((t=s(this.lastFocused).closest(r)).hasClass(m)?this._collapseNode(t):t.parent().prevAll(d).each((function(){h._select(s(this),e,!0,!0)}))),e.preventDefault()):f===this.forwardKey?(this.lastFocused&&((t=s(this.lastFocused).closest(r)).hasClass(g)?this._expandNode(t):t.hasClass(m)&&t.children("ul").children("li").first().children(d).each((function(){h._select(s(this),e,!0,!0)}))),e.preventDefault()):f===x.ENTER?"A"===e.target.nodeName||e.shiftKey||e.ctrlKey?this.keyboardActivate=!0:(this._activate(e),e.preventDefault()):113===f&&c.keyboardRename?(i=this.lastFocused&&s(this.lastFocused).closest(d+".is-selected").length>0?s(this.lastFocused).closest(d):this.getSelection().first()).length>0&&this.renameNodeInPlace(i):45===f&&c.keyboardAdd?(i=this.lastFocused&&s(this.lastFocused).closest(d+".is-selected").length>0?s(this.lastFocused).closest(d):this.getSelection().first()).length>0&&this.addNodeInPlace(i):f===x.DELETE&&c.keyboardDelete&&this.deleteNodes(this.getSelection()))},keypress:function(e){var t,i,n=this;if(!(0===e.which||e.ctrlKey||e.altKey||"INPUT"===e.target.nodeName||this.dragging)){if(t=String.fromCharCode(e.which).toLowerCase(),this.searchTimerId)t!==this.searchString&&(this.searchString+=t),clearTimeout(this.searchTimerId),this.searchTimerId=null;else{if(" "===t)return;this.searchString=t}this.searchTimerId=setTimeout((function(){n.searchTimerId=null}),500),(i=function(e){var t,i,o,a=e.length;function l(){0===(i=R(i)).length&&(i=n.element.find(r).filter(":visible").first())}for(i=t=s(n.lastFocused).closest(r),1===a&&l();;){if((o=i.children(d).find(n.labelSelector).first()).text().substring(0,a).toLowerCase()===e)return o.closest(d);if(l(),i[0]===t[0])break}return null}(this.searchString))&&this._select(i,e,!0,!0)}},focusin:function(e){var t=s(e.target).closest(this.labelSelector);t.length&&(t.addClass(u).closest(r).children(a).addClass(u),this._setFocusable(t))},focusout:function(e){s(e.target).closest(this.labelSelector).removeClass(u).closest(r).children(a).removeClass(u)},mousemove:function(e){var t;this.dragging||(t=s(e.target).closest(r)).length&&this.lastHover!==t[0]&&(s(this.lastHover).children(h).removeClass("is-hover"),t.children(h).addClass("is-hover"),this.lastHover=t[0])},mouseleave:function(e){this.dragging||this.lastHover&&(s(this.lastHover).children(h).removeClass("is-hover"),this.lastHover=null)}},_setOption:function(e,t){var n,r=this.options;if(this._checkContextMenuOptions(e,t),"disabled"===e)r[e]=t,this.widget().toggleClass(f,!!t),t?(this.element.attr("aria-disabled",y),this.lastFocused&&(this.lastFocused.tabIndex=-1),this.lastFocused=null):(this.element.removeAttr("aria-disabled"),(n=this.getSelection().first().find(this.labelSelector)).length||(n=this.element.find(this.labelSelector).first()),this._setFocusable(n));else{if("allowCopy"===e)throw new Error("TreeView "+e+" cannot be set");if("dragMultiple"===e&&t&&!r.multiple)throw new Error("TreeView dragMultiple cannot be true when the multiple option is false");if("multiple"===e&&!t&&r.dragMultiple)throw new Error("TreeView multiple cannot be false when the dragMultiple option is true");if("collapsibleRoot"===e)throw new Error("TreeView collapsibleRoot option cannot be set");this._super(e,t)}(r=this.options).multiple&&!r.nodeSelector&&apex.userHasTouched()&&(r.nodeSelector=!0),this.renderNodeOptions={iconType:r.iconType,labelClass:r.labelClass,useLinks:r.useLinks,nodeSelector:r.nodeSelector?r.multiple?2:1:0},"showRoot"===e||"useLinks"===e?this.refresh():"getNodeAdapter"===e?(this.nodeAdapter=r.getNodeAdapter(),this.refresh()):"multiple"===e?(this.element.attr("aria-multiselectable",t?y:"false"),!1===t&&this.getSelection().length>0&&this._select(s(this.lastFocused).closest(d),null,!1,!1)):"expandRoot"===e&&!1===t?!1===r.collapsibleRoot&&(r.expandRoot=!0,i.warn("ExpandRoot option cannot be false when collapsibleRoot is false")):"tooltip"===e&&this._initTooltips(t)},_initTooltips:function(e){var t,n=this;s.ui.tooltip?(this.tooltipOptions&&(this.element.tooltip("destroy"),this.tooltipOptions=null),e&&((t=this.tooltipOptions=s.extend(!0,{},e)).items=this.labelSelector,t.content&&s.isFunction(t.content)&&(t._originalContent=t.content,t.content=function(e){var i=n.getNodes(s(this).closest(d))[0];return t._originalContent.call(this,e,i)}),this.element.tooltip(t))):i.warn("tooltip option ignored because missing tooltip widget dependency")},_destroy:function(){var e=this.element;e.empty().removeClass("a-TreeView u-RTL").removeAttr("role").removeAttr("aria-multiselectable"),apex.clipboard.removeHandler(e[0]),this._destroyContextMenu(),this.options.tooltip&&s.ui.tooltip&&e.tooltip("destroy"),this._mouseDestroy()},refresh:function(e){var i,n,o,a=this,l=this.options,d=this.nodeAdapter,h=null,c=this.element,p=t.htmlBuilder();d.getViewId&&(h=this.getSelectedNodes()),e?e.each((function(){var e=s(this).parent(),t=a.treeMap[T(e)];e.find(r).addBack().each((function(){delete a.treeMap[T(s(this))]})),p.clear(),a._renderNode(t,k(e,a.labelSelector),p),e.replaceWith(p.toString())})):(this.treeMap={},this.nextNodeId=0,d.clearViewId&&d.clearViewId(this.baseId),(i=d.root())?(p.markup("<ul role='group'>"),l.showRoot?this._renderNode(i,1,p):d.hasChildren(i)&&this._renderChildren(i,1,p),p.markup("</ul>"),c.html(p.toString())):(p.markup("<ul role='group'>"),p.markup("</ul>"),c.html(p.toString())),l.expandRoot&&l.showRoot&&(n=this._getRoots()).length>0&&this._expandNode(n)),this.hasCurrent?(o=this.find({depth:-1,match:function(e){return!0===e.current}}),this.hasCurrent=!1,this.setSelection(o)):h&&h.length>0?this.setSelectedNodes(h,!1,!0):(this.selectAnchor=this.lastFocused,this._setFocusable(c.find(this.labelSelector).first()))},getNodeAdapter:function(){return this.nodeAdapter},focus:function(){this.lastFocused&&this.lastFocused.focus()},getTreeNode:function(e){var t,i=this.nodeAdapter;if(!i.getViewId)throw C();return t=i.getViewId(this.baseId,e),s("#"+this.baseId+t).children(d)},getSelection:function(){return this.element.find(d+".is-selected")},getNodes:function(e){var t=this,i=[];return e.each((function(){var e=T(s(this).closest("li"));"new"!==e&&i.push(t.treeMap[e])})),i},getSelectedNodes:function(){return this.getNodes(this.getSelection())},setSelection:function(e,t,i){t=!!t,this.options.multiple||(e=e.first()),this._select(e,null,t,!1,i)},setSelectedNodes:function(e,t,n){var r,o,a,l=[],h=this.nodeAdapter;if(!h.getViewId)throw C();for(t=!!t,this.options.multiple||(e=[e[0]]),r=0;r<e.length;r++)o=h.getViewId(this.baseId,e[r]),(a=s("#"+this.baseId+o).children(d)[0])?l.push(a):i.warn("TreeView: Ignoring bad node in setSelectedNodes");this._select(s(l),null,t,!1,n)},getExpandedNodeIds:function(){var e=this.nodeAdapter;if(!e.getExpandedNodeIds)throw C();return e.getExpandedNodeIds(this.baseId)},getExpandedState:function(){var e=this.nodeAdapter;if(!e.getExpandedState)throw C();return e.getExpandedState(this.baseId)},find:function(e){return s(this._find(e.parentNodeContent$||null,e.match,e.depth||1,e.findAll||!1))},expand:function(e){var t=this;e||(e=this._getRoots().children(d)),e.each((function(){var e=s(this).closest(r);e.hasClass(g)&&t._expandNode(e)}))},expandAll:function(e){var t=this;e||(e=this._getRoots().children(d)),e.each((function(){var e=s(this).closest(r);e.hasClass(g)?t._expandNode(e,(function(){t.expandAll(e.children("ul").children("li").children(d))})):t.expandAll(e.children("ul").children("li").children(d))}))},collapse:function(e){var t=this;e||(e=this._getRoots().children(d)),e.each((function(){var e=s(this).closest(r);e.hasClass(m)&&t._collapseNode(e)}))},collapseAll:function(e){var t=this;e||(e=this._getRoots().children(d)),e.each((function(){var e=s(this).closest(r);t.collapseAll(e.children("ul").children("li").children(d)),e.hasClass(m)&&t._collapseNode(e)}))},addNodeInPlace:function(e,i,r){var a,h,c,f,u=this,g=this.element,m=this.options,_=this.nodeAdapter,x=!1;function I(t){h.remove(),u._makeLeafIfNeeded(e),u._select(e,null,t),u._endEdit({action:"add",status:"cancel"})}function N(s,n){var o;x||(0!==s.length?(x=!0,_.addNode(c,a.children().length-1,s,r,(function(s,r){var l,p;if(!1===s)return x=!1,M(o=h.find(".a-TreeView-input").val(i).get(0)),void o.select();s?(h.remove(),p=t.htmlBuilder(),u._renderNode(s,f,p),r>=a.children("li").length?a.append(p.toString()):a.children("li").eq(r).before(p.toString()),l=a.children("li").eq(r),0===u.getSelection().length&&u._select(l.children(d),null,n),u._endEdit({action:"add",status:"complete"}),u._trigger("added",{},{parentNode:c,parent$:e,index:r,node:s,node$:l.children(d)})):I(n)}))):I(n))}function S(){var e,c,g,x=t.htmlBuilder(),C=u.baseId+"new";x.markup("<li").attr("id",C).attr("class",n+" "+v).markup("><div").attr("class",o+" "+p).markup("></div><div").attr("class",l+" "+p).markup(">"),_.getIcon&&x.markup("<span").attr("class",m.iconType).markup("></span>"),x.markup("<span role='treeitem'").attr("class",m.labelClass).attr(w,f).attr(b,y).markup("><input class='a-TreeView-input' type='text'></span></div></li>"),u._select(s(),null,!1),a.append(x.toString()),c=(h=a.find("#"+C)).children(d),e=1===u.rtlFactor?c.width()-c.find(u.labelSelector)[0].offsetLeft-16:c.find(u.labelSelector)[0].offsetLeft+c.find(u.labelSelector).width()-16,F(g=c.find(".a-TreeView-input"),i,e,N,I),u._beginEdit({action:"add",context:r,input:g[0]})}if(!_.addNode||!_.allowAdd)throw C();if(null===e){if(c=_.root(),!m.showRoot){if(!_.allowAdd(c,"add",r?[r]:void 0))return;return f=1,a=g.find("ul:first"),void S()}e=g.find("ul:first > li")}else c=this.treeMap[T(e.parent())];_.allowAdd(c,"add",r?[r]:void 0)&&(f=A(e,u.labelSelector)+1,u._makeParentIfNeeded(e),this._expandNode(e.parent(),(function(){a=e.next("ul"),S()})))},renameNodeInPlace:function(e){var i,n,r,o,a,l,d=this,h=this.nodeAdapter,c=e.parent(),f=T(c),u=!1,g=t.htmlBuilder();function m(t){l.selected=e.hasClass(p),g.clear(),V(g,i,h,d.renderNodeOptions,l),e.html(g.toString()),l.selected&&d._select(e,null,t),d._endEdit({action:"rename",status:"cancel"})}if(!h.renameNode||!h.allowRename)throw C();i=this.treeMap[f],h.allowRename(i)&&(a=e.find(this.labelSelector),l={level:parseInt(a.attr(w),10),selected:a.attr(b)===y,disabled:a.attr("aria-disabled")===y,hasChildren:void 0!==a.attr(_),expanded:a.attr(_)===y},r=h.getLabel(i),o=1===d.rtlFactor?e.width()-a[0].offsetLeft-16:a[0].offsetLeft+a.width()-16,n=s("<input class='a-TreeView-input' type='text'>"),a.empty().append(n),F(n,r,o,(function(t,s){var n;u||(u=!0,t!==r&&0!==t.length?h.renameNode(i,t,(function(t,i){var o,a,v;if(!1===t)return u=!1,M(n=e.find(".a-TreeView-input").val(r)[0]),void n.select();t?(g.clear(),l.selected=e.hasClass(p),V(g,t,h,d.renderNodeOptions,l),e.html(g.toString()),d.treeMap[f]=t,(o=(v=(a=c.parent()).children("li")).index(c))!==i&&(i>o&&(i+=1),i>=v.length?a.append(c):v.eq(i).before(c)),l.selected&&d._select(e,null,s),d._endEdit({action:"rename",status:"complete"}),d._trigger("renamed",{},{prevLabel:r,index:i,node:t,node$:e}),d._trigger("selectionChange",0)):m(s)})):m(s))}),m),d._beginEdit({action:"rename",node:i,input:n[0]}))},deleteNodes:function(e){var t,i,n,r=this,o=[],a=[],l=[],h=this.nodeAdapter;function c(e){var t=o[e];h.deleteNode(t.node,(function(e){n+=1,e&&(a.push(t.element),l.push({node:t.node,parent$:t.parent$,index:t.index}),h.clearViewId&&h.clearViewId(r.baseId,t.node)),n>=i&&(r.deleteTreeNodes(s(a)),r._trigger("deleted",{},{items:l}))}),e<i-1)}if(!h.deleteNode||!h.allowDelete)throw C();for(e.each((function(){var e=s(this),t=r.treeMap[T(e.parent())];h.allowDelete(t)&&o.push({node:t,element:e[0],parent$:e.parent().parent().parent().children(d),index:S(e.parent())})})),i=o.length,n=0,t=0;t<i;t++)c(t)},deleteTreeNodes:function(e){var t,i=this,s=e.closest("ul").prev(),n=e.parent(),r=e.children(this.labelSelector).filter(this.lastFocused).length>0,o=e.hasClass(p);(o||r)&&(0===(t=L(n.eq(0))).length&&(t=this._getRoots().first()),t.length>0?o?this._select(t.children(d),null,r):this._setFocusable(t.children(d).find(this.labelSelector)):r&&(this.lastFocused=null)),n.remove().each((function(){delete i.treeMap[T(n)]})),this._makeLeafIfNeeded(s)},addNode:function(e,t,i){var s,n,r=this.nodeAdapter;if(!r.addNode||!r.allowAdd)throw C();if(e&&e.length)n=this.treeMap[T(e.parent())];else{if(this.options.showRoot)throw I();n=r.root()}r.allowAdd(n,"add",i?[i]:void 0)&&(s=this.element.find("."+u).length>0,this._add({},e,t,i,s))},moveNodes:function(e,t,i){var s,n,r,o=this.getNodes(i),a=!0,l=this.nodeAdapter;if(!l.moveNodes||!l.allowDelete||!l.allowAdd)throw C();if(e&&e.length)r=this.treeMap[T(e.parent())];else{if(this.options.showRoot)throw I();r=l.root()}for(s=0;s<o.length;s++)if(!l.allowDelete(o[s])){a=!1;break}a&&l.allowAdd(r,"move",o)&&(n=this.element.find("."+u).length>0,this._moveOrCopy({},e,t,i,!1,n))},copyNodes:function(e,t,i){var s,n,r=this.getNodes(i),o=this.nodeAdapter;if(!o.copyNodes||!o.allowAdd)throw C();if(e&&e.length)n=this.treeMap[T(e.parent())];else{if(this.options.showRoot)throw I();n=o.root()}o.allowAdd(n,"copy",r)&&(s=this.element.find("."+u).length>0,this._moveOrCopy({},e,t,i,!0,s))},update:function(e){var i,s,n,r,d,h,c=this.treeMap[T(e.parent())],g=this.nodeAdapter,m=t.htmlBuilder();i=(r=e.find(this.labelSelector))[0]===this.lastFocused,(g.getClasses||g.isDisabled)&&(n=e.prevAll(a),N(e[0],[l,f,u,p,"is-hover"]),N(n[0],[o,f,u,p,"is-hover"]),g.getClasses&&(s=g.getClasses(c))&&(e.addClass(s),n.addClass(s)),g.isDisabled&&g.isDisabled(c)&&(e.addClass(f),n.addClass(f),h=!0)),d={level:parseInt(r.attr(w),10),selected:r.attr(b)===y,disabled:h,hasChildren:void 0!==r.attr(_),expanded:r.attr(_)===y},V(m,c,g,this.renderNodeOptions,d),e.html(m.toString()),i&&this._setFocusable(e.find(this.labelSelector))},_copy:function(e){var t,i,s=this.nodeAdapter,n=this.getSelectedNodes(),r=this.options.dataTransferFormats;if(n.length){for(r.forEach((function(e){e.writer.begin(s,n)})),t=0;t<n.length;t++)i=n[t],r.forEach((function(e){e.writer.node(i,t,s.getLabel(i))}));r.forEach((function(t){t.writer.end(),e.setData(t.format,t.writer.toString())}))}},_parseTreeMarkup:function(e,t){var i,n,r,o=!0,a=this;return r=(n=function e(t){var i=[];return t.children("ul").children("li").each((function(){var t,n,r,l,d,h,c=s(this),p=c.children("a").first(),f=c.children("span").first();t={},p.length>0?(t.label=p.text(),t.link=p.attr("href"),(h=p.attr("target"))&&(t.linkTarget=h)):f.length>0&&(t.label=f.text()),(r=c.attr("data-id"))?t.id=r:o=!1,c.attr("data-current")===y&&(t.current=!0,a.hasCurrent=!0),(l=c.attr("class"))&&(t.classes=l),c.attr("data-disabled")===y&&(t.isDisabled=!0),(n=c.attr("data-icon"))&&(t.icon=n),(d=c.attr("data-type"))&&(t.type=d),c.children("ul").length>0&&(t.children=e(c)),i.push(t)})),i}(e)).length>=1?1===n.length&&this.options.showRoot?n[0]:{children:n}:null,t||(t={default:{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}}),i=s.apex.treeView.makeDefaultNodeAdapter(r,t,o),function(){return i}},_renderNode:function(e,t,i){var s,r,a,d,h,p,u,_,b=!1,w=this.options,y=this.nodeAdapter;r=this.nextNodeId,this.treeMap[r]=e,y.setViewId&&y.setViewId(this.baseId,e,r),this.nextNodeId+=1,a=n+" ",null===(s=y.hasChildren(e))&&(s=!0),s?(p=!1,y.isExpanded&&(p=y.isExpanded(this.baseId,e)),a+=p?m:g):a+=v,(h=0===r&&w.showRoot&&!w.collapsibleRoot)&&(a+=" a-TreeView--noCollapse"),1===t&&(a+=" a-TreeView-node--topLevel"),d=l,y.isDisabled&&y.isDisabled(e)&&(d+=" "+f,b=!0),u=o,i.markup("<li").attr("id",this.baseId+r).attr("class",a).markup(">"),y.getClasses&&(_=y.getClasses(e))&&(d+=" "+_,u+=" "+_),i.markup("<div").attr("class",u).markup("></div>"),s&&!h&&i.markup("<span class='"+c+"'></span>"),i.markup("<div").attr("class",d).markup(">"),V(i,e,y,this.renderNodeOptions,{level:t,selected:!1,disabled:b,hasChildren:s,expanded:p}),i.markup("</div>"),p&&(i.markup("<ul role='group'>"),this._renderChildren(e,t+1,i),i.markup("</ul>")),i.markup("</li>")},_renderChildren:function(e,i,s,n,r){var o,a=this,l=this.nodeAdapter;function d(){var t;for(t=0;t<o;t++)a._renderNode(l.child(e,t),i,s);n&&n(!0)}null===(o=l.childCount(e))?n&&(t.delayLinger.start(r[0].id,(function(){r.addClass("is-processing")})),l.fetchChildNodes(e,(function(i){if(t.delayLinger.finish(r[0].id,(function(){r.removeClass("is-processing"),0===i&&n(i)})),i){if((o=l.childCount(e))>0)return void d();i=0}!1===i&&n(i)}))):o>0?d():n&&n(0)},_getRoots:function(){return this.element.children("ul").children("li")},_find:function(e,t,i,n){var r,o,a,l=this,h=[];return e?(a=e.parent(),this._addChildrenIfNeeded(a),o=a.children("ul").children("li")):o=this._getRoots(),o.each((function(){if(r=l.treeMap[T(s(this))],t(r)&&(h.push(s(this).children(d)[0]),!n))return!1})),(n||0===h.length)&&(i>1||-1===i)&&o.each((function(){if((h=h.concat(l._find(s(this).children(d),t,-1===i?i:i-1,n))).length>0&&!n)return!1})),h},_makeParentIfNeeded:function(e){e&&0===e.prev(".a-TreeView-toggle").length&&(e.parent().removeClass(v).addClass(g),e.before("<span class='"+c+"'></span>"),e.after("<ul role='group'></ul>"),e.parent().children("ul").hide())},_makeLeafIfNeeded:function(e){var t=this,i=this.nodeAdapter;e.each((function(){var e,n,r=s(this);0===r.next("ul").find("li").length&&((n=r.parent()).hasClass(m)&&i.setExpanded&&(e=t.treeMap[T(n)],i.setExpanded(t.baseId,e,!1)),r.parent().removeClass(g+" "+m).addClass(v),r.find(t.labelSelector).removeAttr(_),r.prev(".a-TreeView-toggle").remove(),r.next("ul").remove())}))},_addChildrenIfNeeded:function(e){var i,s=this.treeMap[T(e)];e.children("ul").length>0||e.hasClass(v)||((i=t.htmlBuilder()).markup("<ul role='group'>"),this._renderChildren(s,k(e,this.labelSelector)+1,i),i.markup("</ul>"),e.append(i.toString()).children("ul").hide())},_toggleNode:function(e){e.hasClass(g)?this._expandNode(e):this._collapseNode(e)},_persistExpansionState:function(e,t,i){var s=this.nodeAdapter;s.setExpanded&&s.setExpanded(this.baseId,e,i),this._trigger("expansionStateChange",{},{node:e,nodeContent$:t.children(d),expanded:i})},_expandNode:function(e,i){var n,r,o=this,a=this.nodeAdapter,l=this.treeMap[T(e)];this.options.autoCollapse&&e.parent().children("."+m).each((function(){o._collapseNode(s(this))})),e.removeClass(g),(n=e.children("ul")).length>0&&null!==a.childCount(l)?(n.show(),e.addClass(m).children(d).find(this.labelSelector).attr(_,y),this._persistExpansionState(l,e,!0),i&&i()):(n.remove(),(r=t.htmlBuilder()).markup("<ul role='group'>"),this._renderChildren(l,k(e,this.labelSelector)+1,r,(function(t){t?(e.addClass(m).children(d).find(o.labelSelector).attr(_,y),r.markup("</ul>"),e.append(r.toString()),o._persistExpansionState(l,e,!0)):0===t?(e.children(".a-TreeView-toggle").remove(),e.addClass(v).children(d).find(o.labelSelector).removeAttr(_)):(e.addClass(g).children(d).find(o.labelSelector).attr(_,"false"),o._persistExpansionState(l,e,!1)),i&&i()}),e))},_collapseNode:function(e){var t=this.options;t.showRoot&&!t.collapsibleRoot&&e.parent().parent().hasClass("a-TreeView")||(e.removeClass(m).addClass(g).children(d).find(this.labelSelector).attr(_,"false"),e.find(".is-selected").length>0&&this._select(e.children(d),null,!0),e.children("ul").hide(),this._persistExpansionState(this.treeMap[T(e)],e,!1))},_traverseDown:function(e,t){var i,n,o;if(this.lastFocused){for(i=s(this.lastFocused).closest(r),o=0;o<t&&0!==(n=R(i)).length;o++)i=n;i.length>0&&this._select(i.children(d),e,!0,!0)}},_traverseUp:function(e,t){var i,n,o;if(this.lastFocused){for(i=s(this.lastFocused).closest(r),o=0;o<t&&0!==(n=L(i)).length;o++)i=n;i.length>0&&this._select(i.children(d),e,!0,!0)}},_activate:function(e){var t,i,s=this.options,n=this.nodeAdapter,r=this.getSelectedNodes();0!==r.length&&(this._trigger("activateNode",e,{nodes:r}),s.navigation&&n.getLink&&!e.isDefaultPrevented()&&(t=n.getLink(r[0]))&&((i=n.getLinkTarget&&n.getLinkTarget(r[0]))?apex.navigation.openInNewWindow(t,i,{favorTabbedBrowsing:!0,noopener:!0}):apex.navigation.redirect(t)))},_select:function(e,i,n,o,l){var h,c,u,m,v,_,w,x,C=e,I="set",N=this,S=this.element,T=S.find(d+".is-selected");if(i&&this.options.multiple&&("click"===i.type?i.ctrlKey||i.metaKey?I="toggle":i.shiftKey&&(I="range"):"keydown"===i.type&&(i.keyCode===s.ui.keyCode.SPACE?I=i.ctrlKey?"toggle":i.shiftKey?"range":"add":i.ctrlKey?I="none":i.shiftKey&&(I="range"))),"range"!==I||this.selectAnchor||(I="set"),"set"!==I&&"range"!==I||(T.prevAll(a).addBack().find(".u-selector").addBack().removeClass(p),T.find(this.labelSelector).attr(b,"false")),c=e.eq(0).find(this.labelSelector),m=(e=e.not(".is-disabled")).hasClass(p),"set"===I||"add"===I||"toggle"===I&&!m)e.prevAll(a).addBack().find(".u-selector").addBack().addClass(p),e.find(this.labelSelector).attr(b,y),e.parent().parents(r).each((function(){(h=s(this)).hasClass(g)&&N._expandNode(h)})),this.selectAnchor=e[0];else if("range"===I){for(u=s("#"+this.selectAnchor.parentNode.id+", #"+C[0].parentNode.id),h=u.first();h.children(d).hasClass(f)||(h.children(d).prevAll(a).addBack().find(".u-selector").addBack().addClass(p),h.children(d).find(this.labelSelector).attr(b,y)),0!==(h=R(h)).length&&1!==u.length&&h[0]!==u[1];);h.length>0&&2===u.length&&!h.children(d).hasClass(f)&&(h.children(d).prevAll(a).addBack().find(".u-selector").addBack().addClass(p),h.children(d).find(this.labelSelector).attr(b,y))}else"toggle"===I&&m&&(e.prevAll(a).addBack().find(".u-selector").addBack().removeClass(p),e.find(this.labelSelector).attr(b,"false"),this.selectAnchor=e[0]);c.length&&(n?M(c[0]):this._setFocusable(c),this.scrollParent&&(v=this.scrollParent[0],(x=c.parent().offset())&&(w=S.offset(),v===document?(_={top:s(document).scrollTop(),left:s(document).scrollLeft()},(x.top<_.top||x.top>_.top+s(window).height())&&s(document).scrollTop(x.top-w.top),(x.left+c.parent()[0].offsetWidth<_.left||x.left>_.left+s(window).width())&&s(document).scrollLeft(x.left-w.left)):(_=this.scrollParent.offset(),w=S.offset(),(x.top<_.top||x.top>_.top+v.offsetHeight)&&(v.scrollTop=x.top-w.top),(x.left+c.parent()[0].offsetWidth<_.left||x.left>_.left+v.offsetWidth)&&(v.scrollLeft=x.left-w.left))))),l||("toggle"===I||"range"===I&&!m||"add"===I&&!m||"set"===I&&!t.arrayEqual(T,e))&&(o?O(N,i):D(N,i))},_setFocusable:function(e){var t=e[0];t&&(this.lastFocused&&this.lastFocused!==t&&(this.lastFocused.tabIndex=-1),t.tabIndex=0,this.lastFocused=t)},_beginEdit:function(e){this.editMode=!0,apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("beginEdit",{},e)},_endEdit:function(e){this.editMode=!1,apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("endEdit",{},e)},_mouseCapture:function(e,t){var i,n,o,a=!0,l=this.options;if(e.preventDefault(),this.animating||l.disabled||!l.dragAndDrop||s(e.target).hasClass(c))return!1;if(0===(n=s(e.target).closest(r).children(d)).length)return!1;if(l.dragMultiple&&(n.hasClass(p)?n=this.getSelection():e.ctrlKey&&(n=n.add(this.getSelection()))),!0!==t){for(o=this.getNodes(n),i=0;i<o.length;i++)if(!this.nodeAdapter.allowDrag||!this.nodeAdapter.allowDrag(o[i])){a=!1;break}if(!a)return!1}return this.dragItems=n,!0},_mouseStart:function(e,t,i){var n,r,o=null,a=this.options,l=this;return i||(s("body").on("keydown.treeview",(function(e){e.keyCode!==s.ui.keyCode.ESCAPE?l._dragCopyOrMove(e,!0):l._cancel(e)})),s("body").on("keyup.treeview",(function(e){l._dragCopyOrMove(e,!0)})),this._select(this.dragItems,null,!0,!1)),this.helper||(this.helper=this._createHelper(t)),this.margins={left:parseInt(this.dragItems.css("marginLeft"),10)||0,top:parseInt(this.dragItems.css("marginTop"),10)||0},this.offset=this.dragItems.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},s.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),s.ui.ddmanager&&!i&&(this.currentItem=this.dragItems.first(),s.ui.ddmanager.current=this,s.ui.ddmanager.prepareOffsets(this,e)),this.originalPosition=this._generatePosition(t),a.dragCursorAt&&this._adjustOffsetFromHelper(a.dragCursorAt),this.dragItems&&this.dragItems.length>0&&!this.isOver&&((o=this.getNodes(this.dragItems))[0]||(o=null)),this.nodeAdapter.dragOperations?this.dragOperations=this.nodeAdapter.dragOperations(o):this.dragOperations=o?{normal:"move",ctrl:"copy"}:{normal:"add"},this.dragOperation=this.dragOperations.normal,this.dragging=!0,this.lastHover&&(s(this.lastHover).children(h).removeClass("is-hover"),this.lastHover=null),a.dragReorder&&(r=this.dragItems.first().outerHeight(),"move"===this.dragOperation&&this.dragItems.parent().hide(),this._createPlaceholder(r),this.initialPlaceholderPos=null),this._initPositions(),this._refreshPositions(),a.dragContainment&&this._setContainment(),i||a.dragCursor&&"auto"!==a.dragCursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.dragCursor),this.storedStylesheet=s("<style>*{ cursor: "+a.dragCursor+" !important; }</style>").appendTo(n)),a.dragOpacity&&this.helper.css("opacity",a.dragOpacity),a.dragZIndex&&this.helper.css("zIndex",a.dragZIndex),this.helper.addClass("a-TreeView-dragHelper"),this.scrollParent&&this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset(),this.originalScroll={top:this.scrollParent[0].scrollTop,left:this.scrollParent[0].scrollLeft}),apex.tooltipManager&&apex.tooltipManager.disableTooltips(),this._trigger("start",t,this._uiHashDnD()),this._mouseDrag(t),s.ui.ddmanager&&!i&&s.ui.ddmanager.dragStart(this,t),!0},_mouseDrag:function(e){var t={pageX:e.pageX,pageY:e.pageY};return this.position=this._generatePosition(e),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.dragEventTarget=e.target,this.options.dragScroll&&(this._scrollCheck(t)?this.scrollTimerId||this._scrollStart(t):this.scrollTimerId&&this._scrollStop()),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(e),this._dragHitCheck(),s.ui.ddmanager&&!this.isOver&&s.ui.ddmanager.drag(this,e),this._trigger("drag",e,this._uiHashDnD()),this.lastPositionAbs=this.positionAbs,!1},_dragHitCheck:function(){var e,t,i,n,r,o,l,h,c,p=this,f=0,u=null,m=this.dropTargetNode?this.dropTargetNode[0].id:null,v=this.options;if(this.scrollParent[0]!==document&&(f=this.scrollParent[0].scrollTop-this.dropPositionsOrigin),(i=this.positionAbs.left+this.offset.click.left)>this.containerCache.left&&i<this.containerCache.left+this.containerCache.width)if(this.placeholder&&s(this.dragEventTarget).closest(".a-TreeView-placeholder").length)null===this.initialPlaceholderPos&&(this.initialPlaceholderPos=i),(h=(i-this.initialPlaceholderPos)*this.rtlFactor)>(this.options.dragScrollSensitivity||10)?(this.initialPlaceholderPos=i,this._movePlaceholder({element:this.placeholder.children(d)},"below")):h<(-this.options.dragScrollSensitivity||-10)&&(this.initialPlaceholderPos=i,this._movePlaceholder({element:this.placeholder.children(d)},"above"));else for(this.initialPlaceholderPos=null,n=this.positionAbs.top+this.offset.click.top+f,e=0;e<this.dropPositions.length;e++)if(n>=(t=this.dropPositions[e]).top&&n<=t.bottom){u=t.nodeId,o=n>t.top+(t.bottom-t.top)/2?"bottom":"top";break}m===u&&o===this.lastLocation||(p.delayExpandTimer&&(clearTimeout(p.delayExpandTimer),p.delayExpandTimer=null),this.element.find(".is-active").removeClass("is-active"),u?(r=s("#"+u),v.dragExpandDelay>=0&&r.hasClass(g)&&(this.delayExpandTimer=setTimeout((function(){p.delayExpandTimer=null,p._expandNode(r,(function(){p._initPositions(r),p._refreshPositions()}))}),v.dragExpandDelay)),t.canAdd?(this.dropTargetNode=r,this.placeholder?(l=0!==(c=p.positionAbs.top-p.lastPositionAbs.top)&&(c>0?"down":"up"),"top"===o&&"up"===l?this._movePlaceholder(t,"before"):"bottom"===o&&"down"===l&&this._movePlaceholder(t,"after")):this.dropTargetNode.children(d+","+a).addClass("is-active")):t.canAddChild&&this.placeholder&&(this.initialPlaceholderPos=i,this._movePlaceholder(t,"after"),this._movePlaceholder({element:this.placeholder.children(d)},"below"))):this.dropTargetNode=null),this.lastLocation=o},_mouseStop:function(e,t){var i,n=this;return this.delayExpandTimer&&(clearTimeout(this.delayExpandTimer),this.delayExpandTimer=null),this._scrollStop(),s.ui.ddmanager&&!t&&s.ui.ddmanager.dragStop(this,e),t||s("body").off(".treeview"),this._deactivate(),this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),s.ui.ddmanager&&!t&&s.ui.ddmanager.drop(this,e)?(this.placeholder&&(this.dragItems.parent().show(),this._removePlaceholder()),this.dragging=!1,this.dragItems=null,this.currentItem=null,this.helper.remove(),this.helper=null,void this._stop(e)):e.target?void(this.options.dragAnimate?(i=this._getAnimation(),this.animating=!0,this.helper.animate(i,parseInt(this.options.dragAnimate,10)||500,(function(){n._finishDrag(e)}))):this._finishDrag(e)):(this.fromOutside=!1,void(this.dragging=!1))},_scrollCheck:function(e,t){var i,n,r,o=0,a=0,l=this.options,d=this.scrollParent[0];return d&&d!==document&&"HTML"!==d.tagName?(this.overflowOffset.top+d.offsetHeight-e.pageY<l.dragScrollSensitivity?o=l.dragScrollSpeed:e.pageY-this.overflowOffset.top<l.dragScrollSensitivity&&(o=-l.dragScrollSpeed),t&&o&&((i=d.scrollTop+o)<0?(d.scrollTop=0,o=0):i>d.scrollHeight-d.clientHeight?(d.scrollTop=d.scrollHeight-d.clientHeight,o=0):d.scrollTop=i),this.overflowOffset.left+d.offsetWidth-e.pageX<l.dragScrollSensitivity?a=l.dragScrollSpeed:e.pageX-this.overflowOffset.left<l.dragScrollSensitivity&&(a=-l.dragScrollSpeed),t&&a&&((n=d.scrollLeft+a)<0?(d.scrollLeft=0,a=0):n>d.scrollWidth-d.clientWidth?(d.scrollLeft=d.scrollWidth-d.clientWidth,a=0):d.scrollLeft=n),r=!(!a&&!o)):(i=s(document).scrollTop(),n=s(document).scrollLeft(),e.pageY-i<l.dragScrollSensitivity?o=-l.dragScrollSpeed:s(window).height()-(e.pageY-i)<l.dragScrollSensitivity&&(o=l.dragScrollSpeed),t&&o&&((i+=o)<0?(s(document).scrollTop(0),o=0):i>s(document).height()-s(window).height()?(s(document).scrollTop(s(document).height()-s(window).height()),o=0):(e.pageY+=o,s(document).scrollTop(i))),e.pageX-n<l.dragScrollSensitivity?a=-l.dragScrollSpeed:s(window).width()-(e.pageX-n)<l.dragScrollSensitivity&&(a=l.dragScrollSpeed),t&&a&&((n+=a)<0?(s(document).scrollLeft(0),a=0):n+this.helper.width()>s(document).width()-s(window).width()?(s(document).scrollLeft(s(document).width()-s(window).width()-this.helper.width()),a=0):(e.pageX+=a,s(document).scrollLeft(n))),(r=!(!a&&!o))&&t&&(this.position=this._generatePosition(e),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",s.ui.ddmanager&&s.ui.ddmanager.prepareOffsets(this,e))),r},_scrollStart:function(e){var t=this,i=0,s=[150,125,100,99,96,91,84,75,64,51,36];this.scrollTimerId&&this._scrollStop(),function n(){t.scrollTimerId=setTimeout((function(){t._scrollCheck(e,!0)?(t._dragHitCheck(),n()):t._scrollStop()}),s[i]),i<s.length-1&&(i+=1)}()},_scrollStop:function(){clearTimeout(this.scrollTimerId),this.scrollTimerId=null},_getAnimation:function(){var e,t,i={};return this.placeholder||this.dropTargetNode?(e=this.placeholder?(t=this.placeholder).offset():(t=this.dropTargetNode).offset(),i.left=e.left-this.offset.parent.left-this.margins.left,i.top=e.top-this.offset.parent.top-this.margins.top):(t=this.dragItems.eq(0),e=this.originalPosition,i.left=e.left-this.margins.left,i.top=e.top-this.margins.top,this.scrollParent[0]!==document&&(i.left+=this.originalScroll.left-this.scrollParent[0].scrollLeft,i.top+=this.originalScroll.top-this.scrollParent[0].scrollTop)),-1===this.rtlFactor&&(i.left+=t.width()-this.helper.width()),i},_initPositions:function(e){var t,i,n,o,l,d=this,h=[],c=this.options.dragReorder,p=this.nodeAdapter;if(this.dragItems&&this.dragItems.length>0&&(l=this.getNodes(this.dragItems))[0]||(l=[]),e&&this.dropPositions)for(i=[],o=e[0].id,n=0;n<this.dropPositions.length&&o!==this.dropPositions[n].nodeId;n++);else i=this.dropPositions=[],e=this.element;if(e.find(r).each((function(){var e,t,n,o=!1,f=s(this);f.is(":visible")&&!f.is(".a-TreeView-placeholder")&&(e=c?(t=f.parent().closest(r)).length?d.treeMap[T(t)]:d.options.showRoot?null:p.root():d.treeMap[T(f)],c||"move"!==d.dragOperation||!(l.indexOf(e)>=0||h.indexOf(f.parent().closest(r)[0])>=0)?(n=e&&p.allowAdd(e,d.dragOperation,l),c&&(o=p.allowAdd(d.treeMap[T(f)],d.dragOperation,l)),(n||o||f.hasClass(g))&&i.push({canAdd:n,canAddChild:o,element:s(this).children(a),nodeId:this.id,top:0,bottom:0})):h.push(this))})),void 0!==n&&i.length)for(t=0;t<i.length;t++)this.dropPositions.splice(n+t,0,i[t])},_refreshPositions:function(){var e,t,i,s,n;for(e=0;e<this.dropPositions.length;e++)s=(t=this.dropPositions[e]).element.outerHeight(),i=t.element.offset(),t.top=i.top,t.bottom=i.top+s;this.dropPositionsOrigin=0,(n=this.scrollParent)&&n[0]!==document?this.dropPositionsOrigin=n[0].scrollTop:n=this.element,i=n.offset(),this.containerCache.left=i.left,this.containerCache.top=i.top,this.containerCache.width=n.outerWidth(),this.containerCache.height=n.outerHeight()},_makeTempDragItem:function(){var e,i,r,a=t.htmlBuilder();for(a.markup("<li").attr("class",n).markup("><div").attr("class",o).markup("></div><div").attr("class",l).markup(">unseen content</div></li>"),i=s(a.toString()),e=0;e<this.dropPositions.length;e++)if(this.dropPositions[e].canAdd){r=s(this.dropPositions[e].nodeId).parent();break}r||(r=this.element.children("ul")),r.append(i),this.dragItems=i.children(d)},_createPlaceholder:function(e){this.placeholder=s("<li class='"+n+" a-TreeView-placeholder'><div class='"+o+"'></div><div class='"+l+"'>&nbsp;</div></li>"),this.dragItems.first().parent().before(this.placeholder),e&&this.placeholder.height(e)},_movePlaceholder:function(e,t){var i,n,o,a,l,h=this,c=this.placeholder.parent(),p=this.nodeAdapter,f=e.element.parent(),u=f[0];if("after"===t&&f.hasClass(m)&&p.allowAdd(h.treeMap[T(f)],h.dragOperation)&&(u=f.children("ul").children()[0],t="before"),"above"===t){if(f.next(":visible").length)return;if(u=f.parent().parent()[0],l=(n=(f=s(u)).parent().closest(r)).length?h.treeMap[T(n)]:h.options.showRoot?null:p.root(),f.hasClass("a-TreeView")||null===l)return;if(!(o=p.allowAdd(l,h.dragOperation)))return;t="after"}if("below"===t){if(a=!1,(i=f.prevAll(":visible").first()).hasClass(m)&&(i=i.children("ul").children().last(),a=!0),0===i.length)return;if(o=p.allowAdd(h.treeMap[T(i)],h.dragOperation),!a&&i.hasClass(v)&&o&&this._makeParentIfNeeded(i.children(d)),i.hasClass(g))return void this._expandNode(i,(function(){h._initPositions(i),h._refreshPositions(),o&&i.children("ul")[0].appendChild(h.placeholder[0])}));o&&i[0].parentNode.appendChild(this.placeholder[0])}else"after"!==t||u.nextSibling?u.parentNode.insertBefore(this.placeholder[0],"before"===t?u:u.nextSibling):u.parentNode.appendChild(this.placeholder[0]);0===c.children().length&&this._makeLeafIfNeeded(c.parent().find(d)),this._refreshPositions()},_removePlaceholder:function(){var e=this.placeholder.parent();this.placeholder.remove(),this.placeholder=null,0===e.children().length&&this._makeLeafIfNeeded(e.parent().find(d))},_createHelper:function(e){var t,i=this.options;return s.isFunction(i.dragHelper)?t=s(i.dragHelper.apply(this.element[0],[e,this.dragItems])):1===this.dragItems.length?t=this.dragItems.clone().removeAttr("id").removeClass(p):(t=s("<div></div>")).html(this.dragItems.clone().removeClass(p)),t.parents("body").length||t.appendTo("parent"===i.dragAppendTo?this.element[0].parentNode:i.dragAppendTo),/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_adjustOffsetFromHelper:function(e){"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e;return this.offsetParent=this.helper.offsetParent(),e=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&s.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_generatePosition:function(e){var t=e.pageX,i=e.pageY,n=this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(n[0].tagName);return this.dragging||this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(t=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(t=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),{top:i-this.offset.click.top-this.offset.parent.top+(r?0:n.scrollTop()),left:t-this.offset.click.left-this.offset.parent.left+(r?0:n.scrollLeft())}},_adjustPositionForScroll:function(){var e=this.position,t=this.scrollParent&&this.scrollParent[0]!==document&&s.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(t[0].tagName);return{top:e.top+this.offset.parent.top-(i?0:t.scrollTop()),left:e.left+this.offset.parent.left-(i?0:t.scrollLeft())}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.dragContainment&&(n.dragContainment=this.helper[0].parentNode),"document"!==n.dragContainment&&"window"!==n.dragContainment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,s("document"===n.dragContainment?document:window).width()-this.helperProportions.width-this.margins.left,(s("document"===n.dragContainment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.dragContainment)||(e=s(n.dragContainment)[0],t=s(n.dragContainment).offset(),i="hidden"!==s(e).css("overflow"),this.containment=[t.left+(parseInt(s(e).css("borderLeftWidth"),10)||0)+(parseInt(s(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(s(e).css("borderTopWidth"),10)||0)+(parseInt(s(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(s(e).css("borderLeftWidth"),10)||0)-(parseInt(s(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(s(e).css("borderTopWidth"),10)||0)-(parseInt(s(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_intersectsWith:function(e){var t=this.positionAbs.left,i=this.positionAbs.top,s=e.left,n=s+e.width,r=e.top,o=r+e.height,a=this.offset.click.top,l=this.offset.click.left;return i+a>r&&i+a<o&&(t+l>s&&t+l<n)},_dragCopyOrMove:function(e,t){var i,s;e.ctrlKey?i="ctrl":e.altKey?i="alt":e.shiftKey?i="shift":e.metaKey&&(i="meta"),s=this.dragOperations[i]||this.dragOperations.normal,this.dragOperation!==s&&(this.dragOperation=s,this.placeholder&&this.dragItems.parent().toggle("move"!==s),this._initPositions(),this._refreshPositions(),t&&this._trigger("drag",e,this._uiHashDnD()))},_cancel:function(e,t){var i,n=this;function r(){n.animating=!1,n.helper&&n.helper[0].parentNode&&n.helper.remove(),n.helper=null,n.dragging=!1,n.dragItems=null,n.currentItem=null,n._stop(e)}this.dragging&&(this.positionAbs.top=-99999,this._mouseUp(s.Event("mouseup",{target:null})),this.placeholder&&this.dragItems.parent().show()),this.dropTargetNode=null,this.placeholder&&this._removePlaceholder(),this.options.dragAnimate&&!t?(i=this._getAnimation(),this.animating=!0,this.helper.animate(i,parseInt(this.options.dragAnimate,10)||500,(function(){r()}))):r()},_deactivate:function(){this.element.find(".is-active").removeClass("is-active")},_finishDrag:function(e){var t,s,n,o,a,l=!0,h=this.nodeAdapter;if(this.animating=!1,this.placeholder?(s=this.placeholder.parent().closest(r),this.dragItems.parent().show(),n=S(this.placeholder),"move"===this.dragOperation&&this.dragItems.parent().hide()):(s=this.dropTargetNode,n=0),this.fromOutside){if(this.dragItems.parent().remove(),"add"===this.dragOperation&&h.addNode)try{this.placeholder&&this._removePlaceholder(),this._add(e,s.children(d),n,null,!0)}catch(e){i.error("Error in drop add action.",e)}}else if(("copy"===this.dragOperation||"move"===this.dragOperation)&&h.allowAdd&&h["copy"===this.dragOperation?"copyNodes":"moveNodes"]&&("copy"===this.dragOperation||h.allowDelete))try{if(o=s.length||this.options.showRoot?this.treeMap[T(s)]:h.root(),h.allowAdd(o,this.dragOperation,this.dragItems)&&"move"===this.dragOperation)for(a=this.getNodes(this.dragItems),t=0;t<a.length;t++)if(!h.allowDelete(a[t])){l=!1;break}if(l&&"move"===this.dragOperation)if(this.placeholder){if(this.dragItems.last().closest(r).next()[0]===this.placeholder[0]){for(l=!1,t=0;t<this.dragItems.length-1;t++)if(this.dragItems.eq(t).closest(r).next()[0]!==this.dragItems.eq(t+1).closest(r)[0]){l=!0;break}}else if(this.dragItems.first().closest(r).prev()[0]===this.placeholder[0])for(l=!1,t=1;t<this.dragItems.length;t++)if(this.dragItems.eq(t).closest(r).prev()[0]!==this.dragItems.eq(t-1).closest(r)[0]){l=!0;break}}else for(l=!1,t=0;t<this.dragItems.length;t++)if(this.dragItems.eq(t).closest(r).parent().closest(r)[0]!==s[0]){l=!0;break}l?(this.placeholder&&this._removePlaceholder(),this._moveOrCopy(e,s.children(d),n,this.dragItems,"copy"===this.dragOperation,!0)):this.dragItems.parent().show()}catch(e){this.dragItems.parent().show(),i.error("Error in drop "+this.dragOperation+" action.",e)}this.dragging=!1,this._trigger("beforeStop",e,this._uiHashDnD()),this.dragItems=null,this.currentItem=null,this.placeholder&&this._removePlaceholder(),this.helper.remove(),this.helper=null,this.fromOutside&&this._trigger("deactivate",e,this._uiHashDnD(this)),this._stop(e),this.fromOutside=!1},_stop:function(e){apex.tooltipManager&&apex.tooltipManager.enableTooltips(),this._trigger("stop",e,this._uiHashDnD())},_add:function(e,i,n,r,o){var a,l,h=this,c=this.nodeAdapter;i&&i.length?(a=this.treeMap[T(i.parent())],l=A(i,this.labelSelector)+1):(i=null,a=c.root(),l=1),c.addNode(a,n,null,r,(function(r,c){var p,f,u,g=t.htmlBuilder(),m={parentNode:a,parent$:i,node:r,index:c};function v(){h._select(m.node$,e,o),h._trigger("added",e,m)}if(!(!1===r||null===r||c<0)){if(i){if(h._makeParentIfNeeded(i),0===(f=i.parent().children("ul")).length)return void h._expandNode(i.parent(),(function(){f=i.parent().children("ul"),m.node$=f.children().eq(n).children(d),v()}))}else f=h.element.children("ul");h._renderNode(r,l,g),p=s(g.toString()),m.node$=p.children(d),c>=(u=f.children()).length?f.append(p):u.eq(c).before(p),v()}}))},_moveOrCopy:function(e,i,n,o,a,l){var h,c,p=this,f=this.getNodes(o),u=a?"copyNodes":"moveNodes",g=this.nodeAdapter;i&&i.length?(h=this.treeMap[T(i.parent())],c=A(i,this.labelSelector)+1):(i=null,h=g.root(),c=1),g[u](h,n,f,(function(n){var f,u,m,v,_,b,w,y,x=t.htmlBuilder(),C=[],I=[],N={parentNode:h,parent$:i,items:C};function S(){for(f=0;f<C.length;f++)b=C[f],m=g.child(h,b.toIndex),b.toNode=m,x.clear(),p._renderNode(m,c,x),v=s(x.toString()),b.toNode$=v.children(d),y=w.children(":visible"),b.toIndex>=y.length?w.append(v):y.eq(b.toIndex).before(v),I.push(b.toNode$[0]),a||(_=b.fromNode$.parent().parent().closest(r).children(d),b.fromParent$=_,b.fromIndex=b.fromNode$.parent().parent().children().index(b.fromNode$.parent()),b.fromNode$.parent().remove(),p._makeLeafIfNeeded(_));p._select(s(I),e,l),p._trigger(a?"copied":"moved",e,N)}if(n){for(f=0;f<n.length;f++)(u=n[f])>=0&&C.push({fromNode$:o.eq(f),toIndex:u});if(C.sort((function(e,t){return e.toIndex-t.toIndex})),i)return p._makeParentIfNeeded(i),w=i.parent().children("ul"),void p._expandNode(i.parent(),(function(){S()}));w=p.element.children("ul"),S()}}))},_uiHashDnD:function(e){var t=e||this;return{helper:t.helper,placeholder:t.dropTargetNode||t.placeholder||s([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,items:t.dragItems,operation:t.dragOperation,sender:e?e.element:null}}},apex.widget.contextMenuMixin));var H={root:function(){return this.data},getLabel:function(e){return e.label},getIcon:function(e){var t=this.getType(e),i=null;return e.icon||null===e.icon?i=e.icon:t.icon||null===t.icon?i=t.icon:void 0!==this.types.default.icon&&(i=this.types.default.icon),i},getClasses:function(e){var t=this.getType(e),i=null;return t.classes?i=t.classes:this.types.default.classes&&(i=this.types.default.classes),e.classes&&(i?i+=" "+e.classes:i=e.classes),i},getLink:function(e){return e.link},getLinkTarget:function(e){return e.linkTarget},isDisabled:function(e){var t=this.getType(e),i=!1;return void 0!==e.isDisabled?i=e.isDisabled:void 0!==t.isDisabled?i=t.isDisabled:void 0!==this.types.default.isDisabled&&(i=this.types.default.isDisabled),i},child:function(e,t){if(e.children)return e.children[t]},childCount:function(e){return e.children?e.children.length:0},hasChildren:function(e){return!!e.children&&e.children.length>0},allowAdd:function(e,t,i){var s,n,r=this.getType(e),o=!!e.children&&this.check("canAdd",e,t,i);if(o&&i&&(void 0!==r.validChildren?n=r.validChildren:void 0!==this.types.default.validChildren&&(n=this.types.default.validChildren),!0!==n))for(s=0;s<i.length;s++)if(n.indexOf(i[s].type)<0){o=!1;break}return o},allowRename:function(e){return this.check("canRename",e)},allowDelete:function(e){return e!==this.data&&this.check("canDelete",e)},allowDrag:function(e){return this.check("canDrag",e)},dragOperations:function(e){var t,i,s;if(e){if(e.length>0){for(s=e[0].type||"default",t=1;t<e.length;t++)if(e[t].type!==s){s="default";break}}else s="default";i=this.types[s].operations&&void 0!==this.types[s].operations.drag?this.types[s].operations.drag:this.types.default.operations.drag}else i=this.types.default.operations.externalDrag;return i},addNode:function(e,t,i,n,r){var o,a=s.extend(!0,{},n||this.newNode(e));i&&(a.label=i),this.sortCompare?e.children.push(a):e.children.splice(t,0,a),a._parent=e,void 0!==this._nextId&&(void 0===a.id?a.id=this.nextId():this._nextId+=1),this.sortCompare&&e.children.sort(this.sortCompare),o=e.children.indexOf(a),this.validateAdd(a,o,(function(t){"string"==typeof t||!1===t?(e.children.splice(o,1),r(!1===t&&null)):t&&r(a,o)}))},renameNode:function(e,t,i){var s,n=e.label;e.label=t,e._parent?(this.sortCompare&&e._parent.children.sort(this.sortCompare),s=e._parent.children.indexOf(e)):s=0,this.validateRename(e,s,(function(t){"string"==typeof t||!1===t?(e.label=n,i(!1===t&&null)):t&&i(e,s)}))},deleteNode:function(e,t,i){var s=e._parent,n=e._parent.children.indexOf(e);s.children.splice(n,1),delete e._parent,this.validateDelete(e,i,(function(i){i||(e._parent=s,s.children.splice(n,0,e)),t(i)}))},moveNodes:function(e,t,i,s){var n,r,o,a,l=[];for(n=0;n<i.length;n++)a=(o=(r=i[n])._parent).children.indexOf(r),o.children.splice(a,1),e===o&&a<t&&(t-=1),this.sortCompare?e.children.push(r):(e.children.splice(t,0,r),t+=1),r._parent=e;for(this.sortCompare&&e.children.sort(this.sortCompare),n=0;n<i.length;n++)l[n]=e.children.indexOf(i[n]);this.validateMove(e,i,l,(function(e){s(!!e&&l)}))},copyNodes:function(e,t,i,n){var r,o,a=this,l=[],d=[];function h(e,t){var i,n=s.extend({},e);if(n._parent=t,void 0!==a._nextId&&(n.id=a.nextId()),e.children)for(n.children=[],i=0;i<e.children.length;i++)n.children.push(h(e.children[i],n));return n}for(r=0;r<i.length;r++)o=h(i[r],e),l[r]=o,this.sortCompare?e.children.push(o):(e.children.splice(t,0,o),d[r]=t,t+=1);if(this.sortCompare)for(e.children.sort(this.sortCompare),r=0;r<l.length;r++)d[r]=e.children.indexOf(l[r]);this.validateCopy(e,l,d,(function(e){n(!!e&&d)}))},sortCompare:function(e,t){return e.label>t.label?1:e.label<t.label?-1:0},nextId:function(){var e=this._nextId;return this._nextId+=1,"tn"+e},newNode:function(e){var t,i={},n=!0,r=this.getType(e);return void 0!==this._nextId&&(i.id=this.nextId()),s.isArray(r.validChildren)?(i.type=r.validChildren[0],(t=this.types[i.type])&&t.operations&&void 0!==t.operations.canAdd?n=r.operations.canAdd:void 0!==this.types.default.operations.canAdd&&(n=this.types.default.operations.canAdd),t&&void 0!==t.defaultLabel?i.label=t.defaultLabel:void 0!==this.types.default.defaultLabel&&(i.label=this.types.default.defaultLabel)):void 0!==this.types.default.defaultLabel&&(i.label=this.types.default.defaultLabel),n&&(i.children=[]),i},extraCheck:function(e,t,i,s,n){return e},validateAdd:function(e,t,i){i(!0)},validateRename:function(e,t,i){i(!0)},validateDelete:function(e,t,i){i(!0)},validateMove:function(e,t,i,s){s(!0)},validateCopy:function(e,t,i,s){s(!0)},getType:function(e){var t="default";return e.type&&(t=e.type),this.types[t]||this.types.default},check:function(e,t,i,n){var r=!1,o=this.getType(t);return t.operations&&void 0!==t.operations[e]?r=t.operations[e]:o.operations&&void 0!==o.operations[e]?r=o.operations[e]:void 0!==this.types.default.operations[e]&&(r=this.types.default.operations[e]),s.isFunction(r)&&(r=r.call(this,t,i,n)),this.extraCheck(r,e,t,i,n)}};if(s.apex.treeView.makeDefaultNodeAdapter=function(e,t,i,n){var r=Object.create(H);return s.isArray(i)&&(n=i,i=!0),null==i&&(i=!0),i&&(s.apex.treeView.addViewStateMixin(r,"id",n),r._nextId=1),r.data=e,r.types=s.extend(!0,{},{default:{isDisabled:!1,validChildren:!0,operations:{canAdd:!0,canRename:!0,canDelete:!0,canDrag:!0,drag:{normal:"move",ctrl:"copy"},externalDrag:{normal:"add"}}}},t),r.data&&function e(t,s){var n;if(t._parent=s,i&&(r._nextId+=1),t.children)for(n=0;n<t.children.length;n++)e(t.children[n],t)}(r.data,null),r},s.apex.treeView.makeModelNodeAdapter=function(e,t,i){var n,r;if(!apex.model)throw new Error("Missing module apex.model");return t.shape="tree",n=apex.model.create(e,t,i),r=t.labelField||"label",n._labelKey=n.getFieldKey(r),n._iconKey=n.getFieldKey(t.iconField||"icon"),n._classesKey=n.getFieldKey(t.classesField||"classes"),n._linkKey=n.getFieldKey(t.linkField||"link"),n._linkTargetKey=n.getFieldKey(t.linkTargetField||"linkTarget"),n._disabledKey=n.getFieldKey(t.disabledField||"isDisabled"),t.hasIdentity&&s.apex.treeView.addViewStateMixin(n,(function(e){return n.getRecordId(e)}),t.initialExpandedNodeIds),n.getType=n._getType,n.getLabel=function(e){return e[this._labelKey]},n.getIcon=function(e){var t=this.getType(e),i=this._options,s=null;return this._iconKey&&(e[this._iconKey]||null===e[this._iconKey])?s=e[this._iconKey]:t.icon||null===t.icon?s=t.icon:void 0!==i.types.default.icon&&(s=i.types.default.icon),s},n.getClasses=function(e){var t=this.getType(e),i=this._options,s=null;return t.classes?s=t.classes:i.types.default.classes&&(s=i.types.default.classes),this._classesKey&&e[this._classesKey]&&(s?s+=" "+e[this._classesKey]:s=e[this._classesKey]),s},n.getLink=function(e){return this._linkKey?e[this._linkKey]:null},n.getLinkTarget=function(e){return this._linkTargetKey?e[this._linkTargetKey]:null},n.isDisabled=function(e){var t=this.getType(e),i=this._options,s=!1;return this._disabledKey&&void 0!==e[this._disabledKey]?s=e[this._disabledKey]:void 0!==t.isDisabled?s=t.isDisabled:void 0!==i.types.default.isDisabled&&(s=i.types.default.isDisabled),s},n.allowRename=n.allowEdit,n.addNode=function(e,t,i,s,n){var r,o,a=null,l=this._initRecord(s,null,e);r=e[this._childrenKey],t>=0&&t<r.length&&(a=r[t]),i&&(l[this._labelKey]=i),o=this.insertNewRecord(e,a,l),n(l=this.getRecord(o),r.indexOf(l))},n.renameNode=function(e,t,i){var s;this.setValue(e,r,t),i(e,(s=this.parent(e))?s[this._childrenKey].indexOf(e):0)},n.deleteNode=function(e,t,i){t(1===this.deleteRecords([e]))},n.moveNodes=function(e,t,i,s){var n,r,o,a,l=null;for(o=e[this._childrenKey],(t-=1)>=0&&t<o.length&&(l=o[t]),a=this.moveRecords(i,e,l),n=0;n<a.length;n++)r=this.getRecord(a[n]),(void 0)[n]=o.indexOf(r);s(void 0)},n.copyNodes=function(e,t,i,s){var n,r,o,a,l=null;for(o=e[this._childrenKey],(t-=1)>=0&&t<o.length&&(l=o[t]),a=this.copyRecords(i,e,l),n=0;n<a.length;n++)r=this.getRecord(a[n]),(void 0)[n]=o.indexOf(r);s(void 0)},n},s.apex.treeView.treeModelListener=function(e,t){var i,n=t.data("apex-treeView"),r=n.getNodeAdapter();if((i=n.option("treeModel"))&&(i.unSubscribe(n.option("modelViewId")),n.option("modelName")!==e&&apex.model.release(this.modelName),n.option("treeModel",null),n.option("modelName",null),n.option("modelViewId",null)),e){if(n.option("treeModel",e),i=apex.model.get(e),n.option("modelName",i),!i)throw new Error("TreeView model not found: "+e);n.option("modelViewId",i.subscribe({onChange:function(e,t){var i,o;function a(e){var t,i,o=[];for(t=0;t<e.length;t++)i=r.getViewId(n.baseId,e[t]),o.push(s("#"+n.baseId+i).children(d)[0]);return s(o)}if("refresh"===e)n.refresh();else if("refreshRecords"===e||"revert"===e);else if("move"===e);else if("copy"===e);else if("insert"===e)o=a([r.parent(t.record)]),n.refresh(o);else if("clearChanges"===e);else if("delete"===e){for(o=a(t.records),i=0;i<t.records.length;i++)r.clearViewId(n.baseId,t.records[i]);n.deleteTreeNodes(o)}else"set"!==e&&"metaChange"!==e||(o=a([t.record]),n.update(o))},progressView:this.element})),i.getOption("onlyMarkForDelete")}},s.apex.treeView.addViewStateMixin=function(e,t,i){s.extend(e,{_state:{},isExpanded:function(e,t){return this._getExpandedNodes(e)[this._getIdentity(t)]||!1},setExpanded:function(e,t,i){this._getExpandedNodes(e)[this._getIdentity(t)]=i},getExpandedNodeIds:function(e){var t,i=[],s=this._getExpandedNodes(e);for(t in s)s.hasOwnProperty(t)&&!0===s[t]&&i.push(t);return i},getExpandedState:function(e){var t=this._getExpandedNodes(e);return s.extend({},t)},getViewId:function(e,t){var i=this._state[e]&&this._state[e].nodeMap;return i&&i[this._getIdentity(t)]},setViewId:function(e,t,i){var s=this._state[e]&&this._state[e].nodeMap;s||(s={},this._state[e]||(this._state[e]={}),this._state[e].nodeMap=s),s[this._getIdentity(t)]=i},clearViewId:function(e,t){var i=this._state[e]&&this._state[e].nodeMap,s=this._state[e]&&this._state[e].expandedNodes;i&&(t?(delete i[this._getIdentity(t)],s&&delete s[this._getIdentity(t)]):(this._state[e].nodeMap={},delete this._state[e].expandedNodes))},_getExpandedNodes:function(e){var t,s=this._state[e]&&this._state[e].expandedNodes;if(!s&&(this._state[e]||(this._state[e]={}),s={},this._state[e].expandedNodes=s,i))for(t=0;t<i.length;t++)s[i[t]]=!0;return s}}),e._getIdentity||(e._getIdentity=s.isFunction(t)?t:function(e){return e[t]})},s.ui.draggable&&(s.ui.plugin.add("draggable","connectToTreeView",{start:function(e,t){var n=s(this).data("ui-draggable"),r=n.options,o=s.extend({},t,{item:n.element});s("body").on("keydown.treeviewplug",(function(e){e.keyCode===s.ui.keyCode.ESCAPE&&(n.dropped=!1,n.cancel())})),n.trees=[],s(r.connectToTreeView).each((function(){var t=s.data(this,"apex-treeView");t&&!t.options.disabled&&t.options.dragAndDrop?(n.trees.push({instance:t}),t._initPositions(),t._refreshPositions(),t._trigger("activate",e,o)):i.warn("Draggable connectToTreeView matches an element that is not a treeView, is disabled, or doesn't support drag and drop.")}))},stop:function(e,t){var i=s(this).data("ui-draggable");s("body").off(".treeviewplug"),s.each(i.trees,(function(){this.instance.isOver&&!this.invalid?(this.instance.isOver=!1,i.cancelHelperRemoval=!0,this.instance._mouseStop(e,!0),e.target||(this.instance._trigger("deactivate",e,this.instance._uiHashDnD(this.instance)),this.instance.dragItems.parent().remove(),this.instance._cancel(e,!0))):(this.instance._deactivate(),this.instance._trigger("deactivate",e,this.instance._uiHashDnD(this.instance)),this.instance.dragItems&&(this.instance.dragItems.parent().remove(),this.instance._cancel(e,!0)))}))},drag:function(e,t){var i=s(this).data("ui-draggable");s.each(i.trees,(function(){var s=!1;if(!this.invalid)if(this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0),s){if(!this.instance.isOver){if(this.instance.isOver=!0,this.instance._makeTempDragItem(),this.instance.helper=t.helper,this.instance.helper.css("position","relative"),e.target=this.instance.dragItems.parent().children(a)[0],!this.instance._mouseCapture(e,!0))return this.instance.isOver=!1,void(this.invalid=!0);this.instance._trigger("over",e,this.instance._uiHashDnD(this.instance)),this.instance._mouseStart(e,e,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i}this.instance.dragItems&&this.instance._mouseDrag(e)}else this.instance.isOver&&(this.instance.isOver=!1,this.instance._trigger("out",e,this.instance._uiHashDnD(this.instance)),e.target=null,this.instance._mouseStop(e,!0),this.instance.dragItems.parent().remove(),this.instance.placeholder&&this.instance._removePlaceholder(),i.dropped=!1)}))}}),s.ui.plugin.add("draggable","cursor2",{start:function(){var e=s("body"),t=s(this).data("ui-draggable"),i=t.options;i.cursor2&&"auto"!==i.cursor2&&(t.storedCursor=e.css("cursor"),e.css("cursor",i.cursor2),t.storedStylesheet=s("<style>*{ cursor: "+i.cursor2+" !important; }</style>").appendTo(e))},stop:function(){var e=s(this).data("ui-draggable");e.storedCursor&&(s("body").css("cursor",e.storedCursor),e.storedStylesheet.remove())}})),apex.widget){var $={default:{operations:{canAdd:!1,canDelete:!1,canRename:!1,canDrag:!1}}};apex.widget.tree={init:function(i,n,r,o){var a=s("#"+t.escapeCSS(i),apex.gPageContext$);function l(t,i,s,n){e.plugin(i,{pageItems:s},{dataType:"json",refreshObject:t,loadingIndicator:t,loadingIndicatorPosition:"centered",success:function(e){n(e)}})}function d(e,t,i,n){l(e,i,n,(function(i){var n=i.data||{},r=i.showRoot||!1,o=i.navigation||!1,a=i.hasIdentity||!0,l=s.extend(!0,{},$),d=t.initialSelectedNodeId,c=t.nodeHasTooltip;t.defaultIcon&&(l.default.icon=t.defaultIcon),t=s.extend({getNodeAdapter:function(){return(t.makeNodeAdapter||s.apex.treeView.makeDefaultNodeAdapter)(n,l,a)},tooltip:c?{show:apex.tooltipManager.defaultShowOption(),content:function(e,t){return t?t.tooltip:null}}:null,navigation:o,showRoot:r},t),e.treeView(t),h(e,d)}))}function h(e,t){var i;Array.isArray(t)&&t.length>0?e.treeView("setSelectedNodes",t,!1,!0):(i=e.treeView("find",{depth:-1,findAll:!1,match:function(e){return e.id===t}})).length>0&&e.treeView("setSelection",i)}o.regionStaticId&&o.lazyLoading?setTimeout((function(){!function(e){var t,i,s=!0,n=e&&e.closest("div.apex-tabs-region").length>0;e&&(s=e.is(":visible"));n&&(t=apex.region(e.closest("div.apex-tabs-region").attr("id")).widget())&&(i=t.aTabs("getActive").el$,0===e.parents("#"+i.attr("id")).length&&(s=!1));return s}(a)?apex.widget.util.onVisibilityChange(a[0],(function(e){e&&(d(a,o,o.ajaxIdentifier,o.itemsToSubmit),apex.widget.util.offVisibilityChange(a[0]))})):d(a,o,o.ajaxIdentifier,o.itemsToSubmit)}),0):function(e,t,i,n){var r=s.extend(!0,{},$),o=t.initialSelectedNodeId,a=t.nodeHasTooltip;t.defaultIcon&&(r.default.icon=t.defaultIcon);t=s.extend({getNodeAdapter:function(){return(t.makeNodeAdapter||s.apex.treeView.makeDefaultNodeAdapter)(i,r,n)},tooltip:a?{show:apex.tooltipManager.defaultShowOption(),content:function(e,t){return t?t.tooltip:null}}:null,navigation:!0},t),e.treeView(t),h(e,o)}(a,o,n,r),o.regionStaticId&&apex.region.create(o.regionStaticId,{type:"Tree",widgetName:"treeView",refresh:function(){var e,t,i;e=a,t=o.ajaxIdentifier,i=o.itemsToSubmit,l(e,t,i,(function(t){var i,n=t.data||{},r=t.showRoot||!1,o=t.navigation||!1,a=t.hasIdentity||!0,l=e.treeView("getNodeAdapter"),d=function(e){return e.treeView("getSelectedNodes")}(e);l.getExpandedState?i=e.treeView("getExpandedNodeIds"):s.apex.treeView.addViewStateMixin(l,a,d),l.data=n,e.treeView("getNodeAdapter",(function(){return l})),e.treeView("option","showRoot",r),e.treeView("option","navigation",o),e.treeView("refresh"),function(e,t){var i;if(t)for(var s=0;s<t.length;s++)(i=e.treeView("find",{depth:-1,findAll:!1,match:function(e){return e.id===t[s]}})).length>0&&e.treeView("expand",i)}(e,i),h(e,d)}))},focus:function(){a.treeView("focus")},widget:function(){return a}})},expand_all:function(e){s("#"+t.escapeCSS(e),apex.gPageContext$).treeView("expandAll")},collapse_all:function(e){s("#"+t.escapeCSS(e),apex.gPageContext$).treeView("collapseAll")},reset:function(e){var i=s("#"+t.escapeCSS(e),apex.gPageContext$);i.treeView("collapseAll").treeView("expand",i.children().children("li").first())}}}}(apex.server,apex.util,apex.debug,apex.jQuery);
!function(n,e,o){"use strict";var t=function(){var n=[],t=-1,r=null,c={execute:function(){},undo:function(){},redo:function(){return this.execute()},label:function(){return""}};function u(){if(t<0)throw"Command history nothing to undo"}function i(){if(t>=n.length-1)throw"Command history nothing to redo"}return{clear:function(){n=[],t=-1,o(document).trigger("commandHistoryChange")},execute:function(c){try{e.info("Execute command: "+c.label()),c.execute()}catch(n){return e.error("Exception during execute command.",n),void(r&&r("execute",c,n))}(t+=1)<n.length&&(n.length=t),n.push(c),o(document).trigger("commandHistoryChange")},undo:function(){u();try{e.info("Undo command: "+n[t].label()),n[t].undo()}catch(o){e.error("Exception during undo command.",o),r&&r("undo",n[t],o),n.length=t}t-=1,o(document).trigger("commandHistoryChange")},redo:function(){i(),t+=1;try{e.info("Redo command: "+n[t].label()),n[t].redo()}catch(o){e.error("Exception during redo command.",o),r&&r("redo",n[t],o),n.length=t,t-=1}o(document).trigger("commandHistoryChange")},canUndo:function(){return t>=0},canRedo:function(){return t<n.length-1},undoLabel:function(){return u(),n[t].label()},redoLabel:function(){return i(),n[t+1].label()},setErrorHandler:function(n){r=n},getErrorHandler:function(){return r},baseCommand:function(){return Object.create(c)}}};n.commandHistory=t(),n.commandHistory.newCommandHistory=t}(apex,apex.debug,apex.jQuery);
!function(e,t){"use strict";var a={};t.templateOptionsHelper={getValuesFromDialog:function(t,a){var r,l=[];function u(t){for(var u=0;u<t.length;u++)r=a.propertyEditor("getPropertyValue",t[u].propertyName),e.isEmptyObject(r)||l.push(r)}return u(t.common),u(t.advanced),l},getProperties:function(r,l,u,i){var o,n,p,s,d,c,m,v,f,y,h=[],g={},E=[],T=[],O={},D={common:[],advanced:[]},V="";for(i&&(V=i.propertyName,f=e.isEmptyObject(i.value),y=!(!i.metaData||!i.metaData.multiSelectData)),o=0;o<r.values.length;o++)(c=r.values[o]).groupId?(n=c.groupId,g.hasOwnProperty(n)?p=g[n]:(s=r.groups[n],h.push({title:s.title,seq:s.seq,nullText:s.nullText,isAdvanced:s.isAdvanced,isRequired:!1,lovValues:[],value:""}),p=h.length-1,g[n]=p),-1!==e.inArray(c.r,r.presetValues)&&(h[p].isRequired=!0,""===h[p].value&&(h[p].value=c.r)),-1!==e.inArray(c.r,l)&&(h[p].value=c.r),h[p].lovValues.push({r:c.r,d:c.d})):(T.push(c),-1!==e.inArray(c.r,l)&&E.push(c.r));for(m=f?a:E.join(":"),h.sort((function(e,t){return e.seq===t.seq?e.title.localeCompare(t.title):e.seq-t.seq})),v={type:"TEMPLATE OPTIONS GENERAL",prompt:t.lang.getMessage("TEMPLATE_OPTIONS.GENERAL"),isReadOnly:!!u,isRequired:!1,lovValues:T,displayGroupId:"common",defaultTemplateOptions:r.defaultValues},y&&(v.multiSelectData=i.metaData.multiSelectData),D.common[0]={propertyName:"general",propertyId:V,value:m,oldValue:m,originalValue:m,metaData:v,errors:[],warnings:[]},o=0;o<h.length;o++)d=(s=h[o]).isAdvanced?"advanced":"common",O=s.value?s.value:"",v={type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:s.title,isReadOnly:!!u,isRequired:s.isRequired,nullText:s.nullText,lovValues:s.lovValues,displayGroupId:d},y&&(v.multiSelectData=i.metaData.multiSelectData),D[d].push({propertyName:"grp"+o,value:O,oldValue:O,originalValue:O,metaData:v,errors:[],warnings:[]});return D},addGeneralPropertyType:function(){e.apex.propertyEditor.addPropertyType("TEMPLATE OPTIONS GENERAL",{init:function(a,r){var l=e();this.super("init",a,r);for(var u=a.find("input[type=checkbox]"),i=u.filter("[value='#DEFAULT#']"),o=0;o<r.metaData.defaultTemplateOptions.length;o++)l=l.add(u.filter("[value='"+t.util.escapeCSS(r.metaData.defaultTemplateOptions[o])+"']"));i.on("click setdefaultcheckboxes",(function(){var t=e(this).prop("checked");t&&l.prop("checked",!0),l.prop("disabled",t)})).trigger("setdefaultcheckboxes")},getValue:function(e){var t=[];return e.find("input[type=checkbox]").filter(":checked:not(:disabled)").each((function(){t.push(this.value)})),t.join(":")},setValue:function(e,t,a){this.super("setValue",e,t,a),e.find("input[type=checkbox]").filter("[value='#DEFAULT#']").trigger("setdefaultcheckboxes")}},"CHECKBOXES")}}}(apex.jQuery,apex);
pe=function(e,t,r,n,i,_,o){"use strict";var p={APPLICATION:"1000",THEME:"2000",PAGE_TEMPLATE:"2510",FIELD_TEMPLATE:"2520",BUTTON_TEMPLATE:"2530",REGION_TEMPLATE:"2540",LIST_TEMPLATE:"2550",BREADCRUMB_TEMPLATE:"2560",CALENDAR_TEMPLATE:"2570",REPORT_TEMPLATE:"2580",APP_ITEM:"3010",APP_COMPUTATION:"3020",APP_PROCESS:"3030",BUILD_OPTION:"3040",AUTHENTICATION:"3050",AUTHORIZATION:"3060",WEB_SRC_MODULE:"3080",WEB_SRC_OPERATION:"3081",WEB_SRC_MOD_PARAM:"3082",WEB_SRC_OPER_PARAM:"3083",WEB_SRC_QUERY:"3083",BREADCRUMB:"3510",LIST:"3520",LOV:"3530",WS_REF:"3540",WS_REF_OPER:"3541",WS_REF_OPER_P_I:"3545",WS_REF_OPER_P_O:"3546",WS_REF_OPER_P_A:"3547",WS_REF_OPER_P_H:"3548",DATA_LOAD_TABLE:"3550",TAB_SET:"3560",PAGE:"5000",REGION:"5110",PAGE_ITEM:"5120",BUTTON:"5130",DA_EVENT:"5140",DA_ACTION:"5150",VALIDATION:"5510",PAGE_COMPUTATION:"5520",PAGE_PROCESS:"5530",BRANCH:"5540",REGION_PLUGIN_ATTR:"7000",IR_ATTRIBUTES:"7010",IR_SAVED_REPORT:"7020",IR_COLUMN_GROUP:"7030",IR_COLUMN:"7040",IR_PRINT_ATTR:"7050",PAGE_PROC_WS_P_I:"7110",PAGE_PROC_WS_P_O:"7120",PAGE_PROC_WS_P_A:"7130",PAGE_WS_PARAM:"7150",REGION_WS_PARAM:"7160",MAP_CHART:"7210",MAP_CHART_SERIES:"7220",CLASSIC_REPORT:"7310",CLASSIC_RPT_COLUMN:"7320",CLASSIC_RPT_PRINT:"7330",TABULAR_FORM:"7410",TAB_FORM_COLUMN:"7420",TAB_FORM_PRINT:"7430",CHART:"7510",CHART_SERIES:"7520",CLASSIC_CALENDAR:"7610",REGION_COLUMN:"7710",JET_CHART:"7810",JET_CHART_SERIES:"7820",JET_CHART_AXES:"7830",JET_CHART_WS_PARAM:"7840",IG_ATTRIBUTES:"7910",IG_SAVED_REPORT:"7920",IG_COLUMN_GROUP:"7930",IG_COLUMN:"7940",IG_PRINT:"7950",FACET:"8010",FACET_GROUP:"8020",FACET_GROUP_ITEM:"8030",CARD:"8110",CARD_ACTION:"8120"},s={NAME:"1",ERROR_MESSAGE:"6",PAGE_GROUP:"9",PAGE_MODE:"10",PAGE_TEMPLATE:"11",STANDARD_TAB_SET:"12",TITLE:"13",AUTHORIZATION_SCHEME:"24",BUILD_OPTION:"38",COMPUTATION_ITEM_NAME:"51",COMPUTATION_TYPE:"52",COMPUTATION_STATIC_VALUE:"53",COMPUTATION_SQL_STATEMENT:"54",COMPUTATION_ITEM_VALUE:"58",COMPUTATION_PREFERENCE_VALUE:"59",EXECUTION_SEQUENCE:"60",COMPUTATION_POINT:"61",EVENT:"62",CUSTOM_EVENT:"63",WHEN_TYPE:"64",WHEN_REGION:"65",WHEN_BUTTON:"66",WHEN_ITEMS:"67",WHEN_DOM_OBJECT:"68",WHEN_JQUERY_SELECTOR:"69",JS_CONDITION:"70",DA_ACTION_TYPE:"82",FIRE_WHEN_EVENT_RESULT_IS:"83",FIRE_ON_PAGE_LOAD:"84",AFFECTED_TYPE:"85",AFFECTED_REGION:"86",AFFECTED_BUTTON:"87",AFFECTED_ITEMS:"88",AFFECTED_DOM_OBJECT:"89",AFFECTED_JQUERY_SELECTOR:"90",ITEM_TYPE:"93",REGION_TYPE:"94",PAGE_PROCESS_TYPE:"95",ITEM_NAME:"96",DISPLAY_SEQUENCE:"97",REGION:"98",ITEM_LABEL:"99",LABEL_ALIGNMENT:"100",FIELD_TEMPLATE:"101",VALUE_REQUIRED:"103",GRID_NEW_GRID:"104",GRID_NEW_ROW:"105",GRID_COLUMN:"106",GRID_NEW_COLUMN:"107",GRID_COLUMN_SPAN:"108",GRID_ROW_SPAN:"109",GRID_COLUMN_ATTRIBUTES:"110",FORMAT_MASK:"111",LOV_SQL:"122",ELEMENT_FIELD_ALIGNMENT:"123",ELEMENT_WIDTH:"124",ELEMENT_MAX_CHARACTERS:"125",ELEMENT_HEIGHT:"126",CUSTOM_ATTRIBUTES:"129",SOURCE_USED:"133",SOURCE_TYPE:"134",SOURCE_DB_COLUMN:"141",READ_ONLY_HTML_ATTRIBUTES:"171",BUTTON_NAME:"176",BUTTON_LABEL:"177",BUTTON_POSITION:"178",ALIGNMENT:"179",BUTTON_TEMPLATE:"182",BUTTON_IS_HOT:"183",BUTTON_TARGET:"187",PARENT_REGION:"190",REGION_POSITION:"191",PROCESS_POINT:"192",REGION_SQL:"193",REGION_PLUGIN_PLAIN:"194",PLSQL_CODE:"198",REGION_HTML_CODE:"214",REGION_TEMPLATE:"217",ITEM_DISPLAY_POSITION:"218",REGION_DISPLAY_SELECTOR:"219",REGION_FUNCTION_RETURNING_SQL:"225",BRANCH_TYPE:"226",BRANCH_POINT:"227",TARGET:"228",BRANCH_PAGE_NUMBER:"229",BRANCH_ITEM:"230",WHEN_BUTTON_PRESSED:"234",ALWAYS_EXECUTE:"245",ASSOCIATED_ITEM:"247",ASSOCIATED_COLUMN:"248",EXECUTE_CONDITION:"250",VALIDATION_REGION:"251",BUTTON_ACTION:"252",USER_INTERFACE:"253",DIALOG_TEMPLATE:"254",OVERWRITE_NAVIGATION_LIST:"255",NAVIGATION_LIST:"256",NAVIGATION_LIST_TEMPLATE:"257",COLUMN_NAME:"267",COLUMN_TYPE:"268",IR_COLUMN_DISPLAY_TYPE:"271",COLUMN_HEADING:"272",HEADING_ALIGNMENT:"275",COLUMN_ALIGNMENT:"276",ALLOW_USERS_TO_HIDE:"277",ALLOW_USERS_TO_SORT:"278",ALLOW_USERS_TO_FILTER:"279",ALLOW_USERS_TO_HIGHLIGHT:"280",ALLOW_USERS_TO_CONTROL_BREAK:"281",ALLOW_USERS_TO_AGGREGATE:"282",ALLOW_USERS_TO_COMPUTE:"283",ALLOW_USERS_TO_CHART:"284",ALLOW_USERS_TO_GROUP_BY:"285",IR_COLUMN_FILTER_TYPE:"286",HTML_EXPRESSION:"289",LINK_TEXT:"290",WHEN_NO_DATA_FOUND_MESSAGE:"297",DOWNLOAD_FORMATS:"308",LINK_ICON:"319",SHOW_DOWNLOAD:"352",PROCESS_REGION:"370",DA_EVENT:"371",LOV_TYPE:"373",TZ_DEPENDENT:"375",CHART_TITLE:"380",ALLOW_USERS_TO_PIVOT:"383",HAS_GENERIC_COLUMNS:"390",GENERIC_COLUMN_COUNT:"391",CLASSIC_REPORT_COLUMN_TYPE:"398",COLUMN_SORT_SEQUENCE:"406",DISABLE_SORT_COLUMN:"408",INCLUDE_IN_EXPORT_PRINT:"409",HEADINGS_TYPE:"427",HEADING_TYPE_PLSQL_FUNCTION_BODY:"428",NUMBER_OF_ROWS_TYPE:"433",NUMBER_OF_ROWS:"434",NUMBER_OF_ROWS_ITEM:"435",TAB_FORM_COLUMN_TYPE:"452",BRANCH_ACCEPT_REQUEST:"465",QUERY_COLUMN_ID:"466",DERIVED_COLUMN:"467",MAP_SERIES_SOURCE_TYPE:"469",MAP_SOURCE_QUERY:"470",MAP_SOURCE_FUNC_RETURNING_SQL:"471",CHART_TYPE:"473",SERIES_CHART_TYPE:"474",PROJECT_GANTT_SERIES_SOURCE_TYPE:"475",PROJECT_GANTT_SOURCE_QUERY:"476",PROJECT_GANTT_SOURCE_FUNC_RETURNING_SQL:"477",RESOURCE_GANTT_SERIES_SOURCE_TYPE:"478",RESOURCE_GANTT_SOURCE_QUERY:"479",RESOURCE_GANTT_SOURCE_FUNC_RETURNING_SQL:"480",PIE_DOUGHNUT_SERIES_SOURCE_TYPE:"481",PIE_DOUGHNUT_SOURCE_QUERY:"482",PIE_DOUGHNUT_SOURCE_FUNC_RETURNING_SQL:"483",DIAL_SERIES_SOURCE_TYPE:"484",DIAL_SOURCE_QUERY:"485",DIAL_SOURCE_FUNC_RETURNING_SQL:"486",SCATTER_SERIES_SOURCE_TYPE:"487",SCATTER_SOURCE_QUERY:"488",SCATTER_SOURCE_FUNC_RETURNING_SQL:"489",RANGE_SERIES_SOURCE_TYPE:"490",RANGE_SOURCE_QUERY:"491",RANGE_SOURCE_FUNC_RETURNING_SQL:"492",CANDLESTICK_SERIES_SOURCE_TYPE:"493",CANDLESTICK_SOURCE_QUERY:"494",CANDLESTICK_SOURCE_FUNC_RETURNING_SQL:"495",LINE_COL_BAR_STK_SERIES_SOURCE_TYPE:"496",LINE_COL_BAR_STK_SOURCE_QUERY:"497",LINE_COL_BAR_STK_SOURCE_FUNC_RETURNING_SQL:"498",SERIES_TYPE:"499",USE_CUSTOM_XML:"534",CUSTOM_XML:"535",CHART_WIDTH:"544",CHART_HEIGHT:"545",VALUE_DECIMAL_PLACES:"588",PRINT_PAGE_SIZE:"700",PRINT_ORIENTATION:"701",PRINT_UNITS:"702",PRINT_WIDTH:"703",PRINT_HEIGHT:"704",PRINT_PAGE_HEADER_TEXT:"712",ENABLE_PRINTING:"729",PLUGIN_ATTR_REGION_TYPE:"737",HIDDEN_REGION_TYPE:"737",IS_VISIBLE:"738",COMPUTATION_SQL_COLON:"744",PARAMETER_ID:"753",PAGE_NAVIGATION_TYPE:"754",AFFECTED_JAVASCRIPT_EXPRESSION:"755",WHEN_JAVASCRIPT_EXPRESSION:"756",NAVIGATION_LIST_POSITION:"757",GRID_LABEL_COLUMN_SPAN:"760",GRID_COLUMN_CSS_CLASSES:"763",JS_COND_VALUE:"766",JS_COND_LIST:"767",MASTER_REGION:"769",IS_EDITABLE:"770",SHOW_TOTAL_ROW_COUNT:"784",ENABLE_DOWNLOAD:"791",IG_DOWNLOAD_FORMATS:"792",INIT_JAVASCRIPT_CODE:"803",ALTERNATIVE_LABEL:"804",FILTER_LOV_TYPE:"811",IG_COLUMN_SOURCE_TYPE:"815",DATA_TYPE:"818",IS_PRIMARY_KEY:"820",MASTER_COLUMN:"821",ENABLE_SORT_GROUP:"822",EXECUTE_READONLY:"828",JET_CHART_TYPE:"829",JET_GAUGE_ORIENTATION:"838",VALUE_FORMAT_TYPE:"847",VALUE_FORMAT_SCALING:"850",LEGEND_RENDERED:"857",CHART_MAX_WIDTH:"862",JET_SERIES_TYPE_COMBO:"864",DATA_SOURCE_TYPE:"866",DATA_SOURCE_QUERY:"867",DATA_SOURCE_FUNC_RETURN_SQL:"868",JET_SERIES_TYPE_RANGE:"934",JET_SERIES_TYPE_POLAR:"936",JET_SERIES_TYPE_RADAR:"937",JET_SERIES_TYPE_COLUMN_MAPPING:"932",ASSIGNED_TO_Y2:"907",ITEMS_LABEL_RENDERED:"908",FILTER_DATA_TYPE:"938",PLUGIN_INIT_JAVASCRIPT_CODE:"943",WHEN_COLUMNS:"944",JS_CONDITION_ELEMENT_TYPE:"945",JS_CONDITION_ITEM_WHEN_IG:"946",JS_CONDITION_COLUMN_WHEN_IG:"947",AFFECTED_COLUMNS:"948",IG_REGION:"949",JS_CONDITION_ITEM:"950",JS_CONDITION_WHEN_IG:"951",JS_COND_VALUE_WHEN_IG:"952",JS_COND_LIST_WHEN_IG:"953",SOURCE_LOCATION:"957",SOURCE_REMOTE_DATABASE:"958",SOURCE_QUERY_TYPE:"959",SOURCE_QUERY_OWNER:"960",SOURCE_QUERY_TABLE:"961",SOURCE_QUERY_WHERE:"962",SOURCE_QUERY_ORDER_BY:"963",SOURCE_SQL_QUERY:"964",SOURCE_WEB_SRC_QUERY:"967",JET_SERIES_TYPE_BOX_PLOT:"973",OPTIMIZER_HINT:"975",SOURCE_INCLUDE_ROWID_COLUMN:"978",JET_AXIS_SCALE:"983",DIRECTION:"998",IS_STATIC:"1000",PARAMETER_REQUIRED:"1001",PARAMETER_VALUE:"1002",DATABASE_OPERATION:"1003",WEB_SRC_PARAM:"1004",VALUE_TYPE:"1005",VALUE_STATIC_VALUE:"1006",PLSQL_PROCESS_LOCATION:"1014",CHART_SOURCE_LOCATION:"1032",SOURCE_POST_PROCESSING:"1034",POST_PROC_WHERE:"1035",POST_PROC_ORDER_BY:"1036",POST_PROC_SQL_QUERY:"1041",DATA_SOURCE_REGION:"1060",DATA_SOURCE_COLUMN:"1061",PROCESS_DATA_SOURCE_REGION:"1062",SOURCE_FILTERED_REGION:"1090",FACET_LOV_TYPE:"1091",DEPENDING_ON_FACET:"1104",WEB_SRC_HAS_LOCAL_TABLE:"1111",WEB_SRC_USE_LOCAL_TABLE:"1112",ICON_SOURCE_TYPE:"1151",MEDIA_SOURCE_TYPE:"1163",FACET_GROUP:"1172",FACET_REGION:"1173",DEPENDING_ON_FACET_GRP_ITEM:"1175",FC_SHOW_CHART:"1176",CARD_ACTION_TYPE:"1180",CARD_LINK_TARGET_TYPE:"1182",CARD_USES_BLOB_COLUMN:"1184",COMPUTATION_EXPRESSION_LANG:"5200",COMPUTATION_SQL_EXPRESSION_VARCHAR2:"5201",COMPUTATION_PLSQL_EXPRESSION_VARCHAR2:"5202",COMPUTATION_JS_EXPRESSION_VARCHAR2:"5203",COMPUTATION_JAVA_EXPRESSION_VARCHAR2:"5204",COMPUTATION_PYTHON_EXPRESSION_VARCHAR2:"5205",COMPUTATION_FUNC_BODY_LANG:"5220",COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2:"5221",COMPUTATION_JS_FUNC_BODY_VARCHAR2:"5222",COMPUTATION_JAVA_FUNC_BODY_VARCHAR2:"5223",COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2:"5224",LOV_FUNC_BODY_LANG:"5320",LOV_PLSQL_FUNC_BODY_SQL:"5321",LOV_JS_FUNC_BODY_SQL:"5322",LOV_JAVA_FUNC_BODY_SQL:"5323",LOV_PYTHON_FUNC_BODY_SQL:"5324",SOURCE_QUERY_FUNC_BODY_LANG:"5360",SOURCE_QUERY_PLSQL_FUNC_BODY_SQL:"5361",SOURCE_QUERY_JS_FUNC_BODY_SQL:"5362",SOURCE_QUERY_JAVA_FUNC_BODY_SQL:"5363",SOURCE_QUERY_PYTHON_FUNC_BODY_SQL:"5364",POST_PROC_FUNC_BODY_LANG:"5380",POST_PROC_PLSQL_FUNC_BODY_SQL:"5381",POST_PROC_JS_FUNC_BODY_SQL:"5382",POST_PROC_JAVA_FUNC_BODY_SQL:"5383",POST_PROC_PYTHON_FUNC_BODY_SQL:"5384",VALIDATION_TYPE:"5400",VAL_SQL_STATEMENT:"5401",VAL_ITEM:"5402",VAL_VALUE:"5403",VAL_REGULAR_EXPRESSION:"5404",VAL_FUNC_BODY_LANG_ERROR:"5405",VAL_PLSQL_FUNC_BODY_ERROR:"5406",VAL_JS_FUNC_BODY_ERROR:"5407",VAL_JAVA_FUNC_BODY_ERROR:"5408",VAL_PYTHON_FUNC_BODY_ERROR:"5409",VAL_PLSQL:"5425",VAL_EXPRESSION_LANG:"5426",VAL_SQL_EXPRESSION_BOOLEAN:"5427",VAL_PLSQL_EXPRESSION_BOOLEAN:"5428",VAL_JS_EXPRESSION_BOOLEAN:"5429",VAL_JAVA_EXPRESSION_BOOLEAN:"5430",VAL_PYTHON_EXPRESSION_BOOLEAN:"5431",VAL_FUNC_BODY_LANG:"5446",VAL_PLSQL_FUNC_BODY_BOOLEAN:"5447",VAL_JS_FUNC_BODY_BOOLEAN:"5448",VAL_JAVA_FUNC_BODY_BOOLEAN:"5449",VAL_PYTHON_FUNC_BODY_BOOLEAN:"5450",REGION_VALIDATION_TYPE:"5500",REGION_VAL_SQL_STATEMENT:"5501",REGION_VAL_COLUMN:"5502",REGION_VAL_VALUE:"5503",REGION_VAL_REGULAR_EXPRESSION:"5504",REGION_VAL_FUNC_BODY_LANG_ERROR:"5505",REGION_VAL_PLSQL_FUNC_BODY_ERROR:"5506",REGION_VAL_JS_FUNC_BODY_ERROR:"5507",REGION_VAL_JAVA_FUNC_BODY_ERROR:"5508",REGION_VAL_PYTHON_FUNC_BODY_ERROR:"5509",REGION_VAL_PLSQL:"5525",REGION_VAL_EXPRESSION_LANG:"5526",REGION_VAL_SQL_EXPRESSION_BOOLEAN:"5527",REGION_VAL_PLSQL_EXPRESSION_BOOLEAN:"5528",REGION_VAL_JS_EXPRESSION_BOOLEAN:"5529",REGION_VAL_JAVA_EXPRESSION_BOOLEAN:"5530",REGION_VAL_PYTHON_EXPRESSION_BOOLEAN:"5531",REGION_VAL_FUNC_BODY_LANG:"5546",REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN:"5547",REGION_VAL_JS_FUNC_BODY_BOOLEAN:"5548",REGION_VAL_JAVA_FUNC_BODY_BOOLEAN:"5549",REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN:"5550",READ_ONLY_TYPE:"5050",CONDITION_TYPE:"5100",CONDITION_SQL_STATEMENT:"5101",CONDITION_VALUE1:"5102",CONDITION_ITEM1:"5103",CONDITION_LIST:"5104",CONDITION_PREFERENCE:"5105",CONDITION_PAGE:"5106",CONDITION_PAGES:"5107",CONDITION_TEXT:"5108",CONDITION_VALUE2:"5109",CONDITION_ITEM2:"5110",CONDITION_TEXT2:"5111",CONDITION_EXPRESSION_LANG:"5112",CONDITION_SQL_EXPRESSION_BOOLEAN:"5113",CONDITION_PLSQL_EXPRESSION_BOOLEAN:"5114",CONDITION_JS_EXPRESSION_BOOLEAN:"5115",CONDITION_JAVA_EXPRESSION_BOOLEAN:"5116",CONDITION_PYTHON_EXPRESSION_BOOLEAN:"5117",CONDITION_FUNC_BODY_LANG:"5132",CONDITION_PLSQL_FUNC_BODY_BOOLEAN:"5133",CONDITION_JS_FUNC_BODY_BOOLEAN:"5134",CONDITION_JAVA_FUNC_BODY_BOOLEAN:"5135",CONDITION_PYTHON_FUNC_BODY_BOOLEAN:"5136",SOURCE_SNIPPET_LANG:"5660",SOURCE_PLSQL_CODE:"5661",SOURCE_JS_CODE:"5662",SOURCE_JAVA_CODE:"5663",SOURCE_PYTHON_CODE:"5664",FORM_FETCH_TABLE_NAME:"361800327927635543",FORM_PROCESS_TABLE_NAME:"723641536018615468"},E=[s.POST_PROC_SQL_QUERY,s.POST_PROC_PLSQL_FUNC_BODY_SQL,s.POST_PROC_JS_FUNC_BODY_SQL,s.POST_PROC_JAVA_FUNC_BODY_SQL,s.POST_PROC_PYTHON_FUNC_BODY_SQL,s.SOURCE_QUERY_TABLE,s.SOURCE_SQL_QUERY,s.SOURCE_WEB_SRC_QUERY,s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,s.SOURCE_QUERY_JS_FUNC_BODY_SQL,s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL,s.REGION_SQL,s.REGION_FUNCTION_RETURNING_SQL],a=[s.SOURCE_PLSQL_CODE,s.SOURCE_JS_CODE,s.SOURCE_JAVA_CODE,s.SOURCE_PYTHON_CODE,s.PLSQL_CODE],O=[p.CLASSIC_CALENDAR,p.CHART,p.MAP_CHART,p.IR_ATTRIBUTES,p.IR_PRINT_ATTR,p.IG_ATTRIBUTES,p.IG_PRINT,p.JET_CHART,p.CLASSIC_REPORT,p.CLASSIC_RPT_PRINT,p.TABULAR_FORM,p.REGION_PLUGIN_ATTR],T={CREATE:"create",CHANGE:"change",DELETE:"delete",ERRORS:"errors",NO_ERRORS:"no_errors",WARNINGS:"warnings",NO_WARNINGS:"no_warnings",ADD_PROP:"add_property",REMOVE_PROP:"remove_property",META_DATA:"meta_data",GRID:"grid",DISPLAY_TITLE:"display_title"},l={CREATED:"created",CHANGED:"changed",REMOVED:"removed",VALIDATE:"validate"},I="c",A="u",N="d",u="",R="DESKTOP",d="JQM_SMARTPHONE",C={COMPONENT:"COMPONENT",COMBOBOX:"COMBOBOX",COLOR:"COLOR",CHECKBOXES:"CHECKBOXES",CSS:"CSS",JAVASCRIPT:"JAVASCRIPT",HTML:"HTML",ICON:"ICON",INTEGER:"INTEGER",LINK:"LINK",NUMBER:"NUMBER",ITEM:"ITEM",FACET:"FACET",PAGE:"PAGE",PLSQL:"PLSQL",PLSQL_EXPR_VARCHAR:"PLSQL EXPRESSION VARCHAR2",PLSQL_EXPR_BOOLEAN:"PLSQL EXPRESSION BOOLEAN",PLSQL_FUNC_VARCHAR:"PLSQL FUNCTION BODY VARCHAR2",PLSQL_FUNC_BOOLEAN:"PLSQL FUNCTION BODY BOOLEAN",PLSQL_FUNC_SQL:"PLSQL FUNCTION BODY SQL",CODE_LANGUAGE:"CODE LANGUAGE",MLE_JS:"MLE JAVASCRIPT",MLE_JS_EXPR_VARCHAR:"MLE JAVASCRIPT EXPRESSION VARCHAR2",MLE_JS_EXPR_BOOLEAN:"MLE JAVASCRIPT EXPRESSION BOOLEAN",MLE_JS_FUNC_VARCHAR:"MLE JAVASCRIPT FUNCTION BODY VARCHAR2",MLE_JS_FUNC_BOOLEAN:"MLE JAVASCRIPT FUNCTION BODY BOOLEAN",MLE_JS_FUNC_SQL:"MLE JAVASCRIPT FUNCTION BODY SQL",SELECT_LIST:"SELECT LIST",SQL:"SQL",SQL_EXPR:"SQL EXPRESSION",SQL_EXPR_BOOLEAN:"SQL EXPRESSION BOOLEAN",SUBSCRIPTION:"SUBSCRIPTION",TEXT:"TEXT",TEXTAREA:"TEXTAREA",TEXT_EDITOR:"TEXT EDITOR",SUPPORTED_UI:"SUPPORTED UI",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",OWNER:"OWNER",TABLE:"TABLE",COLUMN:"COLUMN",REGION_COLUMN:"REGION COLUMN",WHERE_CLAUSE:"WHERE CLAUSE",ORDER_BY_CLAUSE:"ORDER BY CLAUSE",TEMPLATE_OPTIONS:"TEMPLATE OPTIONS"},P=[C.SQL,C.PLSQL_FUNC_SQL,C.MLE_JS_FUNC_SQL],L={CHANGE:"CHANGE_ATTRIBUTE",CREATE:"CREATE",DELETE:"DELETE",DUPLICATE:"DUPLICATE",MOVE:"MOVE"},S={};S[s.SOURCE_LOCATION]="SOURCE_LOCATION",S[s.SOURCE_QUERY_TABLE]="SOURCE_LOCATION",S[s.SOURCE_SQL_QUERY]="SOURCE_LOCATION",S[s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.SOURCE_QUERY_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.SOURCE_WEB_SRC_QUERY]="SOURCE_LOCATION",S[s.POST_PROC_SQL_QUERY]="SOURCE_LOCATION",S[s.POST_PROC_PLSQL_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.POST_PROC_JS_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.POST_PROC_JAVA_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.POST_PROC_PYTHON_FUNC_BODY_SQL]="SOURCE_LOCATION",S[s.REGION_SQL]="SOURCE_SQL",S[s.PLSQL_CODE]="SOURCE_PLSQL",S[s.REGION_HTML_CODE]="SOURCE_HTML",S[s.REGION_PLUGIN_PLAIN]="SOURCE_PLAIN",S[s.REGION_FUNCTION_RETURNING_SQL]="SOURCE_PLSQL_FUNCTION",S[s.LOV_TYPE]="LOV",S[s.FACET_LOV_TYPE]="LOV",S[s.LOV_SQL]="LOV",S[s.LOV_PLSQL_FUNC_BODY_SQL]="LOV",S[s.LOV_JS_FUNC_BODY_SQL]="LOV",S[s.LOV_JAVA_FUNC_BODY_SQL]="LOV",S[s.LOV_PYTHON_FUNC_BODY_SQL]="LOV",S[s.PLUGIN_INIT_JAVASCRIPT_CODE]="INIT_JAVASCRIPT_CODE",S[s.AFFECTED_TYPE]="REQUIRED",S[s.PROCESS_REGION]="REGION_REQUIRED",S[s.PROCESS_DATA_SOURCE_REGION]="REGION_REQUIRED";var h,c,y,U,f,g,D,m,G,M,v={},V={},B=[],Y={isInternal:!1,isReadOnly:!1},F=!0;function Q(e,t,r){return t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=[m],i.process(e,t,r)}function H(e){var t=n.getMessage("MODEL."+e),r=[t].concat(Array.prototype.slice.call(arguments,1));return n.format.apply(this,r)}function w(e){var t=n.getMessage("MODEL."+e),r=[t].concat(Array.prototype.slice.call(arguments,1));return n.formatNoEscape.apply(this,r)}function x(e,t,r){return r?w(e,t):t}function b(e,t){for(var r in e)e.hasOwnProperty(r)&&t(r,e[r])}function W(e,t){for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r]}function k(e){for(var t=e;t.length<36;)t="0"+t;return t}function J(e){return/^[ABCDEFGHIJKLMNOPQRSTUVWXYZ]+[ABCDEFGHIJKLMNOPQRSTUVWXYZ0-9_$]*$/.test(e)?e:'"'+e+'"'}function q(t,r){function i(t,r,i){var _,o,E,a,O=y[i],T=O.pluginType;if(T.plugins=T.plugins||{},void 0!==t)for(var l=0;l<t.length;l++){if(T.plugins[t[l].name]={name:t[l].name,title:n.formatNoEscape(r,t[l].title),category:t[l].category,uiTypes:t[l].uiTypes,componentTypes:t[l].componentTypes,attributes:t[l].attributes,features:t[l].features,stdAttributes:t[l].stdAttributes||{},aboutUrl:t[l].aboutUrl,helpText:t[l].helpText||H("HELP.NO_TEXT"),isQuickPick:!0===t[l].isQuickPick,isDeprecated:!0===t[l].isDeprecated,isLegacy:!0===t[l].isLegacy,isRequired:-1!==e.inArray("SOURCE_REQUIRED",t[l].features)||-1!==e.inArray("LOV_REQUIRED",t[l].features)||-1!==e.inArray("REQUIRED",t[l].features)||-1!==e.inArray("REGION_REQUIRED",t[l].features)},t[l].hasOwnProperty("features")){for(var I=0;I<t[l].features.length;I++)if(_=t[l].features[I],T.features.hasOwnProperty(_))for(var A=0;A<T.features[_].length;A++)o=T.features[_][A],O.properties[o].dependingOn[0].values.push(t[l].name);i!==p.PAGE_ITEM&&i!==p.IG_COLUMN||-1!==e.inArray("FORMAT_MASK_DATE",t[l].features)||-1!==e.inArray("FORMAT_MASK_NUMBER",t[l].features)||O.properties[s.FORMAT_MASK].dependingOn[0].values.push(t[l].name)}if(i!==p.REGION){for(I=0;I<t[l].attributes.length;I++)W(t[l].attributes[I],{scope:"COMPONENT",defaultValue:"",helpText:""}),E=t[l].attributes[I],(i!==p.REGION_COLUMN&&"COMPONENT"===E.scope||i===p.REGION_COLUMN&&"COLUMN"===E.scope)&&(i!==p.IG_COLUMN&&i!==p.FACET&&i!==p.FACET_GROUP_ITEM&&(c[E.id]={id:E.id,name:i+"_"+t[l].name+"_"+E.mappingNo,prompt:E.prompt,type:E.type,multiValueDelimiter:E.multiValueDelimiter,displayLen:E.displayLen,maxLen:E.maxLen,textCase:E.textCase,unit:E.unit,hasPlSqlCheck:!1,sqlMinColumns:E.sqlMinColumns,sqlMaxColumns:E.sqlMaxColumns,dataTypes:E.dataTypes||{},displayGroupId:E.displayGroupId,lovType:E.lovType,lovComponentTypeId:E.lovComponentTypeId,lovComponentScope:E.lovComponentScope,lovValues:E.lovValues,isSearchable:E.isSearchable,deprecatedValues:E.deprecatedValues,examples:E.examples,helpText:E.helpText,isCustomPluginAttribute:/^PLUGIN/.test(t[l].name)},E.hasOwnProperty("uiTypes")&&(c[E.id].uiTypes=E.uiTypes),E.hasOwnProperty("componentTypes")&&(c[E.id].componentTypes=E.componentTypes),c[E.id].type===C.YES_NO&&(c[E.id].yesValue="Y",c[E.id].noValue="N")),a=E.referenceScope,E.type===C.ITEM&&(i===p.IG_COLUMN?a="ROW":i===p.DA_ACTION&&(a="DEPENDS")),O.properties[E.id]={propertyId:E.id,displaySeq:T.attributesSeqOffset+E.displaySeq,isRequired:E.isRequired,isReadOnly:!1,isCommon:E.isCommon,nullText:E.nullText,referenceOnDelete:E.referenceOnDelete,referenceScope:a,supportsSubstitution:E.supportsSubstitution,supportsTemplateDirective:E.supportsTemplateDirective,defaultValue:E.defaultValue,dependingOn:[{id:T.typePropertyId,hasToExist:!0,type:"EQUALS",expression:t[l].name}]},E.parentAttribute&&(O.properties[E.id].parentProperty=E.parentAttribute),E.dependingOn&&O.properties[E.id].dependingOn.push(E.dependingOn));if(i!==p.REGION_COLUMN&&i!=p.IG_COLUMN&&i!=p.FACET&&i!==p.FACET_GROUP_ITEM)for(I=0;I<t[l].events.length;I++)f.component.push({r:t[l].events[I].r,d:t[l].events[I].d+" ["+t[l].title+"]",uiTypes:t[l].uiTypes})}}}for(var _ in t)t.hasOwnProperty(_)&&(i(t[_],r,_),_===p.REGION&&(i(t[_],r,p.REGION_PLUGIN_ATTR),i(t[_],r,p.REGION_COLUMN)))}function X(){var e,t,r="ORA_WWV_apex.builder.pageDesigner.model.componentIds";return 0===(e=void 0===(e=localStorage[r])?[]:e.split(",")).length&&Q("getNewComponentId",{x01:50},{success:function(t){e=t},async:!1}),t=e[0],0===(e=e.slice(1)).length?delete localStorage[r]:localStorage[r]=e.join(","),t}function K(){return D.themes[M.themeId]}function j(){var e,t,r=v[p.PAGE][G];return e=K(),t=re()?e.defaultTemplates.page:"NORMAL"===r.getProperty(s.PAGE_MODE).getValue()?r.getProperty(s.PAGE_TEMPLATE).getValue()||e.defaultTemplates.page:r.getProperty(s.DIALOG_TEMPLATE).getValue()||e.defaultTemplates.dialog,e.templates[p.PAGE_TEMPLATE][t]}function $(e){var t=v[p.REGION][e].getProperty(s.REGION_TEMPLATE).getValue(),r=K().templates[p.REGION_TEMPLATE];return r.hasOwnProperty(t)?r[t]:r[""]}function Z(t){var r,n,i,_=t.component.typeId,o=K().options||[],E=[],a={};if(_===p.PAGE&&-1!==e.inArray(y[t.component.typeId].properties[t.id].parentProperty.id,[s.PAGE_TEMPLATE,s.DIALOG_TEMPLATE]))i="PAGE",n=j();else if((r=t.component.getProperty(y[t.component.typeId].properties[t.id].parentProperty.id))&&""!==r.getValue())switch(n=K().templates[c[r.id].lovComponentTypeId][r.getValue()],c[r.id].lovComponentTypeId){case p.REGION_TEMPLATE:i="REGION";break;case p.REPORT_TEMPLATE:i="REPORT";break;case p.BREADCRUMB_TEMPLATE:i="BREADCRUMB";break;case p.LIST_TEMPLATE:i="LIST";break;case p.FIELD_TEMPLATE:i="FIELD";break;case p.BUTTON_TEMPLATE:i="BUTTON"}if(void 0===n)return{values:[],valuesMap:{},defaultValues:[],presetValues:[],groups:{}};n&&n.hasOwnProperty("options")&&(E=E.concat(n.options));for(var O=0;O<o.length;O++)-1!==e.inArray(i,o[O].types)&&E.push(o[O]);E.unshift({r:"#DEFAULT#",d:H("LOV.TEMPLATE_OPTIONS.DEFAULT"),description:H("LOV.TEMPLATE_OPTIONS.DEFAULT.DESC")});for(O=0;O<E.length;O++)a[E[O].r]=E[O];return{values:E,valuesMap:a,defaultValues:n.defaultOptions||[],presetValues:n.presetOptions||[],groups:K().optionGroups||[]}}function z(t,r){return("ROWID"!==t||-1!==e.inArray(t,r))&&(0===r.length||void 0===t||e.inArray("VARCHAR2",r)>=0&&-1===e.inArray(t,["BLOB","BFILE"])||e.inArray("DATE",r)>=0&&e.inArray(t,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])>=0||e.inArray(t,r)>=0)}function ee(t,r,n){return-1!==e.inArray(t._uiType,r)}function te(t,r,n){return(!n.ui||ee(t,r.uiTypes))&&(!r.componentTypes||-1!==e.inArray(t.typeId,r.componentTypes))&&(!n.isDeprecated||!r.isDeprecated)&&(!n.isLegacy||!r.isLegacy)}function re(){return G===M.globalPageId}function ne(t,r){const n=window.gPreferences.CODE_LANGUAGE||"PLSQL";var i=r;function _(e,t){-1!==i.indexOf(e)&&(i=i.replace(e,t()))}return-1!==i.indexOf("#")?(_("#PAGE_ID#",(function(){return G})),_("#PLEASE_CHANGE#",(function(){return H("PLACEHOLDER.PLEASE_CHANGE")})),_("#PRINT_LINK_TEXT#",(function(){return H("PLACEHOLDER.PRINT_LINK_TEXT")})),_("#DEFAULT_REGION_TEMPLATE#",(function(){return K().defaultTemplates.region})),_("#DEFAULT_FIELD_TEMPLATE#",(function(){return K().defaultTemplates.field})),_("#DEFAULT_BUTTON_TEMPLATE#",(function(){return K().defaultTemplates.button})),_("#DEFAULT_REPORT_TEMPLATE#",(function(){return K().defaultTemplates.report})),_("#DEFAULT_LIST_TEMPLATE#",(function(){return K().defaultTemplates.list})),_("#DEFAULT_NAV_LIST_TEMPLATE#",(function(){return M.navList.templateId||""})),_("#DEFAULT_BREADCRUMB_TEMPLATE#",(function(){return K().defaultTemplates.breadcrumb})),_("#DEFAULT_CALENDAR_TEMPLATE#",(function(){return K().defaultTemplates.calendar})),_("#DEFAULT_NAV_LIST_POSITION#",(function(){return M.navList.position||""})),_("#CURRENT_COLUMN_NAME#",(function(){var r=t.component.getProperty(s.COLUMN_NAME).getValue();return-1!==e.inArray(t.component.typeId,[p.IR_COLUMN,p.CLASSIC_RPT_COLUMN,p.TAB_FORM_COLUMN])?r:J(r)})),_("#PRESET_TEMPLATE_OPTIONS#",(function(){var e=Z(t).presetValues;return e.length>0?":"+e.join(":"):""}))):c[t.id].type===C.CODE_LANGUAGE&&D.codeLanguages.hasOwnProperty(n)&&(i=n),i}function ie(e,t,r){for(var n,i=[],_=0;_<e.length;_++)n=e[_].getProperty(t),i.push({name:e[_].getProperty(r).getValue(),label:n?n.getValue():""});return i}function _e(e,t,r){var n,i,_=[];for(n=0;n<t.length;n++)if(i=e.getProperty(t[n])){_=i.getColumns(r);break}return _}function oe(t,r){var n,i,_,o,a={NATIVE_TABFORM:p.TAB_FORM_COLUMN,NATIVE_SQL_REPORT:p.CLASSIC_RPT_COLUMN,NATIVE_IR:p.IR_COLUMN,NATIVE_IG:p.IG_COLUMN},O=[];return(n=Oe(p.REGION,{id:t})).length>0&&(_=(i=n[0])._properties[s.REGION_TYPE]._value,a.hasOwnProperty(_)?(o="NATIVE_IR"===_?i.getChilds(p.IR_ATTRIBUTES)[0].id:i.id,O=ie(n=Oe(a[_],{parentId:o}),s.COLUMN_HEADING,s.COLUMN_NAME)):O=-1!==e.inArray("COLUMNS",y[p.REGION].pluginType.plugins[_].features)?ie(n=Oe(p.REGION_COLUMN,{parentId:i.id}),s.COLUMN_HEADING,s.COLUMN_NAME):_e(i,E,r)),O}function pe(e,t){var r,n=[];return(r=Oe(p.REGION,{id:e})).length>0&&(n=_e(r[0],E,t)),n}function se(t){var r=t.propertyId,n=c[r],i=y[t.component.typeId].properties[r],_=r;if(this.component=t.component,_ instanceof se)for(var o in _=e.extend(!0,{},_))_.hasOwnProperty(o)&&"component"!==o&&(this[o]=_[o]);else this.id=r,this._isRequired=i.isRequired,this._isReadOnly=i.isReadOnly,-1!==e.inArray(n.type,P)&&(this._sqlMinColumns=n.sqlMinColumns,this._sqlMaxColumns=n.sqlMaxColumns),this._setDynamicProperties(),this.hasChanged=!1,this.errors=[],this.warnings=[],this._columns=[],this._hasOrderBy=!1,this._wsmHasLocalTable=!1,t.hasOwnProperty("server")?"object"===e.type(t.server)?(this._value=t.server.value,this._columns=t.server.columns||[],this._hasOrderBy=t.server.hasOrderBy):this._value=t.server:(""===(t.defaultValue||this._defaultValue)?this._value="":this._value=ne(this,this._defaultValue||t.defaultValue||i.defaultValue),this._columns=t.columns||[],this._hasOrderBy=t.hasOrderBy,"UPPER"===n.textCase?this._value=this._value.toUpperCase():"LOWER"===n.textCase&&(this._value=this._value.toLowerCase()),this._setDynamicDefaultValue(),this._isRequired&&""===this._value&&this.errors.push(H("VAL.IS_REQUIRED")))}function Ee(t){var r,n;if(t.component instanceof Ee){for(var i in n=e.extend(!0,{},t.component))if(n.hasOwnProperty(i))if("_properties"===i)for(var _ in this._properties={},n._properties)n._properties.hasOwnProperty(_)&&(this._properties[_]=new se({component:this,propertyId:n._properties[_]}));else this[i]=n[i];if(t.isDetached)return;(r=y[this.typeId]).isOneToOneRelation?this.id=t.parentId:this.id=X(),this._status=I,this.seq=0,this._isReadOnly=!1}else if(r=y[t.typeId],this.id="",this.parentId="",this._status=u,this._uiType=R,this.typeId=t.typeId,this.seq=0,this._isReadOnly=!1,this._properties={},e.isPlainObject(t.component)){for(var _ in this.id=t.component.id,this.parentId=t.component.parentId,this.pageId=t.component.pageId,this._uiType=t.component.uiType||this._uiType,this._lock=t.component.lock||!1,t.component.properties)t.component.properties.hasOwnProperty(_)&&(this._properties[_]=new se({component:this,propertyId:_,server:t.component.properties[_]}),_===r.seqPropertyId&&(this.seq=parseInt(t.component.properties[_],10)));for(var _ in r.properties)r.properties.hasOwnProperty(_)&&!this._properties.hasOwnProperty(_)&&(this._properties[_]=new se({component:this,propertyId:_,server:""}));if(this._cleanProperties(),t.isDetached)return}else{for(var _ in r.isOneToOneRelation?this.id=t.parentId:this.id=X(),this._status=I,G&&(this._uiType=v[p.PAGE][G]._uiType),r.isPageComponent&&(this.pageId=G),r.properties)r.properties.hasOwnProperty(_)&&(this._properties[_]=new se({component:this,propertyId:_}));this._cleanProperties()}if(this._status===I){for(var _ in r=y[this.typeId],t.parentId?(this.parentId=t.parentId,r.parentPropertyId&&this._properties[r.parentPropertyId]._setValue(this.parentId,{checkReadOnly:!1})):r.parentId===p.PAGE?this.parentId=G:r.parentId===p.APPLICATION&&(this.parentId=m),this._properties)this._properties.hasOwnProperty(_)&&r.properties[_].hasOwnProperty("checkUniqueness")&&this._properties[_]._setUniqueValue();this._setGridProperties(),this._setProperties(t.values,{checkReadOnly:!1}),0===this.seq&&r.seqPropertyId&&this._move(t.previousComponent),de(this,Ae.CREATE),t.hasOwnProperty("component")?(this._callPluginCallback({properties:t.values}),this._callComponentTypeCallback({properties:t.values})):(this._callPluginCallback({action:l.CREATED}),this._callComponentTypeCallback({action:l.CREATED}))}v[this.typeId][this.id]=this}function ae(e){function t(t,r){for(var n=Oe(t,{properties:[{id:r,value:""}]},!1),i=0;i<n.length;i++)void 0!==e||n[i].isOnGlobalPage()||de(n[i],Ae.CHANGE),n[i]._setGridProperties(e)}t(p.REGION,s.PARENT_REGION),t(p.PAGE_ITEM,s.REGION),t(p.BUTTON,s.REGION)}function Oe(t,r,n){var i,_,o=y[t].isPageComponent,p=[];for(var s in r=r||{},v[t])if(v[t].hasOwnProperty(s)){if((i=v[t][s])._status===N)continue;if(r.hasOwnProperty("id")&&void 0!==r.id&&s!==r.id+"")continue;if(r.hasOwnProperty("parentId")&&void 0!==r.parentId&&i.parentId!==r.parentId+"")continue;if(r.hasOwnProperty("pageId")&&void 0!==r.pageId){if(i.pageId!==r.pageId)continue}else if(o&&i.pageId!==G&&(r.excludeGlobalPage||!i.isOnGlobalPage()))continue;if(r.hasOwnProperty("hasChanged")&&void 0!==r.hasChanged&&i.hasChanged()!==r.hasChanged)continue;if(r.hasOwnProperty("hasErrors")&&void 0!==r.hasErrors&&i.hasErrors()!==r.hasErrors)continue;if(r.hasOwnProperty("hasWarnings")&&void 0!==r.hasWarnings&&i.hasWarnings()!==r.hasWarnings)continue;if(r.properties&&r.properties.length>0){_=!1;for(var E=0;E<r.properties.length&&(_=!1,i._properties.hasOwnProperty(r.properties[E].id)&&(_=r.properties[E].value instanceof RegExp?!!i._properties[r.properties[E].id]._value.match(r.properties[E].value):i._properties[r.properties[E].id]._value==r.properties[E].value),_);E++);if(!_)continue}if(e.isFunction(r.filterFunction)&&!r.filterFunction.apply(i))continue;p.push(i)}return!0===n||void 0===n?y[t].seqPropertyId?p.sort((function(e,t){return e.seq===t.seq?k(e.id)>k(t.id)?1:-1:e.seq-t.seq})):p.sort((function(e,t){return e.getDisplayTitle().localeCompare(t.getDisplayTitle())})):e.isFunction(n)&&p.sort(n),p}function Te(t,r){for(var n=[],i=0;i<t.length;i++)n=n.concat(Oe(t[i].typeId,t[i].filter,!1));return!0===r||void 0===r?n.sort((function(e,t){return y[e.typeId].seqPropertyId&&y[t.typeId].seqPropertyId?e.seq===t.seq?k(e.id)>k(t.id)?1:-1:e.seq-t.seq:e.getDisplayTitle().localeCompare(t.getDisplayTitle())})):e.isFunction(r)&&n.sort(r),n}function le(t,r){var n,i,_=[];if("application"===t.type){i=Oe(p.APP_ITEM);for(var o=0;o<i.length;o++)_.push({name:i[o].getProperty(s.ITEM_NAME).getValue()})}else if("page"===t.type){if(t.pageId!==G&&t.pageId!==M.globalPageId)return void Q("getPageItems",{x01:t.pageId},{success:function(e){for(var t in e)_.push({name:t,label:e[t]});_.sort((function(e,t){return e.name.localeCompare(t.name)})),r(_)}});i=Oe(p.PAGE_ITEM,{pageId:t.pageId}),_=ie(i,s.ITEM_LABEL,s.ITEM_NAME)}else"facet"===t.type?(i=Oe(p.FACET,{pageId:G,filterFunction:function(){return!t.component||t.component.id!==this.id}}),_=ie(i,s.ITEM_LABEL,s.ITEM_NAME)):"columns"===t.type&&(n=t.component,-1!==e.inArray(n.typeId,[p.CARD,p.REGION_PLUGIN_ATTR,p.REGION_COLUMN,p.IR_ATTRIBUTES,p.IG_ATTRIBUTES,p.CLASSIC_REPORT,p.CLASSIC_RPT_COLUMN,p.TABULAR_FORM,p.TAB_FORM_COLUMN])?_=oe(n.parentId):n.typeId===p.CARD_ACTION?_=oe(n.getParent().parentId,!0):n.typeId===p.IR_COLUMN?_=oe(n.getParent().parentId):n.typeId===p.IG_COLUMN?_=oe(n.parentId):n.typeId===p.VALIDATION?_=oe(n.getProperty(s.VALIDATION_REGION).getValue()):n.typeId===p.PAGE_PROCESS?_=oe(n.getProperty(s.PROCESS_REGION).getValue()):n.typeId===p.CHART_SERIES?_=_e(n,[s.PROJECT_GANTT_SOURCE_QUERY,s.RESOURCE_GANTT_SOURCE_QUERY,s.PIE_DOUGHNUT_SOURCE_QUERY,s.DIAL_SOURCE_QUERY,s.SCATTER_SOURCE_QUERY,s.RANGE_SOURCE_QUERY,s.CANDLESTICK_SOURCE_QUERY,s.LINE_COL_BAR_STK_SOURCE_QUERY]):n.typeId===p.JET_CHART_SERIES?_="REGION_SOURCE"===n._properties[s.CHART_SOURCE_LOCATION].getValue()?pe(n.getParent().parentId,!0):_e(n,E,!0):n.typeId===p.MAP_CHART_SERIES&&(_=_e(n,[s.MAP_SOURCE_QUERY])));if(!r)return _;r(_)}function Ie(e,t,r){Q("getPages",{x01:r?"Y":"N",x02:e.show?e.show:"",x03:e.id?e.id:""},{success:t})}se.prototype._setDynamicProperties=function(){var t,r,n=y[this.component.typeId].pluginType;n&&this.component._properties.hasOwnProperty(n.typePropertyId)&&(t=n.plugins[this.component._properties[n.typePropertyId]._value])&&S.hasOwnProperty(this.id)&&(r=S[this.id],-1!==e.inArray(this.id,n.requiredProperties)&&(this.id===s.AFFECTED_TYPE||this.id===s.PROCESS_REGION||this.id===s.PROCESS_DATA_SOURCE_REGION?this._isRequired=-1!==e.inArray(r,t.features):this._isRequired=t.stdAttributes&&t.stdAttributes.hasOwnProperty(r)&&t.stdAttributes[r].isRequired),t.stdAttributes&&t.stdAttributes.hasOwnProperty(r)&&this.id!==s.LOV_TYPE&&this.id!==s.FACET_LOV_TYPE&&(this._isRequired||t.stdAttributes[r].defaultValue?this._defaultValue=t.stdAttributes[r].defaultValue:this._defaultValue="",this._sqlMinColumns=t.stdAttributes[r].sqlMinColumns,this._sqlMaxColumns=t.stdAttributes[r].sqlMaxColumns,this._examples=t.stdAttributes[r].examples,this._helpText=t.stdAttributes[r].helpText))},se.prototype._setDynamicDefaultValue=function(){var t,r=y[this.component.typeId].pluginType;r&&this.component._properties.hasOwnProperty(r.typePropertyId)&&(t=r.plugins[this.component._properties[r.typePropertyId]._value])&&this.component.typeId===p.DA_ACTION&&(this.id===s.AFFECTED_TYPE?""!==this._value&&-1===e.inArray(this._value,t.features)&&(this._value=""):this.id===s.FIRE_ON_PAGE_LOAD&&(-1!==e.inArray("ONLOAD",t.features)?this._value="Y":this._value="N"))},se.prototype._isVisible=function(){var t,r,n,i,_,o=c[this.id],p=this.component,s=y[p.typeId].properties[this.id];if(o.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"!==o.deprecatedValues[0]&&-1===e.inArray(this._value,o.deprecatedValues)||-1===e.inArray(p._uiType,o.uiTypes)||o.componentTypes&&o.componentTypes.length>0&&-1===e.inArray(p.typeId,o.componentTypes)||o.isInternal&&!Y.isInternal)t=!1;else if(o.hasOwnProperty("deprecatedValues")&&"$NOT_NULL$"===o.deprecatedValues[0]&&""===this._value)t=!1;else if(0===s.dependingOn.length)t=!0;else for(_=0;_<s.dependingOn.length;_++){if(r=s.dependingOn[_],p._properties.hasOwnProperty(r.id))if(n=p._properties[r.id]._value,"CHECKBOXES"===c[r.id].type)switch(i=""===n?[]:n.split(":"),r.type){case"EQUALS":t=-1!==e.inArray(r.expression,i);break;case"NOT_EQUALS":t=-1===e.inArray(r.expression,i);break;case"NULL":t=0===i.length;break;case"NOT_NULL":t=i.length>0;break;case"IN_LIST":t=!1,e.each(i,(function(n,i){if(t=-1!==e.inArray(""===i?"$NULL$":i,r.values))return!1}));break;case"NOT_IN_LIST":t=i.length>0,e.each(i,(function(n,i){if(!(t=-1===e.inArray(i,r.values)))return!1}))}else if("IN_LIST_LIKE"===r.type)t=!1,e.each(r.values,(function(e,r){if(t=0===n.search(r))return!1}));else if("NOT_IN_LIST_LIKE"===r.type)t=!0,e.each(r.values,(function(e,r){if(!(t=-1===n.search(r)))return!1}));else switch(r.type){case"EQUALS":t=n===r.expression;break;case"NOT_EQUALS":t=n!==r.expression;break;case"NULL":t=""===n;break;case"NOT_NULL":t=""!==n;break;case"IN_LIST":t=-1!==e.inArray(""===n?"$NULL$":n,r.values);break;case"NOT_IN_LIST":t=-1===e.inArray(n,r.values)&&""!==n}else t=!1===r.hasToExist;if(!t)break}return t},se.prototype.getValue=function(){return this._value},se.prototype.getDisplayValue=function(){var e,t,r,n=c[this.id],i=y[this.component.typeId].properties[this.id],_=this._value,o=[];if(""!==_){if(n.type===C.YES_NO)return _===n.yesValue?H("LOV.YES"):H("LOV.NO");if(n.type===C.SUPPORTED_UI){if("PLUGINS"===n.lovType){if(y[this.component.typeId].pluginType.plugins.hasOwnProperty(_))return x("POSTFIX.UNSUPPORTED",y[this.component.typeId].pluginType.plugins[_].title,!ee(this.component,y[this.component.typeId].pluginType.plugins[_].uiTypes))}else if("EVENTS"===n.lovType&&f.lookupMap.hasOwnProperty(_))return x("POSTFIX.UNSUPPORTED",f.lookupMap[_].d,!ee(this.component,f.lookupMap[_].uiTypes))}else if("COMPONENT"===n.lovType){if(n.lovComponentTypeId===p.BUILD_OPTION||n.lovComponentTypeId===p.AUTHORIZATION){if("MUST_NOT_BE_PUBLIC_USER"===_)return H("LOV.MUST_NOT_BE_PUBLIC_USER");if(/^(!|-)/.test(_)&&(_=_.substr(1),v[n.lovComponentTypeId].hasOwnProperty(_)))return w("LOV.NOT_W_ARGUMENT",v[n.lovComponentTypeId][_].getDisplayTitle())}if(v[n.lovComponentTypeId].hasOwnProperty(_))return v[n.lovComponentTypeId][_].getDisplayTitle()}else{if("STATIC"!==n.lovType){if("REGION_POSITIONS"===n.lovType||"BUTTON_POSITIONS"===n.lovType)return(e="REGION_POSITIONS"===n.lovType?j().displayPointsMap:$(this.component.getProperty(s.REGION).getValue()).displayPointsMap).hasOwnProperty(_)?e[_].name:w("LOV.UNKNOWN_LOOKUP",_);if("TEMPLATE_OPTIONS"===n.lovType){t=Z(this).valuesMap,r=_.split(":");for(var E=0;E<r.length;E++)t.hasOwnProperty(r[E])?o.push(t[r[E]].d):o.push(w("LOV.UNKNOWN_LOOKUP",r[E]));return o.join(", ")}return _}if(n.lovValuesMap.hasOwnProperty(_))return n.lovValues[n.lovValuesMap[_]].d}return w("LOV.UNKNOWN_LOOKUP",_)}return i.nullText?i.nullText:_},se.prototype.getMetaData=function(){function e(e,r,i,_){var o;return!(t.component.typeId!==e||!(o=t.component.getProperty(r))||""===o.getValue())&&!(n.dependingOn.length>0&&n.dependingOn[0].id===i&&"N"===t.component.getProperty(_).getValue())}var t=this,r=c[this.id],n=y[this.component.typeId].properties[this.id],i=n.referenceScope,_=this.component.isReadOnly()||this._isReadOnly;return"DEPENDS"===i&&(i=e(p.VALIDATION,s.VALIDATION_REGION,s.CONDITION_TYPE,s.EXECUTE_CONDITION)||e(p.PAGE_PROCESS,s.PROCESS_REGION,s.CONDITION_TYPE,s.EXECUTE_CONDITION)||e(p.IG_COLUMN,s.READ_ONLY_TYPE,s.READ_ONLY_TYPE,s.EXECUTE_READONLY)||t.component.typeId===p.DA_ACTION&&""!==t.component.getProperty(s.IG_REGION).getValue()?"ROW":"COMPONENT"),this.id===s.PAGE_MODE&&""===K().defaultTemplates.dialog&&(_=!0),{type:r.type,multiValueDelimiter:r.multiValueDelimiter,prompt:r.prompt,unit:r.unit,displayLen:r.displayLen,maxLen:r.maxLen,textCase:r.textCase,displayGroupId:r.displayGroupId,yesValue:r.yesValue,noValue:r.noValue,isDeprecated:r.hasOwnProperty("deprecatedValues"),lovComponentScope:r.lovComponentScope,lovComponentTypeId:r.lovComponentTypeId,helpText:function(){return t._getHelpText()},displaySeq:n.displaySeq,isCommon:n.isCommon,isUnique:n.hasOwnProperty("checkUniqueness"),referenceScope:i,defaultValue:n.defaultValue,supportsSubstitution:n.supportsSubstitution,supportsTemplateDirective:n.supportsTemplateDirective,isReadOnly:_,isRequired:this._isRequired,lovValues:function(e,r){return t._getLovValues(e,r)},quickPicks:function(){return t._getQuickPicks(i)},nullText:n.nullText,parentProperty:n.parentProperty,isCustomPluginAttribute:r.isCustomPluginAttribute}},se.prototype._getLovValues=function(t,r){var n,i,_,o,E,a,O,T,l,I,A,N,u,R,d=this,P=c[this.id],L=y[this.component.typeId],S=L.properties[this.id],h={},m=1,G={},M=[],v=[];function V(e,t){for(var r=0;r<e.length;r++)M.push({r:t+e[r].id,d:w("LOV.NOT_W_ARGUMENT",e[r].getDisplayTitle())})}function B(e){for(var t,r=[],n=0;n<e.length;n++)t=ee(d.component,e[n].uiTypes),r.push({r:e[n].r,d:x("POSTFIX.UNSUPPORTED",e[n].d,!t),isQuickPick:!!t&&e[n].isQuickPick,isSupported:t,isLegacy:!1});return r}if(P.type===C.SUPPORTED_UI)"PLUGINS"===P.lovType?(b(L.pluginType.plugins,(function(e,t){(d._value===e||te(d.component,t,{isDeprecated:!0}))&&(a=ee(d.component,t.uiTypes),I={r:e,d:x("POSTFIX.UNSUPPORTED",t.title,!a),isSupported:a,isLegacy:t.isLegacy},void 0!==t.category?(G.hasOwnProperty(t.category)||(G[t.category]=M.length,M.push({group:U[t.category],values:[]})),M[G[t.category]].values.push(I)):M.push(I))})),b(G,(function(e,t){M[t].values.sort((function(e,t){return e.d.localeCompare(t.d)}))})),M.sort((function(e,t){var r=e.hasOwnProperty("d")?"d":"group",n=t.hasOwnProperty("d")?"d":"group";return e[r].localeCompare(t[n])}))):"EVENTS"===P.lovType&&(M.push({group:H("LOV.BROWSER_EVENTS"),values:B(f.browser)}),M.push({group:H("LOV.APEX_EVENTS"),values:B(f.apex)}),f.component.length>0&&M.push({group:H("LOV.COMPONENT_EVENTS"),values:B(f.component)}),M.push({group:H("LOV.CUSTOM_EVENT"),values:B(f.custom)}));else if(P.type===C.OWNER)M=D.schemas;else{if(P.type===C.TABLE)return void Q("getDbObjects",{x01:r.type,x02:d.component._properties[S.parentProperty.id]._value,x03:"N",x04:d.component._properties.hasOwnProperty(s.SOURCE_REMOTE_DATABASE)?d.component._properties[s.SOURCE_REMOTE_DATABASE]._value:""},{success:t});if(P.type===C.COLUMN||P.type===C.REGION_COLUMN){E=this._getAvailableColumns(!0);for(var F=0;F<E.length;F++)z(E[F].type,P.dataTypes)?M.push({r:E[F].name,d:E[F].name}):"ROWID"!==E[F].name&&E[F].type&&v.push({r:E[F].name,d:E[F].name+" ("+E[F].type.toLowerCase()+")"});'"'===d._value.substr(0,1)&&M.push({r:d._value,d:H("LOV.ABSOLUTE_COLUMN_NO",d._value.substr(1,1))}),v.length>0&&M.push({group:H("LOV.COLUMN_WRONG_DATA_TYPE"),values:v})}else if(P.type===C.ITEM){if("COLUMN"!==P.lovComponentScope&&-1===e.inArray(this.component.typeId,[p.IG_COLUMN,p.DA_ACTION,p.VALIDATION,p.PAGE_PROCESS]))return void le(r,t);S.parentProperty?A=this.component._properties[S.parentProperty.id]._value:this.component.typeId===p.IG_COLUMN?A=this.component.parentId:(this.component.typeId===p.DA_ACTION?N=s.IG_REGION:this.component.typeId===p.VALIDATION?N=s.VALIDATION_REGION:this.component.typeId===p.PAGE_PROCESS&&(N=s.PROCESS_REGION),A=this.component.getProperty(N).getValue()),M=oe(A)}else if(P.type===C.FACET)M=le({type:"facet",component:d.component},t);else{if(P.type===C.PAGE)return void Ie(r,t);if(P.lovType)if("COMPONENT"===P.lovType)if("PARENT"===P.lovComponentScope?h={parentId:d.component.parentId,excludeGlobalPage:!0}:"REGION"===P.lovComponentScope?this.id===s.FACET_GROUP?h={parentId:this.component._properties[s.FACET_REGION]._value,excludeGlobalPage:!0}:this.id===s.DEPENDING_ON_FACET_GRP_ITEM?h.properties=[{id:s.FACET_REGION,value:this.component._properties[s.FACET_REGION]._value}]:this.id===s.DEPENDING_ON_FACET&&(h={parentId:d.component.parentId,excludeGlobalPage:!0}):"PAGE"===P.lovComponentScope?h={excludeGlobalPage:!0}:"PAGE_AND_GLOBAL"===P.lovComponentScope?h={}:"THEME"===P.lovComponentScope&&(h={parentId:K().id},P.id!==s.PAGE_TEMPLATE&&P.id!==s.DIALOG_TEMPLATE||!S.parentProperty||S.parentProperty.id!==s.PAGE_MODE||(u=-1!==e.inArray(d.component._properties[s.PAGE_MODE]._value,["MODAL","NON_MODAL"]),R=K().templates[p.PAGE_TEMPLATE],h.filterFunction=function(){return R[this.id].isDialog===u})),P.id!==s.VALIDATION_REGION&&P.id!==s.PROCESS_REGION||(h.filterFunction=function(){var e=this.getProperty(s.REGION_TYPE).getValue();return"NATIVE_TABFORM"===e||"NATIVE_FORM"===e||"NATIVE_IG"===e&&this.getChilds(p.IG_ATTRIBUTES,{properties:[{id:s.IS_EDITABLE,value:"Y"}]}).length>0}),P.id!==s.DATA_SOURCE_REGION&&P.id!==s.PROCESS_DATA_SOURCE_REGION||(h.filterFunction=function(){return"NATIVE_FORM"===this.getProperty(s.REGION_TYPE).getValue()}),P.id===s.MASTER_REGION&&(h.properties=[{id:s.REGION_TYPE,value:"NATIVE_IG"}]),P.id===s.MASTER_COLUMN&&(h.parentId=d.component.getParent().getProperty(s.MASTER_REGION).getValue(),h.properties=[{id:s.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:s.DATA_TYPE,value:new RegExp("(VARCHAR2|NUMBER|DATE|TIMESTAMP)")}]),P.id===s.SOURCE_FILTERED_REGION&&(h.properties=[{id:s.REGION_TYPE,value:new RegExp("(NATIVE_SQL_REPORT|NATIVE_CARDS)")}]),n=Oe(P.lovComponentTypeId,h,!1),P.lovComponentTypeId===p.REGION)M=function(e){function t(e,r,n){r.sort((function(e,t){return e.d.localeCompare(t.d)}));for(var i=0;i<r.length;i++)d.id===s.PARENT_REGION&&r[i].r===d.component.id||d.id===s.MASTER_REGION&&r[i].r===d.component.id||(e.push({r:r[i].r,d:n+r[i].d}),_.hasOwnProperty(r[i].r)&&t(e,_[r[i].r],n+".."))}for(var r,n,i={},_={"":[]},o=[],p=0;p<e.length;p++)r=e[p].getProperty(s.PARENT_REGION).getValue(),n=e[p].isOnGlobalPage()&&""===r?"global":r,_.hasOwnProperty(n)||(_[n]=[]),_[n].push({r:e[p].id,d:e[p].getDisplayTitle()}),i[e[p].id]=!0;for(n in _)_.hasOwnProperty(n)&&""!==n&&"global"!==n&&!i.hasOwnProperty(n)&&(_[""]=_[""].concat(_[n]));return t(o,_[""],""),_.hasOwnProperty("global")&&t(o,_.global,""),o}(n);else{for(F=0;F<n.length;F++)n[F].typeId===this.component.typeId&&n[F].id===this.component.id||M.push({r:n[F].id,d:n[F].getDisplayTitle()});M.sort((function(e,t){return e.d.localeCompare(t.d)})),P.lovComponentTypeId===p.BUILD_OPTION?V(n,"-"):P.lovComponentTypeId===p.AUTHORIZATION&&(M.push({r:"MUST_NOT_BE_PUBLIC_USER",d:H("LOV.MUST_NOT_BE_PUBLIC_USER")}),V(n,"!"))}else if("STATIC"===P.lovType)if(d.id===s.AFFECTED_TYPE){o=L.pluginType.plugins[d.component.getProperty(s.DA_ACTION_TYPE).getValue()].features,"DOM_OBJECT"===d._value&&o.push("DOM_OBJECT");for(F=0;F<P.lovValues.length;F++)-1!==e.inArray(P.lovValues[F].r,o)&&M.push(P.lovValues[F])}else if(d.id===s.FACET_LOV_TYPE)for(F=0;F<P.lovValues.length;F++)"DISTINCT"===P.lovValues[F].r&&"NATIVE_RANGE"===d.component.getProperty(s.ITEM_TYPE).getValue()||M.push(P.lovValues[F]);else if(P.type===C.CODE_LANGUAGE)for(F=0;F<P.lovValues.length;F++)(D.codeLanguages.hasOwnProperty(P.lovValues[F].r)||d._value===P.lovValues[F].r)&&M.push(P.lovValues[F]);else for(F=0;F<P.lovValues.length;F++)P.lovValues[F].isDeprecated&&d._value!==P.lovValues[F].r||P.lovValues[F].isInternal&&!Y.isInternal||M.push(P.lovValues[F]);else if("REGION_POSITIONS"===P.lovType||"BUTTON_POSITIONS"===P.lovType){"REGION_POSITIONS"===P.lovType?(i=j().displayPoints,_="REGION"):(_="BUTTON",i=""!==(A=this.component.getProperty(s.REGION).getValue())?$(A).displayPoints:[]);for(F=0;F<i.length;F++)-1===e.inArray(_,i[F].types)||"BUTTON"===i[F].types[0]&&"RIGHT_OF_IR_SEARCH_BAR"===i[F].id&&""!==A&&"NATIVE_IR"!==Oe(p.REGION,{id:A})[0].getProperty(s.REGION_TYPE).getValue()||M.push({r:i[F].id,d:i[F].name,isDeprecated:i[F].isDeprecated})}else if("GRID_COLUMNS"===P.lovType){l=d.component._grid.maxColumns,d.id!==s.GRID_COLUMN_SPAN&&d.id!==s.GRID_LABEL_COLUMN_SPAN||((O=parseInt(d.component._properties[s.GRID_COLUMN].getValue(),10))>0&&(l-=O-1),d.id===s.GRID_LABEL_COLUMN_SPAN&&((T=parseInt(d.component._properties[s.GRID_COLUMN_SPAN].getValue(),10))>0&&(l=T),m=0,l-=1));for(F=m;F<=l;F++)M.push({r:F+"",d:F+""})}else if(-1!==P.lovType.indexOf("FORMAT_MASKS"))"DATE_FORMAT_MASKS"===P.lovType?M=g.dates:"NUMBER_FORMAT_MASKS"===P.lovType?M=g.numbers:"CHART_FORMAT_MASKS"===P.lovType?M=g.chart:(M=g.dates,g.since&&(M=M.concat(g.since)),M=M.concat(g.numbers));else{if("DISTINCT"===P.lovType)return void Q("getDistinctValues",{x01:this.component.typeId,x02:this.id},{success:function(e){var r=Oe(d.component.typeId,{}),n={};function i(e){var t;if(""!==e)if(c[d.id].multiValueDelimiter){t=e.split(c[d.id].multiValueDelimiter);for(var r=0;r<t.length;r++)n[t[r]]=""}else n[e]=""}for(var _=0;_<r.length;_++)r[_]._properties.hasOwnProperty(d.id)&&i(r[_]._properties[d.id]._value);for(_=0;_<e.length;_++)i(e[_]);for(var o in n)n.hasOwnProperty(o)&&M.push({d:o,r:o});M.sort((function(e,t){return e.d.localeCompare(t.d)})),t(M)}});if("MAP_REGIONS"===P.lovType)return void Q("getMapRegions",{x01:d.component._properties[S.parentProperty.id]._value,x02:r.id},{success:t});"TEMPLATE_OPTIONS"===P.lovType&&(M=Z(d).values)}}}if(!e.isFunction(t))return M;t(M)},se.prototype._getQuickPicks=function(t){var r,n,i,_,o,E=this,a=c[this.id],O=y[this.component.typeId],T=O.properties[this.id],l=[];function I(e){var t;e.i?(t=e.isLegacy?'<img src="#IMAGE_PREFIX#'+(e.dir||"")+e.i+'.gif" alt="">':'<img src="#IMAGE_PREFIX#app_ui/img/icons/'+e.i+'.png" class="'+e.i+'" alt="">',l.push({r:t,d:e.i+(e.isLegacy?".gif":".png"),icon:"icon-"+e.i})):e.columnName?l.push({r:e.substitution.prefix+(e.substitution.enquote?J(e.columnName):e.columnName)+e.substitution.postfix,d:e.columnName}):l.push({r:e.r,d:e.d||e.r})}function A(e){for(var t=0;t<e.length;t++)e[t].isQuickPick&&ee(E.component,e[t].uiTypes)&&I(e[t])}if(a.type===C.SUPPORTED_UI)"PLUGINS"===a.lovType?(b(O.pluginType.plugins,(function(e,t){t.isQuickPick&&te(E.component,t,{ui:!0,isDeprecated:!0,isLegacy:!0})&&I({r:e,d:t.title})})),l.sort((function(e,t){return e.d.localeCompare(t.d)}))):"EVENTS"===a.lovType&&(A(f.browser),A(f.apex),A(f.component));else if(a.type===C.CODE_LANGUAGE);else if(a.lovType)if("STATIC"===a.lovType)if(E.id===s.AFFECTED_TYPE);else for(var N=0;N<a.lovValues.length;N++)a.lovValues[N].isQuickPick&&!a.lovValues[N].isDeprecated&&I(a.lovValues[N]);else if("REGION_POSITIONS"===a.lovType||"BUTTON_POSITIONS"===a.lovType){"REGION_POSITIONS"===a.lovType?(r=j().displayPoints,n="REGION"):(n="BUTTON",r=""!==(i=this.component.getProperty(s.REGION).getValue())?$(i).displayPoints:[]);for(N=0;N<r.length;N++)-1!==e.inArray(n,r[N].types)&&r[N].isQuickPick&&I({r:r[N].id,d:r[N].name})}else a.lovType.indexOf("FORMAT_MASKS");else if(-1!==e.inArray(O.id,[p.CARD,p.CARD_ACTION,p.IR_ATTRIBUTES,p.IR_COLUMN,p.IG_ATTRIBUTES,p.IG_COLUMN,p.CLASSIC_RPT_COLUMN,p.TAB_FORM_COLUMN,p.VALIDATION,p.PAGE_PROCESS,p.REGION_PLUGIN_ATTR,p.REGION_COLUMN]))if(o=-1!==e.inArray(O.id,[p.IR_ATTRIBUTES,p.IR_COLUMN,p.CLASSIC_RPT_COLUMN,p.TAB_FORM_COLUMN])?{prefix:"#",postfix:"#",enquote:!1}:{prefix:"&",postfix:".",enquote:!0},a.id===s.LINK_TEXT&&I({columnName:E.component.getProperty(s.COLUMN_NAME).getValue(),substitution:o}),a.id===s.LINK_ICON||a.id===s.LINK_TEXT)I({i:"apex-edit-pencil"}),I({i:"apex-edit-pencil-alt"}),I({i:"apex-edit-page"}),I({i:"apex-edit-view"});else if(T.supportsSubstitution&&"ROW"===t&&-1!==e.inArray(a.type,[C.TEXT,C.TEXTAREA,C.HTML])){_=le({type:"columns",component:E.component});for(N=0;N<_.length;N++)I({columnName:_[N].name,substitution:o})}return l},se.prototype._getHelpText=function(){var r,n=this,i=c[this.id],_=y[this.component.typeId],o=_.properties[this.id];function p(r){var i,o="<dl>";i=e.map(_.pluginType.plugins,(function(e,t){if(0===t.indexOf(r)&&te(n.component,e,{ui:!0,isDeprecated:!0,isLegacy:!0}))return e})).sort((function(e,t){return e.title.localeCompare(t.title)}));for(var p=0;p<i.length;p++)o+="<dt>"+t.escapeHTML(i[p].title)+"</dt>",o+="<dd>"+i[p].helpText,i[p].aboutUrl&&(o+=" "+H("HELP.ABOUT_PLUGIN",i[p].aboutUrl)),o+="</dd>";return o+="</dl>"}function s(){var e,r=n.getMetaData().lovValues();e="<p>"+H("HELP.AVAILABLE_OPTIONS")+"</p><dl>",o.nullText&&(e+="<dt>"+o.nullText+"</dt>",o.nullHelpText&&(e+="<dd>"+o.nullHelpText+"</dd>"));for(var i=0;i<r.length;i++)e+="<dt>"+t.escapeHTML(r[i].d)+"</dt>",(r[i].helpText||r[i].isDeprecated)&&(e+="<dd>",r[i].helpText&&(e+=r[i].helpText),r[i].isDeprecated&&(e+="<p><em>"+H("HELP.DEPRECATED.LOV_VALUE","1.1")+"</em></p>"),e+="</dd>");return e+="</dl>"}return r="<p>"+(this._helpText||o.helpText||i.helpText)+"</p>",_.pluginType&&this.id===_.pluginType.typePropertyId&&(r=r.replace(/#NATIVE_PLUGINS#/,p("NATIVE")).replace(/#CUSTOM_PLUGINS#/,p("PLUGIN"))),i.deprecatedValues&&(r="<p><em>"+H("HELP.DEPRECATED.ATTRIBUTE","1.1")+"</em></p>"),"STATIC"===i.lovType?/#LOV_VALUES#/.test(r)?r=r.replace(/#LOV_VALUES#/,s()):r+=s():"TEMPLATE_OPTIONS"===i.lovType&&(r+=function(){function e(e){for(var r=0;r<e.length;r++)_+="<dt>"+t.escapeHTML(e[r].name)+"</dt>",e[r].helpText&&(_+="<dd>"+e[r].helpText+"</dd>")}var r,i,_,o,p=Z(n),s=[],E={},a=[];for(o=0;o<p.values.length;o++)p.values[o].groupId?(r=p.values[o].groupId,E.hasOwnProperty(r)?i=E[r]:(s.push({title:p.groups[r].title,seq:p.groups[r].seq,helpText:p.groups[r].helpText,lovValues:[]}),i=s.length-1,E[r]=i),s[i].lovValues.push({name:p.values[o].d,helpText:p.values[o].helpText})):a.push({name:p.values[o].d,helpText:p.values[o].helpText});for(s.sort((function(e,t){return e.seq===t.seq?e.title.localeCompare(t.title):e.seq-t.seq})),_="<p>"+H("HELP.AVAILABLE_OPTIONS")+"</p><dl>",e(a),o=0;o<s.length;o++)_+="<dt>"+t.escapeHTML(s[o].title)+"</dt><dd>",s[o].helpText&&(_+="<p>"+s[o].helpText+"</p>"),_+="<dl>",e(s[o].lovValues),_+="</dl></dd>";return _+="</dl>"}()),void 0===this._examples&&void 0===o.examples&&void 0===i.examples||(r+="<h4>"+H("HELP.EXAMPLES")+"</h4><p>"+(this._examples||o.examples||i.examples)+"</p>"),-1===e.inArray(i.type,[C.CHECKBOXES,C.LINK,C.COMPONENT,C.SELECT_LIST,C.SUPPORTED_UI,C.CODE_LANGUAGE,C.SUBSCRIPTION,C.YES_NO,C.PILL_BUTTONS,C.OWNER,C.TABLE,C.COLUMN,C.REGION_COLUMN,C.TEMPLATE_OPTIONS])&&(r+="<h4>"+H("HELP.ADDITIONAL_INFO")+"</h4>",r+="<ul><li>"+H("HELP.TYPE")+": "+H("HELP.PROP_TYPE."+i.type),i.multiValueDelimiter&&(r+=" ("+H("HELP.MULTIPLE.TEXT",H("HELP.MULTIPLE."+i.multiValueDelimiter))+")"),r+="</li>","SQL"!==i.type.substr(0,3)&&"MLE"!==i.type.substr(0,3)&&"PLSQL"!==i.type.substr(0,5)&&i.type!==C.WHERE_CLAUSE||(r+="<li>"+H("HELP.BIND_VARIABLES")+": "+H("HELP.REF_SCOPE."+n.getMetaData().referenceScope)+"</li>"),o.supportsSubstitution&&(r+="<li>"+H("HELP.SUBSTITUTIONS")+": "+H("HELP.REF_SCOPE."+n.getMetaData().referenceScope)+"</li>"),o.supportsTemplateDirective&&(r+="<li>"+H("HELP.TEMPLATE_DIRECTIVE")+"</li>"),-1!==e.inArray(i.type,P)?(void 0!==this._sqlMinColumns&&(r+="<li>"+H("HELP.MIN_COLUMNS")+": "+this._sqlMinColumns+"</li>"),this._sqlMaxColumns>0&&this._sqlMaxColumns<999&&(r+="<li>"+H("HELP.MAX_COLUMNS")+": "+this._sqlMaxColumns+"</li>")):i.type!==C.INTEGER&&i.type!==C.NUMBER||(void 0!==i.minValue&&(r+="<li>"+H("HELP.MIN_VALUE")+": "+i.minValue+"</li>"),void 0!==i.maxValue&&(r+="<li>"+H("HELP.MAX_VALUE")+": "+i.maxValue+"</li>")),void 0!==i.restrictedChars&&(r+="<li>"+H("HELP.RESTRICTED_CHARS_LABEL")+": "+H("HELP.RESTRICTED_CHARS."+i.restrictedChars)+"</li>"),r+="</ul>"),r},se.prototype.getColumns=function(e){var t=[];if(0===this.errors.length&&0===this.warnings.length)if(e)t=this._columns;else for(var r=0;r<this._columns.length;r++)"ROWID"===this._columns[r].name&&0===r||t.push(this._columns[r]);return t},se.prototype.wsmHasLocalTable=function(){return 0===this.errors.length&&this._wsmHasLocalTable},se.prototype.hasOrderBy=function(){return 0===this.errors.length&&this._hasOrderBy},se.prototype._getAvailableColumns=function(e){var t=y[this.component.typeId].properties[this.id],r=c[this.id],n=t.parentProperty,i=this.component,_=[];if(t.hasOwnProperty("parentProperty"))for(;void 0!==i;){if(i.typeId===n.typeId){if(c[n.id].lovComponentTypeId===p.REGION){_=r.type===C.REGION_COLUMN?oe(this.component._properties[n.id]._value):pe(this.component._properties[n.id]._value,e);break}if(n.id===s.CHART_SOURCE_LOCATION){_="REGION_SOURCE"===i._properties[n.id].getValue()?pe(this.component.getParent().parentId,e):_e(i,E,e);break}if(n.id===s.REGION_SQL){_=r.type===C.REGION_COLUMN?oe(i.id):pe(i.id,e);break}_=i._properties[n.id].getColumns(e);break}i=i.getParent()}return _},se.prototype._checkColumn=function(e){for(var t=this._getAvailableColumns(!0),r=0;r<t.length;r++)if(t[r].name===e)return z(t[r].type,c[this.id].dataTypes)?"":H("VAL.COLUMN_HAS_WRONG_DATA_TYPE");return H("VAL.COLUMN_NOT_FOUND")},se.prototype.validate=function(n){var i,_,o,E,a,O,T,I,A,N,u,R,d,L,S={US_ONLY:/[^a-zA-Z0-9 ]/,US_ONLY_NO_SPACE:/[^a-zA-Z0-9]/,US_ONLY_UNDERSCORE_NO_SPACE:/[^a-zA-Z0-9_]/,WEB_SAFE:/[<>"]/,NO_SPECIAL_CHAR:/[&<>"\/;,*|=%]|(--)/,NO_SPECIAL_CHAR_NL:/[&<>"\/;,*|=%\n\r]|(--)/,SAFE_COMPONENT_NAME:/[ :&,.+?^'"\n\r]/},h={decimal:r.getDecimalSeparator(),group:r.getGroupSeparator()},U=n,f=this,g=y[this.component.typeId].properties,D=g[this.id],m=c[this.id],M="",v="N",V={errors:[],warnings:[],columns:[],wsmHasLocalTable:!1,hasOrderBy:!1};function B(e){e.error&&V.errors.push(e.error),e.warning&&V.warnings.push(e.warning)}function Y(t){var r;if(e.isArray(t)){for(var n=0;n<t.length;n++)if(r=f.component.getProperty(t[n]))return r.getValue()}else if(r=f.component.getProperty(t))return r.getValue();return""}if(this._isRequired&&""===e.trim(U))V.errors.push(H("VAL.IS_REQUIRED"));else if(""!==e.trim(U))if(m.restrictedChars&&S[m.restrictedChars].test(U))V.errors.push(H("VAL.HAS_RESTRICTED_CHAR",U.match(S[m.restrictedChars])));else if((m.type===C.NUMBER||m.type===C.INTEGER)&&D.supportsSubstitution&&/^&((\w+)|("[^\n\r"&]+"))\.$/.test(U));else if(U.length>m.maxLen)V.errors.push(H("VAL.VALUE_TOO_LONG",U.length-m.maxLen));else{if(m.type===C.NUMBER||m.type===C.INTEGER)m.type===C.NUMBER?("."!==h.decimal&&(U=(U=U.replace(new RegExp(t.escapeRegExp(h.group),"g"),"!")).replace(new RegExp(t.escapeRegExp(h.decimal),"g"),".")),i=Number(U),o=H("VAL.MUST_BE_NUMERIC")):(i=parseInt(U,10),o=H("VAL.MUST_BE_INTEGER")),isNaN(i)||i!=U?V.errors.push(o):void 0===m.minValue&&void 0===m.maxValue||(i<m.minValue?V.errors.push(H("VAL.VALUE_LESS_MIN_VALUE",m.minValue)):i>m.maxValue&&V.errors.push(H("VAL.VALUE_GREATER_MAX_VALUE",m.maxValue)));else if(-1!==e.inArray(f.id,[s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,s.SOURCE_QUERY_JS_FUNC_BODY_SQL,s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL])&&f.component.getProperty(s.GENERIC_COLUMN_COUNT)){_=f.component.getProperty(s.GENERIC_COLUMN_COUNT).getValue(),V.columns=[],V.hasOrderBy=!1;for(var F=1;F<=_;F++)V.columns.push({name:"COL"+(F<10?"0":"")+F,type:"VARCHAR2",isRequired:!1,maxLen:4e3})}else-1!==e.inArray(m.type,[C.TABLE,C.WHERE_CLAUSE,C.ORDER_BY_CLAUSE,C.SQL,C.SQL_EXPR,C.SQL_EXPR_BOOLEAN,C.PLSQL,C.PLSQL_EXPR_VARCHAR,C.PLSQL_EXPR_BOOLEAN,C.PLSQL_FUNC_VARCHAR,C.PLSQL_FUNC_BOOLEAN,C.PLSQL_FUNC_SQL,C.MLE_JS_FUNC_SQL])||m.hasPlSqlCheck||this.id===s.SOURCE_WEB_SRC_QUERY?(m.type===C.TABLE&&(A=this.component._properties[D.parentProperty.id]._value),-1!==e.inArray(f.id,[s.SOURCE_SQL_QUERY,s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,s.SOURCE_QUERY_JS_FUNC_BODY_SQL,s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL,s.SOURCE_QUERY_TABLE,s.SOURCE_QUERY_WHERE,s.SOURCE_QUERY_ORDER_BY])?(T=Y([s.SOURCE_LOCATION,s.CHART_SOURCE_LOCATION]),I=Y(s.SOURCE_QUERY_TYPE),L=Y(s.SOURCE_REMOTE_DATABASE),N=Y(s.SOURCE_QUERY_TABLE),u=Y(s.SOURCE_SQL_QUERY),R=Y([s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,s.SOURCE_QUERY_JS_FUNC_BODY_SQL,s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL]),I&&(v=Y(s.SOURCE_INCLUDE_ROWID_COLUMN)),d=Y(s.OPTIMIZER_HINT)):this.id===s.SOURCE_WEB_SRC_QUERY?T=Y([s.SOURCE_LOCATION,s.CHART_SOURCE_LOCATION]):-1!==e.inArray(this.id,[s.POST_PROC_WHERE,s.POST_PROC_ORDER_BY,s.POST_PROC_SQL_QUERY,s.POST_PROC_PLSQL_FUNC_BODY_SQL,s.POST_PROC_JS_FUNC_BODY_SQL,s.POST_PROC_JAVA_FUNC_BODY_SQL,s.POST_PROC_PYTHON_FUNC_BODY_SQL])?(T=Y([s.SOURCE_LOCATION,s.CHART_SOURCE_LOCATION]),M=Y(s.SOURCE_WEB_SRC_QUERY),I="",N="",u="",R=""):m.type===C.WHERE_CLAUSE||m.type===C.ORDER_BY_CLAUSE?(I="TABLE",A=this.component._properties[g[D.parentProperty.id].parentProperty.id]._value,N=this.component._properties[D.parentProperty.id]._value,v="Y"):this.id===s.PLSQL_CODE&&(T=Y(s.PLSQL_PROCESS_LOCATION),L=Y(s.SOURCE_REMOTE_DATABASE)),Q("validateProperty",{x01:this.id,x02:m.type,x03:this._sqlMinColumns,x04:this._sqlMaxColumns,x05:U,x06:T,x07:I,x08:A,x09:N+u+R+M,x10:v,x11:d,x12:L},{success:function(t){V.columns=t.columns||[],V.hasOrderBy=t.hasOrderBy,V.wsmHasLocalTable=t.webSourceHasLocalTable,"OK"!==t.result&&((m.type===C.TABLE||-1!==e.inArray(m.type,P))&&D.refByChilds.length>0||-1!==e.inArray(f.id,[s.REGION_FUNCTION_RETURNING_SQL,s.SOURCE_WEB_SRC_QUERY,s.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,s.SOURCE_QUERY_JS_FUNC_BODY_SQL,s.SOURCE_QUERY_JAVA_FUNC_BODY_SQL,s.SOURCE_QUERY_PYTHON_FUNC_BODY_SQL])?V.errors.push(t.result):V.warnings.push(t.result))},async:!1})):m.type!==C.COLUMN&&m.type!==C.REGION_COLUMN||""!==(o=this._checkColumn(U))&&V.errors.push(o);D.checkUniqueness&&(E={properties:[{id:this.id,value:U}]},"PARENT"===D.checkUniqueness?E.parentId=this.component.parentId:"PAGE"===D.checkUniqueness&&(E.pageId=G),(O=Oe(this.component.typeId,E)).length>0&&O[0].id!==this.component.id?V.errors.push(H("VAL.MUST_BE_UNIQUE")):this.id===s.ITEM_NAME&&(a=[],this.component.typeId!==p.PAGE_ITEM&&a.push({typeId:p.PAGE_ITEM,filter:E}),this.component.typeId!==p.FACET&&a.push({typeId:p.FACET,filter:E}),this.component.typeId!==p.FACET_GROUP_ITEM&&a.push({typeId:p.FACET_GROUP_ITEM,filter:E}),Te(a,!1).length>0&&V.errors.push(H("VAL.MUST_BE_UNIQUE")))),0===V.errors.length&&B(this.component._callPluginCallback({action:l.VALIDATE,property:this,value:U,sql:{columns:V.columns,hasOrderBy:V.hasOrderBy,hasWarnings:V.warnings.length>0}})),0===V.errors.length&&B(this.component._callComponentTypeCallback({action:l.VALIDATE,property:this,value:U,sql:{columns:V.columns,hasOrderBy:V.hasOrderBy,hasWarnings:V.warnings.length>0}}))}return V},se.prototype._setValue=function(r,n){var i,_,o=this,E=this.component,a=r+"",O=this._value,T=y[E.typeId],I=T.pluginType,A=T.properties,N=A[this.id],u=c[o.id],R=void 0,d=void 0;if(n=e.extend({checkReadOnly:!0},n),i=e.extend({},{},n),n.checkReadOnly){if(F)throw"Page is read only!";if(E.isReadOnly())throw"Component is read only!";if(o._isReadOnly)throw"Property '"+o.getMetaData().prompt+"' ("+o.id+") is read only for this component!"}(a!==o._value||0!==o.errors.length||0!==o.warnings.length||n.forceSetValue)&&(-1!==e.inArray(u.type,[C.NUMBER,C.INTEGER,C.LINK,C.ITEM,C.FACET,C.PAGE,C.TABLE])&&(a=e.trim(a)),"UPPER"===u.textCase?a=a.toUpperCase():"LOWER"===u.textCase&&(a=a.toLowerCase()),_=this.validate(a),I&&o.id===I.typePropertyId&&a!==O&&this.component._callPluginCallback({action:l.REMOVED}),o._value=a,o.hasChanged=!0,o.errors=_.errors,o.warnings=_.warnings,o._columns=_.columns,o._hasOrderBy=_.hasOrderBy,o._wsmHasLocalTable=_.wsmHasLocalTable,0===o.errors.length&&o.id===T.seqPropertyId&&(R=parseInt(a,10)),o.id===T.parentPropertyId&&(d=a),E._setHasChanged({seq:R,parentId:d}),function e(t){var r;function n(e){delete E._properties[e];for(var t=0;t<A[e].refByDependingOn.length;t++)A[e].refByDependingOn[t].hasToExist&&n(A[e].refByDependingOn[t].propertyId)}for(var i=0;i<A[t].refByDependingOn.length;i++)r=A[t].refByDependingOn[i].propertyId,E._properties.hasOwnProperty(r)?E._properties[r]=new se({component:E,propertyId:r,defaultValue:E._properties[r]._value,columns:E._properties[r]._columns,hasOrderBy:E._properties[r]._hasOrderBy}):r===s.GRID_LABEL_COLUMN_SPAN||r===s.READ_ONLY_HTML_ATTRIBUTES?E._setGridProperties(!0):E._properties[r]=new se({component:E,propertyId:r}),E._properties.hasOwnProperty(r)&&E._properties[r]._isVisible()?e(r):n(r)}(o.id),function(){function e(e,t){var r,n;e._properties.hasOwnProperty(t)&&(r=e._properties[t],n=e===E?"_setValue":"setValue",c[t].type===C.COLUMN||c[t].type===C.REGION_COLUMN?""!==r._value&&r._checkColumn(r._value)===H("VAL.COLUMN_NOT_FOUND")?r[n]("",i):r[n](r._value,i):r[n](ne(r,y[e.typeId].properties[t].defaultValue),i))}var t;if(0===o.errors.length&&0===o.warnings.length||1===o.errors.length&&o.errors[0]===H("VAL.IS_REQUIRED"))for(var r=0;r<N.refByChilds.length;r++)if(N.refByChilds[r].typeId===E.typeId)e(E,N.refByChilds[r].id);else{t=E.getChildrenUntil(N.refByChilds[r].typeId);for(var n=0;n<t.length;n++)e(t[n],N.refByChilds[r].id)}}(),o.id===s.ITEM_NAME&&function(e,r){var n,i,_,o,s,E,a,O=t.escapeRegExp(e),T=[];for(s=0;s<y[p.PAGE_ITEM].refByProperties.length;s++)if((n=c[y[p.PAGE_ITEM].refByProperties[s]]).type===C.ITEM||n.type===C.FACET)for(n.multiValueDelimiter?(i=new RegExp("(^|"+n.multiValueDelimiter+"|\\s)"+O+"($|"+n.multiValueDelimiter+"|\\s)","i"),_={properties:[{id:n.id,value:i}]}):(i=new RegExp("^"+O+"$","i"),_={properties:[{id:n.id,value:i}]}),E=0;E<n.refByComponentTypes.length;E++)for(y[n.refByComponentTypes[E]].properties[n.id],T=Oe(n.refByComponentTypes[E],_,!1),a=0;a<T.length;a++)o=T[a].getProperty(n.id),n.multiValueDelimiter?o.setValue(o.getValue().replace(i,"$1"+r+"$2")):o.setValue(r)}(O,a),-1!==e.inArray(o.id,[s.GRID_NEW_GRID,s.GRID_NEW_ROW,s.GRID_COLUMN,s.GRID_NEW_COLUMN,s.GRID_COLUMN_SPAN])||E.typeId===p.REGION&&-1!==e.inArray(o.id,[s.REGION_POSITION,s.PARENT_REGION,s.REGION_TEMPLATE])||E.typeId===p.BUTTON&&-1!==e.inArray(o.id,[s.BUTTON_POSITION,s.REGION])||E.typeId===p.PAGE_ITEM&&-1!==e.inArray(o.id,[s.REGION,s.ITEM_TYPE,s.FIELD_TEMPLATE])?E._setGridProperties():E.typeId===p.PAGE&&-1!==e.inArray(o.id,[s.PAGE_TEMPLATE,s.DIALOG_TEMPLATE])&&ae(),E._setHasChanged())},se.prototype.setValue=function(e,t){var r;if(this.component._status===N)throw"Component has been deleted!";return de(this.component,Ae.CHANGE),r=this._value,this._setValue(e,{checkReadOnly:!0,forceSetValue:t}),this.component._callPluginCallback({property:this,oldValue:r}),this.component._callComponentTypeCallback({property:this,oldValue:r}),this},se.prototype._setUniqueValue=function(){var e=y[this.component.typeId].properties[this.id].checkUniqueness,t={properties:[{id:this.id,value:""}]},r=this.getValue();"PARENT"===e?t.parentId=this.component.parentId:"PAGE"===e&&(t.pageId=G),t.properties[0].value=r;for(var n=1;n<1e4;n++){if(this.id===s.ITEM_NAME&&0===Oe(p.PAGE_ITEM,t,!1).length&&0===Oe(p.FACET,t,!1).length&&0===Oe(p.FACET_GROUP_ITEM,t,!1).length||this.id!==s.ITEM_NAME&&0===Oe(this.component.typeId,t,!1).length)return void(this._value=t.properties[0].value);t.properties[0].value=r+"_"+n}throw"Unable to generate a unique value for property '"+this.getMetaData().prompt+"' ("+this.id+")!"},Ee.prototype._callPluginCallback=function(t){var r,n,i,_,o=y[this.typeId],E=o.pluginType,a=t.action;if(E&&(r=t.action===l.VALIDATE&&t.property.id===E.typePropertyId?E.plugins[t.value]:E.plugins[this._properties[E.typePropertyId]._value])){if(void 0===a){if(t.property&&t.property.id===E.typePropertyId)a=l.CREATED;else if(t.properties)for(var O=0;O<t.properties.length;O++)if(t.properties[O].id===E.typePropertyId){a=l.CREATED;break}void 0===a&&(a=l.CHANGED)}if(o.id!==p.REGION||a!==l.CREATED&&a!==l.REMOVED||(a===l.CREATED&&-1===e.inArray(r.name,["NATIVE_SQL_REPORT","NATIVE_TABFORM"])?((n=y[p.REGION_PLUGIN_ATTR].pluginType.plugins[r.name]).attributes.length>0||-1!==e.inArray("FETCHED_ROWS",n.features)||-1!==e.inArray("NO_DATA_FOUND_MESSAGE",n.features)||-1!==e.inArray("COLUMN_HEADING",n.features)||-1!==e.inArray("INIT_JAVASCRIPT_CODE",n.features)||-1!==e.inArray("EDITABLE",n.features)||-1!==e.inArray("LAZY_LOADING",n.features)||"NATIVE_BREADCRUMB"===r.name||"NATIVE_LIST"===r.name)&&new Ee({typeId:p.REGION_PLUGIN_ATTR,parentId:this.id,values:[{id:s.HIDDEN_REGION_TYPE,value:r.name}]}):a===l.REMOVED&&1===(i=this.getChilds(p.REGION_PLUGIN_ATTR)).length&&i[0].remove()),e.isFunction(r.callback)&&(a===l.VALIDATE?_=r.callback.apply(this,[a,t.property,t.value,t.sql]):a===l.CREATED||a===l.REMOVED?r.callback.apply(this,[a]):a===l.CHANGED&&t.property&&r.callback.apply(this,[a,t.property,t.oldValue]),t.properties))for(O=0;O<t.properties.length;O++)t.properties[O].id!==E.typePropertyId&&r.callback.apply(this,[l.CHANGED,this.getProperty(t.properties[O].id),t.properties[O].oldValue])}return _||{}},Ee.prototype._callComponentTypeCallback=function(t){var r,n=y[this.typeId];if(e.isFunction(n.callback))if(t.action===l.VALIDATE)r=n.callback.apply(this,[t.action,t.property,t.value,t.sql]);else if(t.action)n.callback.apply(this,[t.action]);else if(t.property)n.callback.apply(this,[l.CHANGED,t.property,t.oldValue]);else if(e.isArray(t.properties))for(var i=0;i<t.properties.length;i++)n.callback.apply(this,[l.CHANGED,this.getProperty(t.properties[i].id),t.properties[i].oldValue]);return r||{}},Ee.prototype.isOnGlobalPage=function(){return this.pageId===M.globalPageId&&this.pageId!==G},Ee.prototype.isReadOnly=function(){return F||this._isReadOnly||this.isOnGlobalPage()||y[this.typeId].isSharedComponent},Ee.prototype.hasChanged=function(){return this._status!==u},Ee.prototype.hasErrors=function(){for(var e in this._properties)if(this._properties.hasOwnProperty(e)&&this._properties[e].errors.length>0)return!0;return!1},Ee.prototype.hasWarnings=function(){for(var e in this._properties)if(this._properties.hasOwnProperty(e)&&this._properties[e].warnings.length>0)return!0;return!1},Ee.prototype._setHasChanged=function(e){(e=e||{}).status===N?this._status=N:this._status===u&&(this._status=A),void 0!==e.seq&&(this.seq=e.seq),void 0!==e.parentId&&(this.parentId=e.parentId)},Ee.prototype._deleteProperty=function(e){var t=y[this.typeId].properties[e];delete this._properties[e];for(var r=0;r<t.refByDependingOn.length;r++)t.refByDependingOn[r].hasToExist&&this._deleteProperty(t.refByDependingOn[r].propertyId)},Ee.prototype._cleanProperties=function(){for(var e in this._properties)this._properties.hasOwnProperty(e)&&(this._properties[e]._isVisible()||this._deleteProperty(e))},Ee.prototype._getGridParams=function(t){var r,n,i,o,E=j(),a={};return this.typeId===p.REGION?""===this._properties[s.PARENT_REGION]._value?i=this._properties[s.REGION_POSITION]._value:(r=this._properties[s.PARENT_REGION]._value,i="SUB_REGIONS"):this.typeId===p.PAGE_ITEM?this.parentId&&(r=this.parentId,i="BODY"):this.typeId===p.BUTTON&&this.parentId&&(r=this.parentId,i=this._properties[s.BUTTON_POSITION]._value),void 0===(o=void 0===r?E.displayPointsMap[i]:$(r).displayPointsMap[i])?(o={hasGridSupport:!0,maxFixedGridColumns:E.grid.maxColumns,isUnknown:!0},_.warn("_getGridParams: Component %O uses unknown display point %s! Fallback to default values",this,i)):(E.grid.alwaysUseMaxColumns||void 0===o.maxFixedGridColumns)&&(o.maxFixedGridColumns=E.grid.maxColumns),o.isUnknown&&(a.isUnknown=!0),void 0!==r?(n=function(t){var r,n,i,o=Oe(p.REGION,{id:t})[0],a=e.extend({},o._grid);return a.hasGridSupport&&!E.alwaysUseMaxColumns&&(r=o._properties[s.GRID_COLUMN].getValue(),n=o._properties[s.GRID_COLUMN_SPAN],E.grid.hasColumnSpan&&n&&(i=n.getValue()),i>0?(a.maxColumns=parseInt(i,10),_.trace("_getGridParams: Region %O uses column span, reduce max columns to %i",o,a.maxColumns)):r>0&&(a.maxColumns-=parseInt(r,10)-1,_.trace("_getGridParams: Region %O uses column positioning, reduce max columns to %i",o,a.maxColumns))),a}(r),a.pageDisplayPointhasGridSupport=n.pageDisplayPointhasGridSupport,a.hasGridSupport=!!n.pageDisplayPointhasGridSupport&&o.hasGridSupport,"FIXED"!==E.grid.type||E.grid.alwaysUseMaxColumns?a.maxColumns=E.grid.maxColumns:(o.maxFixedGridColumns<0?a.maxColumns=Math.max(n.maxColumns+o.maxFixedGridColumns,0):o.maxFixedGridColumns>0?a.maxColumns=Math.min(o.maxFixedGridColumns,n.maxColumns):a.maxColumns=n.maxColumns,a.maxColumns<2&&(a.hasGridSupport=!1,_.warn("_getGridParams: Component %O, disable grid support because there are no more grid columns available!",this)))):(a.hasGridSupport=o.hasGridSupport,a.pageDisplayPointhasGridSupport=o.hasGridSupport,a.hasGridSupport&&(a.maxColumns=o.maxFixedGridColumns)),_.trace("_getGridParams: Component %O returned grid params %O",this,a),a},Ee.prototype._setGridProperties=function(t){var r,n,i,_=this,o=j(),E=!1,a=!1;function O(e,t){t?(_._properties.hasOwnProperty(e)||(_._properties[e]=new se({component:_,propertyId:e})),_._properties[e]._isVisible()||_._deleteProperty(e)):_._deleteProperty(e)}function T(e){var t=_._properties[e];return t?t.getValue():""}function l(e,r){for(var n=Oe(e,{properties:[{id:r,value:_.id}]}),i=0;i<n.length;i++)void 0!==t||n[i].isOnGlobalPage()||(de(n[i],Ae.CHANGE),n[i]._setHasChanged()),n[i]._setGridProperties(t)}-1!==e.inArray(this.typeId,[p.REGION,p.PAGE_ITEM,p.BUTTON])&&(this._grid=this._getGridParams(),this._grid.hasGridSupport?(O(s.GRID_NEW_GRID,o.grid.hasNewGrid),O(s.GRID_NEW_ROW,!o.grid.hasNewGrid||"N"===T(s.GRID_NEW_GRID)),O(s.GRID_COLUMN,!0),O(s.GRID_NEW_COLUMN,""===T(s.GRID_COLUMN)&&"N"===T(s.GRID_NEW_ROW)),E="Y"===T(s.GRID_NEW_GRID)||"Y"===T(s.GRID_NEW_ROW)||""!==T(s.GRID_COLUMN)||"Y"===T(s.GRID_NEW_COLUMN),O(s.GRID_COLUMN_SPAN,E&&o.grid.hasColumnSpan),O(s.GRID_COLUMN_CSS_CLASSES,E&&o.grid.hasColumnCssClasses),O(s.GRID_COLUMN_ATTRIBUTES,E&&o.grid.hasColumnAttributes)):(this._deleteProperty(s.GRID_NEW_GRID),this._deleteProperty(s.GRID_NEW_ROW),this._deleteProperty(s.GRID_COLUMN),this._deleteProperty(s.GRID_NEW_COLUMN),this._deleteProperty(s.GRID_COLUMN_SPAN),this._deleteProperty(s.GRID_COLUMN_CSS_CLASSES),this._deleteProperty(s.GRID_COLUMN_ATTRIBUTES)),this.typeId!==p.PAGE_ITEM&&this.typeId!==p.BUTTON||(a=this._grid.hasGridSupport&&E&&"TABLE"===o.grid.type,O(s.GRID_ROW_SPAN,a),O(s.ELEMENT_FIELD_ALIGNMENT,a),this.typeId===p.PAGE_ITEM&&(O(s.LABEL_ALIGNMENT,a),O(s.READ_ONLY_HTML_ATTRIBUTES,a&&o.grid.hasColumnAttributes),n=T(s.FIELD_TEMPLATE),r=(i=K().templates[p.FIELD_TEMPLATE]).hasOwnProperty(n)?i[n]:i[""],O(s.GRID_LABEL_COLUMN_SPAN,this._grid.hasGridSupport&&E&&r.hasLabelColumnSpan))),this.typeId===p.REGION&&(l(p.REGION,s.PARENT_REGION),l(p.PAGE_ITEM,s.REGION),l(p.BUTTON,s.REGION)))},Ee.prototype._setProperties=function(e,t){var r;e=e||[];for(var n=0;n<e.length;n++){if(!c.hasOwnProperty(e[n].id))throw"Property "+e[n].id+" doesn't exist!";if(!this._properties.hasOwnProperty(e[n].id))throw"Property '"+c[e[n].id].prompt+"' ("+e[n].id+") not available for this component!";r=this._properties[e[n].id],e[n].oldValue=r._value,r._setValue(e[n].value,t)}},Ee.prototype.getProperty=function(e){return this._properties[e]},Ee.prototype.getProperties=function(){var e=[];return b(this._properties,(function(t,r){e.push(r)})),e},Ee.prototype.duplicate=function(e){if(this._status===N)throw"Component has been deleted!";return this._duplicate(e)},Ee.prototype._duplicate=function(e,t){var r,n=y[this.typeId],i=[];r=new Ee({component:this,previousComponent:this,values:e,parentId:t||this.parentId});for(var _=0;_<n.childComponentTypes.length;_++)if(n.childComponentTypes[_]!==p.IR_SAVED_REPORT){i=Oe(n.childComponentTypes[_],{parentId:this.id},!1);for(var o=0;o<i.length;o++)i[o]._duplicate(void 0,r.id)}return r},Ee.prototype.remove=function(){this._remove(!1)},Ee.prototype._remove=function(e){var r,n,i,_,o,E,a=y[this.typeId],O=[],T=[];function A(e,t,r){var n,i=t.split(r),_=new RegExp("^\\s*"+e+"\\s*$","i");for(n=0;n<i.length;n++)if(_.test(i[n])){i.splice(n,1);break}return i.join(r)}if(this._status!==N){if(F)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";de(this,Ae.DELETE);for(var u=0;u<a.childComponentTypes.length;u++){O=Oe(a.childComponentTypes[u],{parentId:this.id},!1);for(var R=0;R<O.length;R++)O[R]._remove(!0)}_=this.typeId===p.BUILD_OPTION||this.typeId===p.AUTHORIZATION?new RegExp("^[-!]?"+t.escapeRegExp(this.id)+"$"):this.id,this.typeId!==p.PAGE_ITEM&&this.typeId!==p.FACET&&this.typeId!==p.FACET_GROUP_ITEM||(o=t.escapeRegExp(this.getProperty(s.ITEM_NAME).getValue()));for(u=0;u<a.refByProperties.length;u++){"COMPONENT"===(r=c[a.refByProperties[u]]).lovType?i={properties:[{id:r.id,value:_}]}:r.type!==C.ITEM&&r.type!==C.FACET||(i=r.multiValueDelimiter?{properties:[{id:r.id,value:new RegExp("(^|"+r.multiValueDelimiter+"|\\s)"+o+"($|"+r.multiValueDelimiter+"|\\s)","i")}]}:{properties:[{id:r.id,value:new RegExp("^"+o+"$","i")}]});for(R=0;R<r.refByComponentTypes.length;R++)if(y[r.refByComponentTypes[R]].parentId!==this.typeId){n=y[r.refByComponentTypes[R]].properties[r.id],T=Oe(r.refByComponentTypes[R],i,!1);for(var d=0;d<T.length;d++)if("WEAK_NULL"===n.referenceOnDelete||"DB_NULL"===n.referenceOnDelete)E=T[d].getProperty(r.id),r.type!==C.ITEM&&r.type!==C.FACET||!r.multiValueDelimiter?E.setValue(""):E.setValue(A(o,E.getValue(),r.multiValueDelimiter));else{if("WEAK_CASCADE"!==n.referenceOnDelete&&"DB_CASCADE"!==n.referenceOnDelete)throw w("DEL.REFERENCE_EXISTS",T[d].getDisplayTitle());r.type!==C.ITEM&&r.type!==C.FACET||!r.multiValueDelimiter?T[d]._remove(!0):((E=T[d].getProperty(r.id)).setValue(A(o,E.getValue(),r.multiValueDelimiter)),""===E.getValue()&&T[d]._remove(!0))}}}this._status===I||e?delete v[this.typeId][this.id]:this._setHasChanged({status:N}),this._callPluginCallback({action:l.REMOVED}),this._callComponentTypeCallback({action:l.REMOVED})}},Ee.prototype.move=function(e,t){if(this._status===N)throw"Component has already been deleted!";if(F)throw"Page is read only!";if(this.isReadOnly())throw"Component is read only!";de(this,Ae.CHANGE),this._setProperties(t),this._move(e),this._callPluginCallback({properties:t}),this._callComponentTypeCallback({properties:t})},Ee.prototype._move=function(e){var t,r,n,i=y[this.typeId].seqPropertyId,_=e,o=!0;if((t=this.getSiblings(!0)).length>0&&_){if(_ instanceof Ee)for(n=0;n<t.length;n++)if(t[n].id===_.id&&t[n].typeId===_.typeId){this.seq=_.seq+10,o=!1;break}("last"===_||o)&&t[t.length-1].id!==this.id&&(_=t[t.length-1],this.seq=_.seq+10,o=!1)}for(o&&(_=void 0,this.seq=10),r=this.seq,this._properties[i]._setValue(this.seq,{checkReadOnly:!1}),n=0;n<t.length;n++)o?t[n].isReadOnly()?r=t[n].seq:t[n].id!==this.id&&(r+=10,t[n].getProperty(i).setValue(r)):t[n].id===_.id&&(o=!0)},Ee.prototype.getSiblings=function(t){var r,n,i,_=[];if(-1!==e.inArray(this.typeId,[p.REGION,p.PAGE_ITEM,p.BUTTON,p.FACET,p.FACET_GROUP])?(this.typeId===p.REGION?(_[0]={typeId:p.REGION,filter:{properties:[]}},this._properties.hasOwnProperty(s.REGION_POSITION)&&_[0].filter.properties.push({id:s.REGION_POSITION,value:this._properties[s.REGION_POSITION]._value}),_[0].filter.properties.push({id:s.PARENT_REGION,value:this._properties[s.PARENT_REGION]._value})):this.typeId===p.FACET||this.typeId===p.FACET_GROUP?(_.push({typeId:p.FACET,filter:{parentId:this.parentId}}),_.push({typeId:p.FACET_GROUP,filter:{parentId:this.parentId}})):this.typeId===p.PAGE_ITEM||this.typeId===p.BUTTON&&"BODY"===this._properties[s.BUTTON_POSITION]._value?(_.push({typeId:p.PAGE_ITEM,filter:{parentId:this.parentId}}),_.push({typeId:p.BUTTON,filter:{parentId:this.parentId,properties:[{id:s.BUTTON_POSITION,value:"BODY"}]}})):this.typeId===p.BUTTON&&_.push({typeId:p.BUTTON,filter:{parentId:this.parentId,filterFunction:function(){return"BODY"!==this.getProperty(s.BUTTON_POSITION).getValue}}}),i=Te(_)):(r={parentId:this.parentId,properties:[]},this.typeId===p.PAGE_COMPUTATION||this.typeId===p.APP_COMPUTATION?n=s.COMPUTATION_POINT:this.typeId===p.PAGE_PROCESS||this.typeId===p.APP_PROCESS?n=s.PROCESS_POINT:this.typeId===p.BRANCH?n=s.BRANCH_POINT:this.typeId===p.DA_ACTION&&(n=s.FIRE_WHEN_EVENT_RESULT_IS),n&&r.properties.push({id:n,value:this._properties[n]._value}),i=Oe(this.typeId,r)),!t)for(var o=0;o<i.length;o++)if(i[o].id===this.id){i.splice(o,1);break}return i},Ee.prototype.getParent=function(){return this.parentId?Oe(y[this.typeId].parentId,{id:this.parentId},!1)[0]:void 0},Ee.prototype.getChilds=function(t,r,n){var i=e.extend(!0,{},r);return i.parentId=this.id,Oe(t,i,n)},Ee.prototype.getChildrenUntil=function(t,r,n){var i,_=this,o=e.extend(!0,{},r),p=[];if(o.parentId=_.id,y[t].parentId===_.typeId)return Oe(t,o,n);i=Oe(function e(t){if(void 0===y[t].parentId)throw"Component Type Id "+t+" is not a child type of component type id "+_.typeId;return y[t].parentId===_.typeId?t:e(y[t].parentId)}(t),o,n);for(var s=0;s<i.length;s++)p=p.concat(i[s].getChildrenUntil(t,o,n));return p},Ee.prototype.getDisplayTitle=function(){return y[this.typeId].displayPropertyId?x("POSTFIX.GLOBAL_PAGE",this.getProperty(y[this.typeId].displayPropertyId).getDisplayValue(),this.isOnGlobalPage()):""},Ee.prototype.setDisplayTitle=function(e){return this.getProperty(y[this.typeId].displayPropertyId).setValue(e)},Ee.prototype._copyToGlobal=function(){var e=this,t=v[this.typeId][this.id];b(e,(function(r,n){"_properties"===r?(t._properties={},b(e._properties,(function(e,r){t._properties[e]=new se({component:t,propertyId:r})}))):t[r]=e[r]}))};var Ae={CREATE:"create",DELETE:"delete",CHANGE:"change"},Ne=null;function ue(){if(!Ne)throw"Start a Transaction first!"}function Re(){if(Ne)throw"Finish pending Transaction first!"}function de(e,t){var r;ue(),(r=Ne.components).hasOwnProperty(e.typeId)&&r[e.typeId].hasOwnProperty(e.id)?t===Ae.DELETE&&(r[e.typeId][e.id].operation===Ae.CREATE?delete r[e.typeId][e.id]:r[e.typeId][e.id].operation=t):(r.hasOwnProperty(e.typeId)||(r[e.typeId]={}),r[e.typeId][e.id]={oldComponent:null,newComponent:null,operation:t},t!==Ae.CREATE&&(r[e.typeId][e.id].oldComponent=new Ee({component:e,isDetached:!0})))}var Ce=function(){var t={_forEach:function(e){for(var t in this.components)if(this.components.hasOwnProperty(t))for(var r in this.components[t])this.components[t].hasOwnProperty(r)&&e.call(this.components[t][r],t,r)},_restore:function(e,t,r,n,i){var _=null;return v[e].hasOwnProperty(t)&&(_=new Ee({component:v[e][t],isDetached:!0})),r===Ae.CREATE?n._status!==I&&v[e].hasOwnProperty(t)?v[e][t]._status=n._status:v[e][t]=new Ee({component:n,isDetached:!0}):r===Ae.DELETE?_._status===I?delete v[e][t]:v[e][t]._status=N:n._copyToGlobal(),Pe(_,v[e][t]||null,i)},_undo:function(){var e=this,t=[];return this._forEach((function(r,n){var i;switch(this.operation){case Ae.CREATE:i=Ae.DELETE;break;case Ae.DELETE:i=Ae.CREATE;break;case Ae.CHANGE:i=Ae.CHANGE}t=t.concat(e._restore(r,n,i,this.oldComponent,"undo"))})),t},execute:function(){var e=[];ue(),this._forEach((function(t,r){this.operation!==Ae.DELETE&&(this.newComponent=new Ee({component:v[t][r],isDetached:!0})),e=e.concat(Pe(this.oldComponent,this.newComponent))})),Le(e),Ne=null},undo:function(){Re(),Le(this._undo())},redo:function(){var e=this,t=[];Re(),this._forEach((function(r,n){t=t.concat(e._restore(r,n,this.operation,this.newComponent,"redo"))})),Le(t)},cancel:function(){ue(),this._undo(),Ne=null},label:function(){return this._label}};return{start:function(e,r){var n;if(F)throw"Page is read only!";return Re(),(n=Object.create(t))._label=r||"",n.widget=e,n.components={},Ne=n,n},message:function(t){var r,n,i,_=e.extend({action:"",component:null,property:null,count:1},t),o="TRANSACTION."+_.action;switch(_.action){case L.CHANGE:r=1===_.count?_.component.getDisplayTitle():w("MULTIPLE_COMPONENTS"),i=w(o,r,_.property.getMetaData().prompt);break;case L.CREATE:1===_.count?(n="string"==typeof _.component?_.component:_.component.typeId,r=y[n].title.singular):r=w("MULTIPLE_COMPONENTS"),i=w(o,r);break;default:1===_.count?r=_.component.getDisplayTitle():(o+=".MULTIPLE",r=_.count),i=w(o,r)}return i}}}();function Pe(t,r,n){var i,_,o,E,a,O,l={},I=[];function A(e,t,r){(e._properties.hasOwnProperty(t)||r===T.REMOVE_PROP)&&(a.properties.hasOwnProperty(t)||(a.properties[t]=[]),a.properties[t].push(r))}function u(e,t){A(r,e,t)}function R(e,t,n){if(r[t]())for(var i in a.events.push(e),r._properties)r._properties.hasOwnProperty(i)&&r._properties[i][n].length>0&&u(i,e)}function d(e,n,i){r._properties[P][i].join()!==t._properties[P][i].join()&&(0===r._properties[P][i].length?O.push(n):O.push(e))}function C(e,n,i){r[i]()!==t[i]()&&(r[i]()?a.events.push(e):a.events.push(n))}if(a={component:{},events:[],properties:{},action:n||""},null===t||t._status===N)a.component=r,a.events.push(T.CREATE),R(T.ERRORS,"hasErrors","errors"),R(T.WARNINGS,"hasWarnings","warnings");else if(null===r||r._status===N)a.component=t,a.events.push(T.DELETE);else{for(var P in a.component=r,a.events.push(T.CHANGE),i=y[r.typeId],r._properties)if(r._properties.hasOwnProperty(P)){if(_=r._properties[P],O=a.properties[P]||[],t._properties.hasOwnProperty(P)){if(_._value!==t._properties[P]._value){if(O.push(T.CHANGE),P===i.displayPropertyId?a.events.push(T.DISPLAY_TITLE):(r.typeId!==p.PAGE||P!==s.PAGE_TEMPLATE&&P!==s.DIALOG_TEMPLATE)&&(r.typeId!==p.REGION||P!==s.REGION_TEMPLATE&&P!==s.REGION_TYPE)||a.events.push(T.GRID),i.pluginType&&P===i.pluginType.typePropertyId){for(var L=0;L<i.pluginType.requiredProperties.length;L++)u(i.pluginType.requiredProperties[L],T.META_DATA);u(s.LOV_SQL,T.META_DATA),u(s.LOV_PLSQL_FUNC_BODY_SQL,T.META_DATA),u(s.LOV_JS_FUNC_BODY_SQL,T.META_DATA),u(s.LOV_JAVA_FUNC_BODY_SQL,T.META_DATA),u(s.LOV_PYTHON_FUNC_BODY_SQL,T.META_DATA)}-1!==e.inArray(r.typeId,[p.REGION,p.PAGE_ITEM,p.BUTTON])&&-1!==e.inArray(P,[s.PARENT_REGION,s.REGION,s.REGION_POSITION,s.BUTTON_POSITION,s.GRID_COLUMN,s.GRID_COLUMN_SPAN])&&(u(s.GRID_COLUMN,T.META_DATA),u(s.GRID_COLUMN_SPAN,T.META_DATA),u(s.GRID_LABEL_COLUMN_SPAN,T.META_DATA))}if(d(T.ERRORS,T.NO_ERRORS,"errors"),d(T.WARNINGS,T.NO_WARNINGS,"warnings"),i.properties[P].refByChilds.length>0&&(_._value!==t._properties[P]._value||_._columns.length>0))for(L=0;L<i.properties[P].refByChilds.length;L++)i.properties[P].refByChilds[L].typeId===r.typeId?u(o=i.properties[P].refByChilds[L].id,T.META_DATA):(S=i.properties[P].refByChilds[L].typeId,l.hasOwnProperty(S)||(l[S]=[]),l[S].push(i.properties[P].refByChilds[L].id))}else O.push(T.ADD_PROP),_.errors.length>0&&O.push(T.ERRORS),_.warnings.length>0&&O.push(T.WARNINGS),r.typeId!==p.PAGE||P!==s.PAGE_TEMPLATE&&P!==s.DIALOG_TEMPLATE||a.events.push(T.GRID);O.length>0&&(a.properties[P]=O)}for(var P in t._properties)t._properties.hasOwnProperty(P)&&(r._properties.hasOwnProperty(P)||u(P,T.REMOVE_PROP));C(T.ERRORS,T.NO_ERRORS,"hasErrors"),C(T.WARNINGS,T.NO_WARNINGS,"hasWarnings")}for(var S in I.push(a),l)if(l.hasOwnProperty(S)){E=Oe(S,{parentId:r.id},!1);for(L=0;L<E.length;L++){a={component:E[L],events:[],properties:{},action:""};for(var h=0;h<l[S].length;h++)o=l[S][h],A(E[L],o,T.META_DATA);I.push(a)}}return I}function Le(t){!function(){var r,n,i,_,o,p=B.slice();for(E=0;E<t.length;E++)for(_=t[E],r=0;r<p.length;r++){if(i=!1,(o=p[r].filter).component)o.component instanceof Ee?o.component.typeId===_.component.typeId&&o.component.id===_.component.id&&(i=!0):(o.component.typeId===_.component.typeId||-1!==e.inArray(_.component.typeId,o.component.typeIds))&&(i=!0);else if(o.components){for(n=0;n<o.components.length;n++)if(o.components[n]instanceof Ee){if(o.components[n].typeId===_.component.typeId&&o.components[n].id===_.component.id){i=!0;break}}else if(o.components[n].typeId===_.component.typeId){i=!0;break}}else i=!0;if(i&&o.properties.length>0)for(i=!1,n=0;n<o.properties.length;n++)if(_.properties.hasOwnProperty(o.properties[n])){i=!0;break}if(i&&o.events.length>0)for(i=!1,n=0;n<o.events.length;n++){if(-1!==e.inArray(o.events[n],_.events)){i=!0;break}for(var s in _.properties)if(_.properties.hasOwnProperty(s)&&-1!==e.inArray(o.events[n],_.properties[s])){i=!0;break}if(i)break}i&&(p[r].sendInBulk?p[r].pendingNotifications.push(_):p[r].callback.call(this,_))}for(var E=0;E<p.length;E++)p[E].sendInBulk&&p[E].pendingNotifications.length>0&&(p[E].callback.call(this,p[E].pendingNotifications),p[E].pendingNotifications=[])}(),function(){for(var e=0;e<B.length;e++)B[e].filter.component instanceof Ee&&B[e].filter.component._status===N&&(B.splice(e,1),e--)}()}function Se(){for(var e in y)if(y.hasOwnProperty(e)&&(y[e].isPageComponent&&void 0!==G||e===p.PAGE&&void 0!==G||!y[e].isPageComponent&&void 0===G))for(var t in v[e])if(v[e].hasOwnProperty(t)&&v[e][t].hasChanged())return!0;return!1}function he(e){V[e.typeId][e.id]={},b(v[e.typeId][e.id]._properties,(function(t,r){V[e.typeId][e.id][t]=r._value}))}function ce(){return v[p.PAGE][G]._lock}function ye(e){for(var t in e)e.hasOwnProperty(t)&&(y[t].createUrl=e[t].createUrl,y[t].editUrl=e[t].editUrl,y[t].copyUrl=e[t].copyUrl)}function Ue(e){for(var t in e)if(e.hasOwnProperty(t))for(var r=0;r<e[t].length;r++)new Ee({typeId:t,component:e[t][r]})}return{COMP_TYPE:p,PROP:s,SOURCE_LOCATION_PROPS:E,NO_NODE_COMP_TYPES:O,SOURCE_SNIPPET_PROPS:a,PROP_TYPE:C,EVENT:T,CALLBACK_ACTION:l,MESSAGE_ACTION:L,Component:Ee,getComponents:Oe,getComponentsAdvanced:Te,fullTextSearch:function(e,r){var n,i,_=[];if(e instanceof RegExp)i=e;else{if(""===e||void 0===e)return[];i=new RegExp(t.escapeRegExp(e),"i")}if(r.hasOwnProperty("typeId"))b(v[r.typeId],(function(e,t){t._status!==N&&b(t._properties,(function(e,t){c[e].isSearchable&&t._value.match(i)&&_.push(t)}))}));else if(r.hasOwnProperty("properties"))for(var o=0;o<r.properties.length;o++)n=r.properties[o],c[n.id].isSearchable&&n._value.match(i)&&_.push(n);return _.sort((function(e,t){var r=e.component.getDisplayTitle(),n=t.component.getDisplayTitle();return r===n?y[e.component.typeId].properties[e.id].displaySeq-y[t.component.typeId].properties[t.id].displaySeq:r.localeCompare(n)})),_},displayTitleSearch:function(e,r){var n,i=[];if(e instanceof RegExp)n=e;else{if(""===e||void 0===e)return[];n=new RegExp(t.escapeRegExp(e),"i")}return b(v[r],(function(e,t){t._status!==N&&t.getDisplayTitle().match(n)&&i.push(t)})),i.sort((function(e,t){var r=e.getDisplayTitle(),n=t.getDisplayTitle();return r.localeCompare(n)})),i},getItemsLov:le,getPagesLov:Ie,transaction:Ce,hasChanged:Se,saveChanges:function(e){var t,r,n={},i=!1;function o(e,n,i){var _=[s.GRID_NEW_GRID,s.GRID_NEW_ROW,s.GRID_COLUMN,s.GRID_NEW_COLUMN,s.GRID_COLUMN_SPAN,s.GRID_ROW_SPAN,s.GRID_COLUMN_CSS_CLASSES,s.GRID_COLUMN_ATTRIBUTES,s.GRID_LABEL_COLUMN_SPAN,s.LABEL_ALIGNMENT,s.ELEMENT_FIELD_ALIGNMENT,s.READ_ONLY_HTML_ATTRIBUTES];if(r.hasOwnProperty("_grid")){t[i]=[];for(var o=0;o<_.length;o++)n.hasOwnProperty(_[o])&&e[i].push(_[o])}}for(var E in y)if(y.hasOwnProperty(E)&&(y[E].isPageComponent&&void 0!==G||E===p.PAGE&&void 0!==G||!y[E].isPageComponent&&void 0===G))for(var a in v[E])if(v[E].hasOwnProperty(a)&&v[E][a].hasChanged()){if((r=v[E][a]).hasErrors()&&r._status!==N)return void e({error:H("SAVE.FIX_ERRORS")});if(n.hasOwnProperty(E)||(n[E]={c:[],u:[],d:[]}),t={id:r.id,parentId:r.parentId,pageId:r.pageId},_.getLevel()!==_.LOG_LEVEL.OFF&&(t.displayTitle=r.getDisplayTitle()),o(t,r._properties,"gridProperties"),r._status===I)for(var O in t.properties={},r._properties)r._properties.hasOwnProperty(O)&&(t.properties[O]=r._properties[O]._value);else if(r._status===A)for(var O in o(t,V[E][a],"oldGridProperties"),t.properties={},r._properties)r._properties.hasOwnProperty(O)&&(V[E][a].hasOwnProperty(O)?V[E][a][O]!==r._properties[O]._value&&(t.properties[O]={oldValue:V[E][a][O],newValue:r._properties[O]._value}):t.properties[O]=r._properties[O]._value);n[E][r._status].push(t),i=!0}i?(_.trace("saveChanges: modified components %0",n),Q("writePageData",{x01:m,x02:G,f01:JSON.stringify(n)},{success:function(t){!function(e,t,r){var n=[];e.errors?function(e){var t,r,i;i={},t=new Ee({component:v[e.typeId][e.id],isDetached:!0});for(var _=0;_<e.errors.length;_++)r=e.errors[_].hasOwnProperty("propertyId")?e.errors[_].propertyId:y[e.typeId].displayPropertyId,i.hasOwnProperty(r)||(i[r]=[]),i[r].push(e.errors[_].message);b(i,(function(t,r){if(!v[e.typeId][e.id]._properties.hasOwnProperty(t))throw"Error reported for property id "+t+" which doesn't exist for current component!";v[e.typeId][e.id]._properties[t].errors=r})),v[e.typeId][e.id]._status===N&&(v[e.typeId][e.id]._status=u),n=n.concat(Pe(t,v[e.typeId][e.id]))}(e):(b(e,(function(e,t){for(var r,i,_,o=0;o<t.length;o++)r=t[o],i=new Ee({component:v[e][r.id],isDetached:!0}),(_=new Ee({typeId:e,component:r,isDetached:!0}))._setGridProperties(!0),_._copyToGlobal(),he(v[e][r.id]),n=n.concat(Pe(i,v[e][r.id]))})),b(t,(function(e,t){t.hasOwnProperty(N)&&function(e,t){for(var r=0;r<t.length;r++)v[e][t[r].id]._status===N&&delete v[e][t[r].id]}(e,t[N])})));Le(n),e.errors?r({error:H("SAVE.FAILED")}):r({})}(t,n,e)},error:function(t,r,n){e({error:n})}})):e({error:"NO_CHANGES"})},getPageLockState:ce,lockPage:function(t){var r=e.Deferred();return Q("lockPage",{x01:m,x02:G,x03:t},{success:function(e){v[p.PAGE][G]._lock=e,e.isLockedByCurrentUser?(F=!1,r.resolve(e)):(F=!Se(),r.reject(H("LOCKED.BY_OTHER_USER",e.owner)))}}),r.promise()},unlockPage:function(){var t=e.Deferred(),r=ce();return r?r.isLockedByCurrentUser?Q("unlockPage",{x01:m,x02:G},{success:function(e){"OK"===e.status?(F=!1,v[p.PAGE][G]._lock=!1,t.resolve()):(F=!Se(),t.reject(e.reason))}}):t.reject("Page not locked by current user!"):t.reject("Page is already unlocked!"),t.promise()},getTemplateOptions:Z,getTheme:K,getRegionTemplate:$,enquoteIdentifier:J,setComponentData:Ue,initModelConfig:function(t,r,i){var _;_=t,_=e.extend(!0,{displayGroups:{},properties:{},componentTypes:{},plugins:{},pluginCategories:{},events:{browser:[],apex:[],component:[],custom:[],lookupMap:{}},text:{},formatMasks:{numbers:[],dates:[]}},_),h=_.displayGroups,c=_.properties,y=_.componentTypes,U=_.pluginCategories,f=_.events,g=_.formatMasks,q(_.plugins,"%0"),function(e){ye(e.componentTypes)}(r),function(t){for(var r in e.extend(!0,{plugins:{}},t),ye((D=t).componentTypes),D.userInterfaces)D.userInterfaces.hasOwnProperty(r)&&(D.userInterfaces[r].id=r,W(D.userInterfaces[r],{globalPageId:""}));for(var r in q(t.plugins,n.getMessage("MODEL.POSTFIX.PLUGIN")),D.themes)D.themes.hasOwnProperty(r)&&(D.themes[r].templates[p.REGION_TEMPLATE][""]=D.themes[r].templates[p.REGION_TEMPLATE][0],delete D.themes[r].templates[p.REGION_TEMPLATE][0],D.themes[r].templates[p.FIELD_TEMPLATE][""]=D.themes[r].templates[p.FIELD_TEMPLATE][0],delete D.themes[r].templates[p.FIELD_TEMPLATE][0],W(D.themes[r].defaultTemplates,{page:"",dialog:"",region:"",field:"",button:"",report:"",ir:"",list:"",breadcrumb:"",calendar:""}))}(i),function(){function e(e){b(e,(function(e,t){t.displayPointsMap={};for(var r=0;r<t.displayPoints.length;r++)t.displayPointsMap[t.displayPoints[r].id]=t.displayPoints[r]}))}for(var t in y)if(y.hasOwnProperty(t))for(var r in y[t].id=t,W(y[t],{parentId:null,isOneToOneRelation:!1,isPageComponent:!1,isSharedComponent:!1,refByProperties:[],childComponentTypes:[]}),v[t]={},y[t].properties)y[t].properties.hasOwnProperty(r)&&(y[t].properties[r].propertyId=r,W(y[t].properties[r],{defaultValue:"",helpText:"",dependingOn:[],refByChilds:[],refByDependingOn:[]}));for(var t in c)if(c.hasOwnProperty(t)&&(c[t].id=t,W(c[t],{helpText:"",hasPlSqlCheck:!1,isQueryOnly:!1,isInternal:!1,isSearchable:!0,dataTypes:{},refByComponentTypes:[]}),c[t].hasOwnProperty("uiTypes")||(c[t].uiTypes=[R,d]),c[t].hasOwnProperty("lovValues"))){c[t].lovValuesMap={};for(r=0;r<c[t].lovValues.length;r++)c[t].lovValuesMap[c[t].lovValues[r].r]=r}b(f,(function(e,t){if("lookupMap"!==e)for(var r=0;r<t.length;r++)f.lookupMap[t[r].r]=t[r]})),b(D.themes,(function(t,r){e(r.templates[p.PAGE_TEMPLATE]),e(r.templates[p.REGION_TEMPLATE])}))}(),function(){var e,t,r;function n(e,n){y[e].properties[n]&&y[e].properties[n].refByChilds.push({typeId:t,id:r})}for(var i in c)c.hasOwnProperty(i)&&("COMPONENT"===c[i].lovType?y[c[i].lovComponentTypeId].refByProperties.push(i):c[i].type===C.ITEM?y[p.PAGE_ITEM].refByProperties.push(i):c[i].type===C.FACET&&y[p.FACET].refByProperties.push(i));for(t in y)if(y.hasOwnProperty(t))for(r in null!==y[t].parentId&&y[y[t].parentId].childComponentTypes.push(t),y[t].properties)if(y[t].properties.hasOwnProperty(r)){if(e=y[t].properties[r],c[r].refByComponentTypes.push(t),e.parentProperty&&e.parentProperty.id){if(n(e.parentProperty.typeId,e.parentProperty.id),e.parentProperty.id===s.CHART_SOURCE_LOCATION)for(i=0;i<E.length;i++)n(p.REGION,E[i]),n(p.JET_CHART_SERIES,E[i]);if(e.parentProperty.id===s.REGION_SQL)for(i=0;i<E.length;i++)n(p.REGION,E[i])}for(i=0;i<e.dependingOn.length;i++)y[t].properties[e.dependingOn[i].id].refByDependingOn.push({propertyId:r,hasToExist:e.dependingOn[i].hasToExist})}}(),e(document).trigger("modelConfigLoaded"),Ue(r.components),Ue(i.components)},setComponentTypeCallback:function(e,t){y[e].callback=t},setPluginCallback:function(e,t,r){y[e].pluginType.plugins[t].callback=r},getPageTemplate:j,getNavListTemplateId:function(){var e=v[p.PAGE][G],t="";return re()||"L"!==e.getProperty(s.PAGE_NAVIGATION_TYPE).getValue()||(e.getProperty(s.NAVIGATION_LIST_TEMPLATE)?t=e.getProperty(s.NAVIGATION_LIST_TEMPLATE).getValue():M.navList&&(t=M.navList.templateId||"")),t},getNavListId:function(){var e=v[p.PAGE][G],t="";return re()||"L"!==e.getProperty(s.PAGE_NAVIGATION_TYPE).getValue()||(e.getProperty(s.NAVIGATION_LIST)?t=e.getProperty(s.NAVIGATION_LIST).getValue():M.navList&&(t=M.navList.listId||"")),t},getNavBarListId:function(){return!re()&&M.navBar&&"LIST"===M.navBar.type&&M.navBar.listId||""},getTabSetId:function(){var e=v[p.PAGE][G],t="";return re()||"T"!==e.getProperty(s.PAGE_NAVIGATION_TYPE).getValue()||(t=e.getProperty(s.STANDARD_TAB_SET).getValue()),t},getRegionTemplates:function(){return K().templates[p.REGION_TEMPLATE]},getButtonTemplates:function(){return K().templates[p.BUTTON_TEMPLATE]},getThemeIcons:function(){return K().icons||{}},getParsingSchema:function(){return D.parsingSchema},getPrimaryLanguage:function(){return D.primaryLanguage},getDisplayGroup:function(e){return h[e]},getComponentType:function(e){return y[e]},getProperty:function(e){return c[e]},getPluginProperty:function(e,t,r){var n;for(var i in n=(e===p.REGION?p.REGION_PLUGIN_ATTR:e===p.IG_COLUMN||e===p.FACET||e===p.FACET_GROUP_ITEM?p.PAGE_ITEM:e)+"_"+t+"_"+r,c)if(c.hasOwnProperty(i)&&c[i].name===n)return c[i]},getLovTitle:function(e,t,r){var n=y[e].properties[t].nullText||"",i=c[t];return"STATIC"===i.lovType?i.lovValuesMap.hasOwnProperty(r)&&(n=i.lovValues[i.lovValuesMap[r]].d):"EVENTS"===i.lovType&&f.lookupMap.hasOwnProperty(r)&&(n=f.lookupMap[r].d),n},getSourceLocationProperty:function(e){var t,r;for(t=0;t<E.length;t++)if(r=e.getProperty(E[t]))return r},getErrorComponents:function(){var e,t={};for(var r in y)y.hasOwnProperty(r)&&(e=Oe(r,{hasErrors:!0})).length>0&&(t[r]=e);return t},observer:function(t,r,n,i){B.push({widget:t,filter:e.extend({},{properties:[],events:[]},r),callback:n,sendInBulk:i,pendingNotifications:[]})},unobserver:function(e,t,r){for(var n,i,_=0;_<B.length;_++)B[_].widget===e&&(n=B[_].filter,t.hasOwnProperty("component")?t.component instanceof Ee&&n.component instanceof Ee?t.component.typeId===n.component.typeId&&t.component.id===n.component.id&&(i=!0):t.component.typeId===n.component.typeId&&(i=!0):i=!0,i&&t.hasOwnProperty("properties")&&(i=n.properties.join(",")===t.properties.join(",")),i&&t.hasOwnProperty("events")&&(i=n.events.join(",")===t.events.join(",")),i&&r&&(i=B[_].callback===r),i&&(B.splice(_,1),_--))},setCurrentAppId:function(e){m=e},getCurrentAppId:function(){return m},setCurrentPageId:function(e){var t=v[p.PAGE][e]._lock;G=e+"",M=D.userInterfaces[v[p.PAGE][G].getProperty(s.USER_INTERFACE).getValue()],F=!(!Y.isReadOnly&&(!1===t||t.isLockedByCurrentUser)),ae(!0),function(){function e(e,t){he(t)}b(v,(function(t,r){V[t]={},b(r,e)}))}()},getCurrentPageId:function(){return G},getGlobalPageId:function(){return M.globalPageId},isGlobalPage:re,isPageReadOnly:function(){return F},clear:function(){h=void 0,c=void 0,y=void 0,U=void 0,f=void 0,g=void 0,D=void 0,v={},V={},m=void 0,G=void 0,M=void 0,F=!0;for(var e=0;e<B.length;e++)B[e].filter.component instanceof Ee&&(B.splice(e,1),e--)},init:function(e){Y=e},getAll:function(){return{displayGroups:h,properties:c,componentTypes:y,pluginCategories:U,sharedComponents:D,components:v,baseComponents:V,observers:B}}}}(apex.jQuery,apex.util,apex.locale,apex.lang,apex.server,apex.debug);
window.pageDesigner={},function(e,t,a,n,o,i,r,s,l,c,_){"use strict";var P,O,d=null,p={},u="0:renderTree_container,0:dynActTree_container,0:procTree_container,0:sharedComp_container,1:grid_layout,1:search,1:help,2:peComponentProperties,2:peAttributesTabPanel,2:pePrintingTabPanel",g={},E="aria-label",N="option",A="active",T="pd-undo",C="pd-redo",I="pd-goto-dynamic-actions-tree",f="pd-goto-component-view",R="pd-goto-next-page",m="pd-goto-prev-page",L="componentView",h=["#trees","#editor_tabs","#peTabs"];function b(){e.getCurrentPageId()!==t.trim(t("#go_to_page").val())&&t("#go_to_page").val(e.getCurrentPageId())}function S(e,t,a){return t.p_arg_names=["FB_FLOW_ID"],t.p_arg_values=[$v("P4500_CURRENT_APP")],r.process(e,t,a)}function D(e){e?apex.tooltipManager.enableTooltips():apex.tooltipManager.disableTooltips()}function v(){t.each(h,(function(e,a){var n=t(a),o=n.find(".ui-tabs-nav").first(),i=o.children(),r=n.width(),s=g[a];void 0===s&&function(e,a){var n=0;a.each((function(){var e=t(this),a=e.find(".a-Tabs-label"),o=e.find(".a-Icon"),i=a.length>0?a.width():0,r=o.length>0?o.width():0;n+=i+r})),g[e]=n}(a,i),o.toggleClass("ui-tabs--iconOnly",s>r).toggleClass("ui-tabs--single",1===i.length)}))}function G(){var e,a="";return p={},t.each(h,(function(n,o){t(o).find(".ui-tabs-nav").first().children().each((function(i,r){e=t(r).attr("aria-controls"),p[e]={tabs:o,index:i},a&&(a+=","),a+=n+":"+e}))})),v(),a}function y(){var e,a=t("#sp_main_content"),n=G();e=a.hasClass("a-Splitter")?"TAB_LAYOUT_3":"TAB_LAYOUT_2",i.savePreference(e,n)}function U(e,a){var n,o,i,r,s=[],l=t(),c=t("#sp_main_content"),_={};for(e||(e=u),t.each(h,(function(e,a){var n=t(a),o=n.children().first().children(".ui-tabs-nav");s.push({tabs:o,panels:n,activeName:o.children().eq(n.tabs(N,A)).attr("aria-controls")}),l=l.add(o.children())})),l.each((function(){var e=t(this),a=e.attr("aria-controls"),n=t("#"+a);e.remove().removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus").removeAttr("role"),n.detach().removeClass("ui-tabs-panel").removeAttr("role"),_[a]={t:e,p:n}})),(r=e.indexOf("0:")>=0)&&!c.hasClass("a-Splitter")&&d?(t("#left_col").show(),c.splitter(d)):!r&&c.hasClass("a-Splitter")&&(d=t("#sp_main_content").splitter(N),t("#left_col").hide(),c.splitter("destroy").addClass("resize").trigger("resize")),o=e.split(","),n=0;n<o.length;n++)i=o[n].split(":"),_[i[1]]&&(s[i[0]].tabs.append(_[i[1]].t),s[i[0]].panels.append(_[i[1]].p));t.each(s,(function(e,t){var n=0;t.panels.tabs("refresh"),a||(t.panels.children("#"+t.activeName).length&&(n=t.tabs.children("[aria-controls="+t.activeName+"]").index()),t.panels.tabs(N,A,n))})),G()}function B(e){var a=p[e];a.tabs===h[0]?H("sp_main_content"):a.tabs===h[2]&&H("sp_right_content"),t(a.tabs).tabs(N,A,a.index)}function M(e,a){var n=h[1],o=t(n),r="#"+e,s="[aria-controls='"+e+"']",l=t(r+","+s),c=e===L?"ENABLE_COMPONENT_VIEW":"ENABLE_LAYOUT_VIEW",_=function(){var e=t(s).is(":visible"),n=t(r).length>0;i.saveBoolPref(c,a),i.storeTabsLayout(),e&&n&&o.tabs("option","active",0),v()};a?(!function(e){var a,n,o=e.tabSetId,i=e.tabId,r=t(o).tabs(),s=r.find("ul.ui-tabs-nav").first(),l="#"+i;0===t(l).length&&(i===L?(a="Component View",n="icon-comp-view"):(a="Layout",n="icon-pd-layout"),t("<li aria-controls='"+i+"'><a href='"+l+"'><span title='"+a+"' class='a-Icon "+n+"'></span><span class='a-Tabs-label'>"+a+"</span></a></li>").prependTo(s),r.tabs("refresh"))}({tabSetId:n,tabId:e}),_(),apex.message.confirm(i.msg("ENABLE_VIEW_WARN"),(function(e){e&&location.reload()}))):(!function(e){l.remove(),t(e).tabs("refresh")}(n),_())}i.CSS={IS_ERROR:"is-error",IS_WARNING:"is-warning",IS_CONDITIONAL:"is-conditional",IS_NEVER:"is-never",DIALOG_FLUSH_BODY:"ui-dialog-flushBody",IS_CHANGED:"is-changed"},i.SETTINGS={COMPONENT_TITLE:{LABEL:"l",NAME:"n"}},i.settingsState={componentTitle:i.SETTINGS.COMPONENT_TITLE.NAME},i.msg=function(e){return n.getMessage("PD."+e)},i.format=function(e){var t=i.msg(e),a=[t].concat(Array.prototype.slice.call(arguments,1));return n.format.apply(this,a)},i.formatNoEscape=function(e){var t=i.msg(e),a=[t].concat(Array.prototype.slice.call(arguments,1));return n.formatNoEscape.apply(this,a)},i.tooltipContentForComponent=function(t){var n,o,r=t.typeId,s=a.htmlBuilder();function l(e,a,n){var o=t.getProperty(e),i=n;!o||void 0!==a&&o.getValue()===a||(i||(i=o.getDisplayValue()),""!==i&&s.markup("<li><span class='tt-label'>").content(o.getMetaData().prompt).markup(": </span><span class='tt-value'>").content(i).markup("</span></li>"))}function c(){l(e.PROP.GRID_NEW_GRID,"N"),l(e.PROP.GRID_NEW_ROW,"N"),l(e.PROP.GRID_COLUMN,""),l(e.PROP.GRID_NEW_COLUMN,"N"),l(e.PROP.GRID_COLUMN_SPAN,"")}return r===e.COMP_TYPE.PAGE?l(e.PROP.TITLE):r===e.COMP_TYPE.REGION?(l(e.PROP.REGION_TYPE),c()):r===e.COMP_TYPE.PAGE_ITEM?(l(e.PROP.ITEM_LABEL),l(e.PROP.ITEM_TYPE),c()):r===e.COMP_TYPE.BUTTON?(l(e.PROP.BUTTON_LABEL),(n=t.getProperty(e.PROP.BUTTON_TARGET))?l(e.PROP.BUTTON_TARGET,"",i.splitApexUrl(n.getValue()).display):l(e.PROP.BUTTON_ACTION),c()):r===e.COMP_TYPE.DA_EVENT?(o=t.getProperty(e.PROP.WHEN_TYPE),l(e.PROP.EVENT),l(e.PROP.CUSTOM_EVENT),o&&""!==o.getValue()&&(l(e.PROP.WHEN_REGION),l(e.PROP.WHEN_COLUMNS),l(e.PROP.WHEN_BUTTON),l(e.PROP.WHEN_ITEMS),l(e.PROP.WHEN_DOM_OBJECT),l(e.PROP.WHEN_JQUERY_SELECTOR),l(e.PROP.WHEN_JAVASCRIPT_EXPRESSION)),(o=t.getProperty(e.PROP.JS_CONDITION))&&""!==o.getValue()?(l(e.PROP.JS_CONDITION),l(e.PROP.JS_CONDITION_ITEM),l(e.PROP.JS_COND_VALUE),l(e.PROP.JS_COND_LIST)):(o=t.getProperty(e.PROP.JS_CONDITION_WHEN_IG))&&""!==o.getValue()&&(l(e.PROP.JS_CONDITION_WHEN_IG),l(e.PROP.JS_CONDITION_ITEM_WHEN_IG),l(e.PROP.JS_CONDITION_COLUMN_WHEN_IG),l(e.PROP.JS_COND_VALUE_WHEN_IG),l(e.PROP.JS_COND_LIST_WHEN_IG))):r===e.COMP_TYPE.DA_ACTION?function(){var a=t.getProperty(e.PROP.AFFECTED_TYPE);a&&""!==a.getValue()&&(l(e.PROP.AFFECTED_REGION),l(e.PROP.AFFECTED_BUTTON),l(e.PROP.AFFECTED_ITEMS),l(e.PROP.AFFECTED_COLUMNS),l(e.PROP.AFFECTED_DOM_OBJECT),l(e.PROP.AFFECTED_JQUERY_SELECTOR),l(e.PROP.AFFECTED_JAVASCRIPT_EXPRESSION),"TRIGGERING_ELEMENT"!==a.getValue()&&"EVENT_SOURCE"!==a.getValue()||l(e.PROP.AFFECTED_TYPE)),l(e.PROP.FIRE_ON_PAGE_LOAD)}():r===e.COMP_TYPE.VALIDATION?(""===t.getProperty(e.PROP.VALIDATION_REGION).getValue()?(l(e.PROP.VALIDATION_TYPE),l(e.PROP.VAL_SQL_STATEMENT),l(e.PROP.VAL_ITEM),l(e.PROP.VAL_VALUE),l(e.PROP.VAL_REGULAR_EXPRESSION),l(e.PROP.VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.VAL_JS_FUNC_BODY_ERROR),l(e.PROP.VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.VAL_PLSQL),l(e.PROP.VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.VAL_FUNC_BODY_LANG),l(e.PROP.VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.VAL_PYTHON_FUNC_BODY_BOOLEAN)):(l(e.PROP.VALIDATION_REGION),l(e.PROP.REGION_VALIDATION_TYPE),l(e.PROP.REGION_VAL_SQL_STATEMENT),l(e.PROP.REGION_VAL_COLUMN),l(e.PROP.REGION_VAL_VALUE),l(e.PROP.REGION_VAL_REGULAR_EXPRESSION),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JS_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_ERROR),l(e.PROP.REGION_VAL_PLSQL),l(e.PROP.REGION_VAL_SQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JS_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.REGION_VAL_FUNC_BODY_LANG),l(e.PROP.REGION_VAL_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JS_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.REGION_VAL_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.ALWAYS_EXECUTE)):r===e.COMP_TYPE.PAGE_PROCESS?l(e.PROP.PAGE_PROCESS_TYPE):r===e.COMP_TYPE.PAGE_COMPUTATION?(l(e.PROP.COMPUTATION_STATIC_VALUE),l(e.PROP.COMPUTATION_SQL_STATEMENT),l(e.PROP.COMPUTATION_SQL_COLON),l(e.PROP.COMPUTATION_SQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PLSQL_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JS_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_EXPRESSION_VARCHAR2),l(e.PROP.COMPUTATION_FUNC_BODY_LANG),l(e.PROP.COMPUTATION_PLSQL_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JS_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_JAVA_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_PYTHON_FUNC_BODY_VARCHAR2),l(e.PROP.COMPUTATION_ITEM_VALUE),l(e.PROP.COMPUTATION_PREFERENCE_VALUE)):r===e.COMP_TYPE.BRANCH?(l(e.PROP.BRANCH_TYPE),(n=t.getProperty(e.PROP.TARGET))?l(e.PROP.TARGET,"",i.splitApexUrl(n.getValue()).display):(l(e.PROP.BRANCH_PAGE_NUMBER),l(e.PROP.BRANCH_ACCEPT_REQUEST),l(e.PROP.BRANCH_ITEM))):r===e.COMP_TYPE.IR_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.IR_COLUMN_DISPLAY_TYPE)):r===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(l(e.PROP.COLUMN_HEADING),l(e.PROP.CLASSIC_REPORT_COLUMN_TYPE)):r===e.COMP_TYPE.TAB_FORM_COLUMN&&(l(e.PROP.COLUMN_HEADING),l(e.PROP.TAB_FORM_COLUMN_TYPE)),function(){var a=t.getProperty(e.PROP.CONDITION_TYPE);l(e.PROP.WHEN_BUTTON_PRESSED),a&&""!==a.getValue()&&(l(e.PROP.CONDITION_TYPE),l(e.PROP.CONDITION_SQL_STATEMENT),l(e.PROP.CONDITION_VALUE1),l(e.PROP.CONDITION_ITEM1),l(e.PROP.CONDITION_LIST),l(e.PROP.CONDITION_PREFERENCE),l(e.PROP.CONDITION_PAGE),l(e.PROP.CONDITION_PAGES),l(e.PROP.CONDITION_TEXT),l(e.PROP.CONDITION_VALUE2),l(e.PROP.CONDITION_ITEM2),l(e.PROP.CONDITION_TEXT2),l(e.PROP.CONDITION_SQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JS_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_JAVA_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PYTHON_EXPRESSION_BOOLEAN),l(e.PROP.CONDITION_PLSQL_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JS_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_JAVA_FUNC_BODY_BOOLEAN),l(e.PROP.CONDITION_PYTHON_FUNC_BODY_BOOLEAN)),l(e.PROP.AUTHORIZATION_SCHEME),l(e.PROP.BUILD_OPTION)}(),s.toString()?"<ul class='tt-list'>"+s.toString()+"</ul>":null},i.getComponentIconClass=function(e,t){return/^PLUGIN_/.test(t)?"icon-"+e+"-plugin":"icon-"+e+"-"+t.toLowerCase().replace(/_/g,"-")},i.isNever=function(t){var a=t.getProperty(e.PROP.CONDITION_TYPE);return a&&"NEVER"===a.getValue()},i.isConditional=function(t){function a(e){var a=t.getProperty(e);return a&&""!==a.getValue()}return a(e.PROP.CONDITION_TYPE)||a(e.PROP.AUTHORIZATION_SCHEME)||a(e.PROP.BUILD_OPTION)||a(e.PROP.WHEN_BUTTON_PRESSED)},i.observerIsConditional=function(t,a,n){e.observer(t,{components:a,events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.WHEN_BUTTON_PRESSED]},n)},i.isDisplayed=function(a){var n,o=!0;return a.isOnGlobalPage()&&("CURRENT_PAGE_EQUALS_CONDITION"===(n=a.getProperty(e.PROP.CONDITION_TYPE).getValue())?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()===e.getCurrentPageId():"CURRENT_PAGE_NOT_EQUAL_CONDITION"===n?o=a.getProperty(e.PROP.CONDITION_PAGE).getValue()!==e.getCurrentPageId():"CURRENT_PAGE_IN_CONDITION"===n?o=-1!==t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")):"CURRENT_PAGE_NOT_IN_CONDITION"===n&&(o=-1===t.inArray(e.getCurrentPageId(),a.getProperty(e.PROP.CONDITION_PAGES).getValue().split(",")))),o},i.LINK_TYPE={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},i.splitApexUrl=function(e,a,n){var o,r,s,l,c,_,P,O,d,p="LINK."+(a?"GOTO_":""),u=n||[],g={type:i.LINK_TYPE.PAGE_IN_THIS_APP,display:"",appId:"",pageId:"",session:"&SESSION.",request:"",debug:"&DEBUG.",clearCache:"",clearAction:"NONE",itemNames:"",itemValues:"",printerFriendly:"NO",url:"",successMessage:"Y",anchor:""},E=/#([^#]*)#|#([^#]*)/g;if(e)if(0===e.toLowerCase().indexOf("f?p=")){for((o=e.toLowerCase().indexOf("&success_msg=#success_msg#"))>-1?(r=e.substr(0,o),g.successMessage="Y"):(r=e,g.successMessage="N");!s&&(c=E.exec(r));){for(_=!1,l=0;l<u.length;l++)if(c[1]===u[l]){_=!0;break}_||(s=c.index,g.anchor=r.substr(s+1),r=r.substr(0,s))}if(/f\?p=([^:]*):?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?:?([^:]*)?/i.test(r)&&(RegExp.$1&&(g.appId=RegExp.$1),RegExp.$2&&(g.pageId=RegExp.$2),RegExp.$3&&(g.session=RegExp.$3),RegExp.$4&&(g.request=RegExp.$4),RegExp.$5&&(g.debug=RegExp.$5),RegExp.$6&&(g.clearCache=RegExp.$6),RegExp.$7&&(g.itemNames=RegExp.$7),RegExp.$8&&(g.itemValues=RegExp.$8),RegExp.$9&&(g.printerFriendly=RegExp.$9)),g.clearCache){for(O=g.clearCache.split(","),P=0;P<O.length;P++)d=O[P],t.inArray(d,["NONE","CR","RR","RP"])>-1&&(g.clearAction=d,O.splice(P,1));g.clearCache=O.join(",")}g.itemNames&&(g.itemNames=g.itemNames.split(",")),g.itemValues&&(g.itemValues=g.itemValues.split(",")),g.appId&&(0===g.appId.toLowerCase().indexOf("&flow_id.")||0===g.appId.toLowerCase().indexOf("&app_id.")||0===g.appId.toLowerCase().indexOf("#flow_id#")||0===g.appId.toLowerCase().indexOf("#app_id#")?(g.type=i.LINK_TYPE.PAGE_IN_THIS_APP,g.display=i.formatNoEscape(p+"PAGE_N",g.pageId)):g.appId&&(g.type=i.LINK_TYPE.PAGE_IN_DIFF_APP,g.display=i.formatNoEscape(p+"APPLICATION_N",g.appId,g.pageId)))}else g.url=e,g.type=i.LINK_TYPE.URL,g.display=e.replace(/^(https?:\/\/)(www.)?/i,""),a&&(g.display=i.formatNoEscape(p+"URL",g.display));return g},i.setPageSelection=function(a,n,o,r,s){var l,c="OK";if(a&&a===e.getCurrentAppId()){if(n&&n!==e.getCurrentPageId())return l=i.goToPage(n),void t.when(l).done((function(){o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED")),s(c)})).fail((function(e){s("user-abort"===e?"PAGE_CHANGE_ABORTED":"PAGE_NOT_CHANGED")}));o&&r&&(i.goToComponent(o,r)||(c="COMPONENT_NOT_SELECTED"))}else c="APP_NOT_CHANGED";s(c)},i.goToPage=function(n,o){var r,s,c,_,d=t("#a_PageDesigner"),p=t.Deferred();return e.hasChanged()&&!window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES"))?(b(),p.reject("user-abort"),p.promise()):(t(document).trigger("selectionChanged",["controller",[]]),e.clear(),t(document).trigger("modelCleared",{preventHideNotification:o}),t("#go_to_page").val(n),a.delayLinger.start("main",(function(){c=a.showSpinner(d),d.addClass("is-processing")})),P||(P=t.ajax({dataType:"json",type:"GET",url:apex_img_dir+"apex_ui/js/staticData/pd_static_data_"+gLanguage+".json?v="+gApexVersion})),r=S("getWorkspaceData",{},{type:"GET"}),s=S("getSharedData",{},{type:"GET"}),_=S("getPageData",{x01:n},{type:"GET"}),t.when(P,r,s,_).done((function(a,n,o,r){var s;t.isEmptyObject(r[0])?i.showError(i.msg("PAGE_DOES_NOT_EXIST")):(s=r[0][e.COMP_TYPE.PAGE][0].pageId,t("#go_to_page").val(s),e.initModelConfig(a[0],n[0],o[0]),e.setComponentData(r[0]),e.setCurrentAppId($v("P4500_CURRENT_APP")),e.setCurrentPageId(s),t(document).trigger("modelReady"),S("getAdditionalData",{x01:s},{type:"GET",success:function(e){var a,n;e.prevPageId&&(l.lookup(m).pageId=e.prevPageId,l.enable(m)),e.nextPageId&&(l.lookup(R).pageId=e.nextPageId,l.enable(R)),gTeamDevEnabled&&(a=e.teamDev.features+e.teamDev.bugs+e.teamDev.todos+e.teamDev.feedback+e.teamDev.issues,n=i.format("TEAM_DEV_BADGE_TITLE",a),0===a?(a="",t("#menu-team-dev").hide()):t("#menu-team-dev").show().prop("disabled",!1).attr(E,n).attr("title",n).find(".a-Button-badge").text(a),O=e.teamDev)}}),t(document).trigger("selectionChanged",["controller",e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})]),p.resolve())})).fail((function(){p.reject()})).always((function(){a.delayLinger.finish("main",(function(){c.remove(),d.removeClass("is-processing")}))})),p.promise())},i.goToComponent=function(a,n,o){var i=e.getComponents(a,{id:n});return 1===i.length&&(t(document).trigger("selectionChanged",["controller",i,o]),t("#PDrenderingTree, #PDdynamicActionTree, #PDprocessingTree, #PDsharedCompTree").each((function(e){var a,i=t(this);if((a=i.treeView("getSelectedNodes")[0])&&a.data.componentId===n)return B(i.closest(".ui-tabs-panel")[0].id),i.treeView("setSelectedNodes",[a],void 0===o,!0),!1})),!0)},i.showSuccess=function(e){t("#pdNotificationState").addClass("is-success"),t("#pdNotificationIcon").addClass("icon-check"),i.showNotification(e)},i.showError=function(e){t("#pdNotificationState").addClass("is-error"),t("#pdNotificationIcon").addClass("icon-error"),i.showNotification(e)},i.showNotification=function(a){var n=t("#pdNotificationMessage");a&&n.text(a),t("#pdNotification").addClass("is-displayed").fadeIn("slow"),t(document).on("commandHistoryChange.forMsg",(function(t){e.hasChanged()&&i.hideNotification()})).on("modelCleared.forMsg",(function(e,t){t.preventHideNotification||i.hideNotification()}))},i.hideNotification=function(){t("#pdNotification").removeClass("is-displayed").fadeOut("slow",(function(){t("#pdNotificationMessage").text(""),t("#pdNotificationState").removeClass("is-error is-success"),t("#pdNotificationIcon").removeClass("icon-error icon-check")})),t(document).off(".forMsg")},i.setHelpText=function(e,a){t("#help-container").html(e)},i.clearHelpText=function(){var e=t("#help-container"),a=i.msg("HELP.DEFAULT");e.html(a)},i.getPreference=function(e){var t="PD_"+e;return window.gPreferences.hasOwnProperty(t)?window.gPreferences[t]:null},i.savePreference=function(e,t){var a="PD_"+e,n=window.gPreferences[a];window.gPreferences[a]=t,n!==t&&S("setPreference",{x01:a,x02:t},{dataType:""})},i.saveBoolPref=function(e,t){i.savePreference(e,t?"Y":"N")},i.getBoolPref=function(e,t){var a=i.getPreference(e);return a=null===a?t:"Y"===a},i.getTabsLayout=G,i.storeTabsLayout=y,i.loadTabsLayout=U,i.activateTab=B,i.getTab=function(e){var a=p[e];return t(a.tabs).find(".ui-tabs-nav").first().children().eq(a.index)};var V=t("#peMain"),w=t("#peAttributes"),x=t("#pePrinting"),Y=t("#pdMessagesDialog");function H(e){var a=t("#"+e);a.length&&a.splitter(N,"collapsed")&&a.splitter(N,"collapsed",!1)}function F(){Y.dialog({modal:!1,dialogClass:"ui-dialog--pageDesignerMsg",width:480,minWidth:320,minHeight:320,title:i.msg("MESSAGES"),buttons:[{text:i.msg("OK"),click:function(){Y.dialog("close")}}]}),t("#pdMessages").find(".a-AlertMessages-message").first().each((function(){this.focus()}))}function k(){var r,s=t("#createMenu_menu"),P=t("#button-lock"),d=t("#lockDialog"),p=t("#runDialogOpenMsg"),g=t("#runDialogFocusMsg"),A=t("#pdShowMessagesBtn");function I(n){var o=t("#a_PageDesigner"),s=[T,C,"pd-save-page","pd-save-run-page"];a.delayLinger.start("main",(function(){r=a.showSpinner(o),o.addClass("is-processing")})),t.each(s,(function(e,t){l.disable(t)})),t(".a-TreeView").treeView("disable"),t("#glv").gridlayout("disable"),V.propertyEditor("disable"),e.saveChanges((function(e){t.each(s,(function(e,t){l.enable(t)})),t(".a-TreeView").treeView("enable"),t("#glv").gridlayout("enable"),V.propertyEditor("enable"),a.delayLinger.finish("main",(function(){r.remove(),o.removeClass("is-processing")})),n(e)})),V.find("."+i.CSS.IS_CHANGED).removeClass(i.CSS.IS_CHANGED)}function f(){var t,a=e.getPageLockState();a?a.isLockedByCurrentUser?(t=i.msg("PAGE_LOCKED_BY_YOU"),P.attr("title",t).attr(E,t).removeClass("is-locked").addClass("is-locked-by-self").find(".a-Icon")[0].className="a-Icon icon-lock"):(t=i.format("PAGE_LOCKED_BY",a.owner),P.attr("title",t).attr(E,t).removeClass("is-locked-by-self").addClass(" is-active is-locked").find(".a-Icon")[0].className="a-Icon icon-lock-user"):(t=i.msg("PAGE_UNLOCKED"),P.attr("title",t).attr(E,t).removeClass("is-locked is-locked-by-self").find(".a-Icon")[0].className="a-Icon icon-unlock")}_.setErrorHandler((function(e,t,a){i.showError(i.format({execute:"CMD.EXECUTE_FAILED",undo:"CMD.UNDO_FAILED",redo:"CMD.REDO_FAILED"}[e],t.label()))})),l.add([{name:T,label:null,title:null,icon:"icon-undo",action:function(e,t){_.undo()}},{name:C,label:null,title:null,icon:"icon-redo",action:function(e,t){_.redo()}},{name:"pd-two-column",action:function(e,t){var a=i.getPreference("TAB_LAYOUT_2");a||(a=u.replace(/0:/g,"1:")),U(a),i.saveBoolPref("TWO_COLUMN_MODE",!0),l.disable("pd-two-column"),l.enable("pd-three-column")}},{name:"pd-three-column",action:function(e,t){var a=i.getPreference("TAB_LAYOUT_3");a||(a=u),a.indexOf("0:")<0&&(a=a.replace(/^1:/,"0:")),U(a),i.saveBoolPref("TWO_COLUMN_MODE",!1),l.disable("pd-three-column"),l.enable("pd-two-column")}},{name:"pd-reset-tab-layout",action:function(e,t){U(u),i.saveBoolPref("TWO_COLUMN_MODE",!1),i.savePreference("TAB_LAYOUT_2",""),i.savePreference("TAB_LAYOUT_3",""),M(L,!1),M("grid_layout",!0),l.disable("pd-three-column"),l.enable("pd-two-column")}},{name:"pd-enable-tooltips",set:function(e){i.saveBoolPref("ENABLE_TOOLTIPS",e),D(e)},get:function(){return i.getBoolPref("ENABLE_TOOLTIPS",!0)}},{name:"pd-show-component-view",set:function(e){M(L,e)},get:function(){return i.getBoolPref("ENABLE_COMPONENT_VIEW",!1)}},{name:"pd-show-layout-view",set:function(e){M("grid_layout",e)},get:function(){return i.getBoolPref("ENABLE_LAYOUT_VIEW",!0)}},{name:"pd-save-page",label:null,disabled:!0,action:function(e,a){t(e.target).closest(".a-Property").length&&V.propertyEditor("saveProperty"),I((function(e){_.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):i.showSuccess(i.msg("CHANGES_SAVED"))}))}},{name:"pd-save-run-page",label:null,title:null,icon:"icon-run-page",disabled:!0,action:function(r,s){var l,c=e.getCurrentAppId(),P=e.getCurrentPageId(),O=null;function d(){return a.makeApplicationUrl({pageId:"RUN_PAGE",request:"BRANCH_TO_PAGE_ACCEPT",debug:"NO",itemNames:["FB_FLOW_ID","FB_FLOW_PAGE_ID","F4000_P1_FLOW"],itemValues:[c,P,c]})}function u(e,a){e.dialog({modal:!0,title:a?i.msg("FOCUS_PAGE"):i.msg("RUN_PAGE"),closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerAlert",width:400,height:240,minWidth:400,minHeight:240,position:{my:"right top",at:"right-20 bottom+20",of:s},create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:[{text:i.msg("TRY_AGAIN"),class:"a-Button--hot",click:function(){e.dialog("close"),a?o.openInNewWindow("",apex.builder.getAppUnderTestWindowName(c)):E()}}]})}function E(){var a=e.getComponents(e.COMP_TYPE.PAGE)[0],n={},r=$v("P0_WINDOW_MGMT_MODE")||"FOCUS";e.isGlobalPage()?i.showSuccess(i.msg("CHANGES_SAVED_GLOBAL_PAGE")):"NORMAL"===a.getProperty(e.PROP.PAGE_MODE).getValue()?"NONE"===r||/^4\d\d\d$/.test(c)?o.redirect(d()):("BROWSER"===r?n.favorTabbedBrowsing=!0:(l=!1,t(window).on("blur.runcheck",(function(){t(window).off(".runcheck"),l=!0})),O=setTimeout((function(){O=null,l||u(g,!0),t(window).off(".runcheck")}),800)),apex.builder.launchAppUnderTest(d(),c,n)||(clearTimeout(O),t(window).off(".runcheck"),u(p))):i.showSuccess(i.msg("CHANGES_SAVED_DIALOG_PAGE"))}t(r.target).closest(".a-Property").length&&V.propertyEditor("saveProperty"),e.hasChanged()?I((function(e){_.clear(),t(document).trigger("commandHistoryChange"),e.error?"NO_CHANGES"!==e.error&&i.showError(e.error):E()})):E()}}]),t(document).on("commandHistoryChange",(function(e){var t,a;(a=l.lookup(T)).origLabel||(a.origLabel=a.label),a.disabled=!_.canUndo(),_.canUndo()?(t=n.formatMessageNoEscape("PD.UNDO",_.undoLabel()),a.label=a.title=t):a.label=a.title=a.origLabel,l.update(T),(a=l.lookup(C)).origLabel||(a.origLabel=a.label),a.disabled=!_.canRedo(),_.canRedo()?(t=n.formatMessageNoEscape("PD.REDO",_.redoLabel()),a.label=a.title=t):a.label=a.title=a.origLabel,l.update(C)})).trigger("commandHistoryChange"),P.attr("disabled",!0).click((function(){var a,o,r=!1,s=e.getPageLockState();o=[{text:i.msg("CANCEL"),click:function(){d.dialog("close")}}],t("#lockDialogIntroUnlocked, #lockDialogIntroLocked, #lockDialogIntroOwned").hide(),c("P4500_DLG_LOCK_OWNER").hide(),!s||s.isLockedByCurrentUser?(o.push({click:function(){d.dialog("close"),e.lockPage($v("P4500_DLG_LOCK_COMMENT")).fail((function(e){i.showError(e)})).always((function(){f()}))}}),s?(a=i.msg("UNLOCK_PAGE"),o[1].text=i.msg("APPLY_CHANGES"),t("#lockDialogIntroOwned").show(),o.push({text:i.msg("UNLOCK"),class:"a-Button--hot",click:function(){d.dialog("close"),e.unlockPage().fail((function(e){i.showError(e)})).always((function(){f()}))}})):(a=i.msg("LOCK_PAGE"),o[1].text=i.msg("LOCK"),o[1].class="a-Button--hot",t("#lockDialogIntroUnlocked").show())):(a=i.msg("PAGE_LOCKED"),t("#lockDialogIntroLocked").show(),c("P4500_DLG_LOCK_OWNER").show(),$s("P4500_DLG_LOCK_OWNER",s.owner),r=!0,o[0].text=i.msg("OK")),t("#P4500_DLG_LOCK_COMMENT").val(s.comment).attr("readOnly",r),d.dialog({modal:!0,title:a,closeText:n.getMessage("APEX.DIALOG.CLOSE"),dialogClass:"ui-dialog--pageDesignerLock",width:600,height:340,minHeight:340,minWidth:600,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},buttons:o})})),A.click((function(){F()})),t("#pdMessages").peMessagesView({badge:A.find("span.a-Button-badge"),button:A,noMsgHandler:function(){Y.hasClass("ui-dialog-content")&&Y.dialog("close")}}),s.on("menucreate",(function(){var t=s.menu("find","teamDev");t&&(t.hide=!gTeamDevEnabled),function t(a){var n,r;for(n=0;n<a.length;n++)a[n].hasOwnProperty("menu")?t(a[n].menu.items):("string"==typeof(r=a[n]).action&&(r=l.lookup(r.action)),r.action=function(){e.hasChanged()?window.confirm(i.msg("BEFORE_AJAX_UNSAVED_CHANGES"))&&o.redirect(this.href):o.redirect(this.href)})}(s.menu(N).items)})),gTeamDevEnabled&&t("<div id='teamDevMenu'></div>").appendTo("body").menu({menubar:!1,items:[{type:"action",labelKey:"PD.FEEDBACK_ENTRIES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4650",pageId:"8000",request:"BUILDER",clearCache:"RIR",itemNames:["IR_APPLICATION_ID","IR_PAGE_ID","IRLT_FEEDBACK_STATUS_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId(),"3"]}))}},{type:"action",labelKey:"PD.ISSUES",action:function(){o.redirect(a.makeApplicationUrl({appId:"4600",pageId:"1",itemNames:["P1_APPLICATION_ID","P1_PAGE_ID"],itemValues:[e.getCurrentAppId(),e.getCurrentPageId()]}))}}],beforeOpen:function(e,t){var a,n,o=t.menu.items,r=[["FEEDBACK_ENTRIES_N","feedback"],["ISSUES_N","issues"]];for(a=0;a<r.length;a++)void 0!==O[(n=r[a])[1]]&&(o[a].label=i.format(n[0],O[n[1]]),delete o[a].labelKey)}}),t("#go_to_page").on("keypress",(function(e){13===e.which&&i.goToPage(t("#go_to_page").val())})).on("focus",(function(){this.select()})),t("#a_PageDesigner").on("focusin",(function(e){b()})),t("#go_to_page_button").click((function(){i.goToPage(t("#go_to_page").val())})),t("#go_to_page_lov").on("click",(function(){var n=a.htmlBuilder(),o={columnDefinitions:[{name:"id",title:i.msg("PAGE_NUMBER")},{name:"name",title:i.msg("PAGE_NAME")},{name:"alias",title:i.msg("PAGE_ALIAS")},{name:"group",title:i.msg("GROUP")}],filters:[{name:"show",title:i.msg("PAGE_PICKER.SHOW"),type:"buttonset",defaultValue:"all",lov:[{display:i.msg("ALL_PAGES"),value:"all"},{display:i.msg("PAGE_PICKER.RECENTLY_EDITED"),value:"recent"}]},{name:"search",title:i.msg("SEARCH"),type:"search"}],filterLov:function(t,a){var n={};"current_group"===t.show?n={show:"group_id",id:e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()}:"recent"===t.show&&(n={show:"recent"}),e.getPagesLov(n,(function(e){a(e,t.search)}),"Y")}};void 0!==e.getCurrentPageId()&&e.getComponents(e.COMP_TYPE.PAGE,{id:e.getCurrentPageId()})[0].getProperty(e.PROP.PAGE_GROUP).getValue()&&o.filters[0].lov.unshift({display:i.msg("CURRENT_GROUP"),value:"current_group"}),n.markup("<div").attr("id","goToPageDlg").attr("title",i.msg("PAGE_FINDER")).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:750,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:i.CSS.DIALOG_FLUSH_BODY,resizable:!1,multiValue:!1,valueSelected:function(e,t){i.goToPage(t.id)}})})),t(document).on("modelConfigLoaded",(function(){e.getComponentType(e.COMP_TYPE.BREADCRUMB).editUrl="f?p=4000:287:%session%:::RP,287:FB_FLOW_ID,FB_FLOW_PAGE_ID,P287_PAGE,F4000_P287_MENU_ID:%application_id%,%page_id%,%page_id%,%pk_value%",e.getComponentType(e.COMP_TYPE.LIST).editUrl="f?p=4000:4050:%session%:::RP,4050:FB_FLOW_ID,FB_FLOW_PAGE_ID,F4000_P4050_LIST_ID:%application_id%,%page_id%,%pk_value%"})),t(document).on("modelReady",(function(){e.isPageReadOnly()&&!e.getPageLockState()||(P.attr("disabled",!1),f()),t.each(["pd-save-page","pd-save-run-page"],(function(e,t){l.enable(t)})),t(document).one("modelCleared",(function(){_.clear(),t(document).trigger("commandHistoryChange"),P.attr("disabled",!0),t.each([R,m,"pd-save-page","pd-save-run-page"],(function(e,t){l.disable(t)})),gTeamDevEnabled&&(t("#menu-team-dev").hide().prop("disabled",!0).find(".a-Button-badge").text(""),O={})}))}))}t((function(){var o,r=s.getScopedSessionStorage({useAppId:!0,usePageId:!0}),c=s.getScopedLocalStorage({prefix:"ORA_WWV_apex.builder.pageDesigner",useAppId:!1}),_=t.ui.keyCode;t("#sp_main").show(),k(),o=t("#search-container").peSearch(),t("#P4500_LOCAL_SEARCH,#P4500_MATCH_CASE,#P4500_IS_REGEXP").on("change",(function(){var e=$v("P4500_LOCAL_SEARCH"),t=("Y"===$v("P4500_MATCH_CASE")?"":"i")+"g",n="Y"===$v("P4500_IS_REGEXP");""!==e?(e=n?new RegExp(e,t):new RegExp(a.escapeRegExp(e),t),o.peSearch("search",e)):o.peSearch("clear")})),t("#CLEAR_PAGE_SEARCH").on("click",(function(){$s("P4500_LOCAL_SEARCH","","",!0),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),o.peSearch("clear")})),t(document).on("pageSearch",(function(e,t){B("search"),$s("P4500_MATCH_CASE","","",!0),$s("P4500_IS_REGEXP","","",!0),$s("P4500_LOCAL_SEARCH",t)})),e.init({isInternal:gIsInternal,isReadOnly:gIsReadOnly}),setTimeout((function(){var e=i.goToPage(t("#go_to_page").val(),!0);t.when(e).done((function(){var e,t,a,n=(e=window.location.hash,a=null,"#"===e.charAt(0)&&(e=e.substring(1)),/^[0-9:]+$/.test(e)&&2===(t=e.split(":")).length&&(a={typeId:t[0],componentId:t[1]}),a);n&&i.goToComponent(n.typeId,n.componentId)}))}),0),l.add([{name:"pd-expand-restore",onLabel:i.msg("RESTORE"),offLabel:i.msg("EXPAND"),get:function(){return this.isCenterExpanded},set:function(e){this.isCenterExpanded=e,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").splitter(N,"collapsed",this.isCenterExpanded)},isCenterExpanded:!1,updateState:function(){var e=this;this.isCenterExpanded=!0,t("#sp_main_content.a-Splitter, #sp_glv_content:visible, #sp_right_content").each((function(){if(!t(this).splitter(N,"collapsed"))return e.isCenterExpanded=!1,!1})),this.icon=this.isCenterExpanded?"icon-restore":"icon-maximize",l.update(this.name)}},{name:"pd-goto-help",label:i.msg("ACTION.GOTO_HELP"),action:function(e,a){return B("help"),t("#help-container")[0].focus(),!0}},{name:"pd-goto-rendering-tree",label:i.msg("ACTION.GOTO_RENDERING"),action:function(e,a){return B("renderTree_container"),t("#PDrenderingTree").treeView("focus"),!0}},{name:I,label:i.msg("ACTION.GOTO_DA"),action:function(e,a){return B("dynActTree_container"),t("#PDdynamicActionTree").treeView("focus"),!0}},{name:"pd-goto-processing-tree",label:i.msg("ACTION.GOTO_PROCESSING"),action:function(e,a){return B("procTree_container"),t("#PDprocessingTree").treeView("focus"),!0}},{name:"pd-goto-shared-components-tree",label:i.msg("ACTION.GOTO_SHARED"),action:function(e,a){return B("sharedComp_container"),t("#PDsharedCompTree").treeView("focus"),!0}},{name:"pd-goto-grid-layout",label:i.msg("ACTION.GOTO_GLV"),action:function(e,a){return B("grid_layout"),t("#glv").gridlayout("focus"),!0}},{name:f,label:i.msg("ACTION.GOTO_CV"),action:function(e,a){var n,o=t("#componentView-container").find(".a-CV-component");return B(L),(n=o.filter(".is-selected")).length||(n=o),n.first().find("a").focus(),!0}},{name:"pd-goto-property-editor-tab-main",label:i.msg("ACTION.GOTO_PE_MAIN"),action:function(e,t){return B("peComponentProperties"),V.propertyEditor("focus"),!0}},{name:"pd-goto-property-editor-tab-attributes",label:i.msg("ACTION.GOTO_PE_ATTRIBUTES"),action:function(e,t){return i.getTab("peAttributesTabPanel").is(":visible")&&(B("peAttributesTabPanel"),w.propertyEditor("focus")),!0}},{name:"pd-goto-property-editor-tab-printing",label:i.msg("ACTION.GOTO_PE_PRINTING"),action:function(e,t){return i.getTab("pePrintingTabPanel").is(":visible")&&(B("pePrintingTabPanel"),x.propertyEditor("focus")),!0}},{name:"pd-goto-gallery-regions",label:i.msg("ACTION.GOTO_REGIONS"),action:function(e,a){return B("grid_layout"),H("sp_glv_content"),t("#gallery-tabs").tabs(N,A,0),t("#cg-regions .a-Gallery.a-IconList").iconList("focus"),!0}},{name:"pd-goto-gallery-items",label:i.msg("ACTION.GOTO_ITEMS"),action:function(e,a){return B("grid_layout"),H("sp_glv_content"),t("#gallery-tabs").tabs(N,A,1),t("#cg-items .a-Gallery.a-IconList").iconList("focus"),!0}},{name:"pd-goto-gallery-buttons",label:i.msg("ACTION.GOTO_BUTTONS"),action:function(e,a){return B("grid_layout"),H("sp_glv_content"),t("#gallery-tabs").tabs(N,A,2),t("#cg-buttons .a-Gallery.a-IconList").iconList("focus"),!0}},{name:"pd-goto-messages",label:i.msg("ACTION.GOTO_MSGS"),action:function(e,t){return F(),!0}},{name:"pd-page-search",label:i.msg("ACTION.PAGE_SEARCH"),action:function(e,a){var n=t(e.target).closest(".a-PropertyEditor");return n.length?n.parent().find(".a-Property-field--filter").focus():(B("search"),t("#P4500_LOCAL_SEARCH").focus()),!0}},{name:R,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:m,label:null,title:null,disabled:!0,pageId:null,action:function(){i.goToPage(this.pageId)}},{name:"pd-show-shortcuts",label:i.msg("KBD_SHORTCUTS"),action:function(e,o){var r,s,c,_,P,O=[],d={},p=a.htmlBuilder(),u=l.listShortcuts(!0);for(r=0;r<u.length;r++)c=u[r],(_=d[c.actionName])||(O.push(c.actionName),_={actionLabel:c.actionLabel,shortcuts:[]},d[c.actionName]=_),_.shortcuts.push(c.shortcutDisplay);for(O.sort((function(e,t){return d[e].actionLabel>d[t].actionLabel?1:d[e].actionLabel<d[t].actionLabel?-1:0})),p.markup("<div").attr("id","shortcutDlg").attr("title",i.msg("KBD_SHORTCUTS")).markup(" tabindex='0'>").markup("<ul class='a-AVPList a-AVPList--shortcuts'>"),r=0;r<O.length;r++){for(_=d[O[r]],p.markup("<li class='a-AVPList-item'><span class='a-AVPList-label'>").content(_.actionLabel).markup("</span><span class='a-AVPList-value'>"),P=_.shortcuts,s=0;s<P.length;s++)p.markup(P[s]);p.markup("</span></li>")}return p.markup("</ul></div>"),t(p.toString()).dialog({modal:!0,closeText:n.getMessage("APEX.DIALOG.CLOSE"),minWidth:300,width:460,height:380,create:function(){t(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(e,a){t(this).dialog("destroy").remove()},open:function(){this.focus()},buttons:[{text:i.msg("OK"),click:function(){t(this).dialog("close")}}]}),!0}}]),t("#helpMenu_menu").on("menucreate",(function(){var e=t("#helpMenu_menu").menu("find","keyboardShortcuts");e&&(e.hide=!1,e.action="pd-show-shortcuts")})),i.clearHelpText();var P=null;function O(e,a){var n,o,i=t(e.target),r=i.closest(".ui-tabs");a.item.removeClass("ui-tabs-active ui-state-active ui-state-hover ui-state-focus"),a.sender&&(n=t("#"+a.item.attr("aria-controls")),o=a.item.prev(),a.item.remove(),o.length?o.after(a.item):i.prepend(a.item),r.append(n),a.sender.closest(".ui-tabs").tabs("refresh")),r.tabs("refresh"),r.tabs(N,A,a.item.index()),y()}function d(e){var a,n,o,i,r,s,l,c,P=null,O=null,d=e.which;if(e.shiftKey&&(d===_.UP||d===_.LEFT?O=-1:d!==_.DOWN&&d!==_.RIGHT||(O=1),O)){if(a=(n=(i=t(e.target)).closest(".ui-tabs-nav")).children().length,o=n.closest(".ui-tabs"),r=h.indexOf("#"+o[0].id),s=i.index(),(s+=O)>=0&&s<a)O>0?i.next().after(i):i.prev().before(i);else{if(!((r+=O)>=0&&r<h.length))return;c=(P=t(h[r]).find(".ui-tabs-nav").first()).closest(".ui-tabs"),l=t("#"+i.attr("aria-controls")),i.remove(),O<0?P.append(i):P.prepend(i),s=i.index(),c.append(l),o.tabs("refresh"),o=c}return o.tabs("refresh"),o.tabs(N,A,s),i.focus(),y(),!1}}t("body").on("splitterchange splittercreate",(function(e,t){var a=l.lookup("pd-expand-restore");P||(P=setTimeout((function(){P=null,a.updateState()}),100))})),apex.builder.nameBuilderWindow(),t(".a-TabsContainer").tabs({heightStyle:"fill",activate:function(e,t){var a,n,o,i;t.newPanel.is(".resize")&&t.newPanel.resize(),n=(a=t.newTab.parents(".ui-tabs")).attr("id"),o=a.tabs(N,A),i=a.find(".ui-tabs-nav").first().children().eq(o).attr("aria-controls"),r.setItem(n,o),"editor_tabs"===n&&(i===L?c.setItem("useComponentView","true"):"grid_layout"===i&&c.removeItem("useComponentView"))}}).on("resize",(function(e){v()})),t(".ui-tabs").each((function(){var e,a=t(this).data("ui-tabs");e=a._handlePageNav,a._handlePageNav=function(t){return!!t.shiftKey||e.call(a,t)}})),G(),setTimeout((function(){var e;i.getBoolPref("TWO_COLUMN_MODE",!1)||i.getPreference("TAB_LAYOUT_3")?(i.getBoolPref("TWO_COLUMN_MODE",!1)?((e=i.getPreference("TAB_LAYOUT_2"))&&e.indexOf("2:")<0&&(e=u.replace(/0:/g,"1:")),e||(e=u.replace(/0:/g,"1:")),l.disable("pd-two-column")):((e=i.getPreference("TAB_LAYOUT_3"))&&e.indexOf("2:")<0&&(e=u),e||(e=u),l.disable("pd-three-column")),(e.indexOf(":peAttributesTabPanel")<0||e.indexOf(":pePrintingTabPanel")<0)&&(e=u),U(e,!0)):l.disable("pd-three-column"),G(),t(".a-TabsContainer").each((function(){var e=t(this),a=e.attr("id"),n=r.getItem(a);n?e.tabs(N,A,n):"editor_tabs"===a&&("true"===c.getItem("useComponentView")?B(L):B("grid_layout"))}))}),1),t("#editor_tabs").find(".ui-tabs-nav").first().sortable({axis:"x",connectWith:"#trees > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:O}).on("dblclick",(function(){l.toggle("pd-expand-restore")})).on("keydown",d),t("#trees").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #peTabs > .a-Tabs-toolbar > .ui-tabs-nav",update:O}).on("keydown",d),t("#peTabs").find(".ui-tabs-nav").sortable({axis:"x",connectWith:"#editor_tabs > .a-Tabs-toolbar > .ui-tabs-nav, #trees > .a-Tabs-toolbar > .ui-tabs-nav",update:O}).on("keydown",d),t("#editor_tabs [aria-controls=help]").addClass("ui-tabs-helpTab"),apex.theme.pageResizeInit(),t(window).on("beforeunload",(function(t){if(e.hasChanged())return i.msg("BEFORE_PAGE_UNLOAD_UNSAVED_CHANGES")})),t("#pdNotificationClose").on("click",(function(){i.hideNotification()})),t(".a-ControlBar,.a-PageDesigner").tooltip({item:"button[title]",show:apex.tooltipManager.defaultShowOption()}),t(document.body).append("<div id='apexActionKeyDisplay' style='display:none;'></div>"),l.partialShortcutInput=function(e){e=e||"",setTimeout((function(){t("#apexActionKeyDisplay").text(e)[e?"show":"hide"]()}),e?1:800)},apex.gPageContext$.on("apexafterclosedialog",(function(e,t){t.FB_FLOW_ID&&t.FB_FLOW_PAGE_ID&&(t.successMessage?i.showSuccess(t.successMessage.text):i.hideNotification(),i.goToPage(t.FB_FLOW_PAGE_ID,t.successMessage))})),setTimeout((function(){var e,a,n=function(e,t){return{name:e,shortcut:t}},o=[n("spotlight-search","Ctrl+Quote"),n(T,"Ctrl+Z"),n(C,"Ctrl+Y"),n("pd-save-page","Alt+F7"),n("pd-save-run-page","Alt+F8"),n("pd-expand-restore","Alt+F11"),n("pd-goto-help","Alt+F1"),n("pd-goto-rendering-tree","Ctrl+/,R"),n(I,"Ctrl+/,A"),n("pd-goto-processing-tree","Ctrl+/,P"),n("pd-goto-shared-components-tree","Ctrl+/,S"),n("pd-goto-grid-layout","Ctrl+/,L"),n(f,"Ctrl+/,O"),n("pd-goto-property-editor-tab-main","Ctrl+/,E,M"),n("pd-goto-property-editor-tab-attributes","Ctrl+/,E,A"),n("pd-goto-property-editor-tab-printing","Ctrl+/,E,P"),n("pd-goto-gallery-regions","Ctrl+/,G,R"),n("pd-goto-gallery-items","Ctrl+/,G,I"),n("pd-goto-gallery-buttons","Ctrl+/,G,B"),n("pd-goto-messages","Ctrl+/,M"),n("pd-page-search","Ctrl+/,F"),n(R,"Alt+Shift+Page Down"),n(m,"Alt+Shift+Page Up"),n("pd-show-shortcuts","Alt+Shift+F1"),n("glv-disp-from-page","Ctrl+/,D,T"),n("glv-disp-from-region","Ctrl+/,D,H"),n("glv-hide-empty","Ctrl+/,D,E"),n("pd-advisor","Ctrl+/,U,A"),n("pd-create-page","Ctrl+/,C,P"),n("pd-create-copy-page","Ctrl+/,C,C"),n("pd-create-shared-component","Ctrl+/,C,S"),n("pd-create-breadcrumb-region","Ctrl+/,C,B")];for(t.each([T,C],(function(){var e=l.lookup(this);e.contextLabel=e.label})),a=t("#menu-create").attr(E),t.each(["pd-create-page","pd-create-copy-page","pd-create-shared-component","pd-create-breadcrumb-region"],(function(){var e=l.lookup(this);e.contextLabel=a+": "+e.label})),a=t("#menu-utilities").attr(E),t.each(["pd-advisor"],(function(){var e=l.lookup(this);e.contextLabel=a+": "+e.label})),e=0;e<o.length;e++)o[e].type="global";l.setShortcutKeyBindings(o),D(i.getBoolPref("ENABLE_TOOLTIPS",!0)),null===i.getPreference("ENABLE_COMPONENT_VIEW")&&(M(L,!1),B("grid_layout"))}),1),V.pdPropertyEditor({mode:"main"}),w.pdPropertyEditor({mode:"attributes"}),x.pdPropertyEditor({mode:"printing"})}))}(pe,apex.jQuery,apex.util,apex.lang,apex.navigation,window.pageDesigner,apex.server,apex.storage,apex.actions,apex.item,apex.commandHistory);
!function(P,e,E,t,_,O,C,T,R){"use strict";var A="NATIVE_SELECT_LIST",i="NATIVE_RICH_TEXT_EDITOR",r="NATIVE_TEXTAREA",I="NATIVE_SHUTTLE",N="NATIVE_FILE",a="NATIVE_HIDDEN",n="NATIVE_TEXT_FIELD",L="NATIVE_MARKDOWN_EDITOR",l="NATIVE_NUMBER_FIELD",u="NATIVE_DATE_PICKER",o="NATIVE_ROW_ACTION",p="NATIVE_ROW_SELECTOR",s="NATIVE_FACETED_SEARCH",S="";function M(P){return O.getMessage("MODEL.CALLBACKS."+P)}function g(P){var e=M(P),E=[e].concat(Array.prototype.slice.call(arguments,1));return O.format.apply(this,E)}function d(e,E,t){return e&&(E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&t.id===e.id)}function h(P,e,E,t){return d(P,e,E)&&P.getValue()===t}function D(P,e,E,t){return d(P,e,E)&&P.getValue()!==t}function U(P){for(var e=0;e<P.length;e++)P[e].remove()}function Y(P,e){U(P.getChilds(e))}function y(P,e,E){var t=P.getProperty(e);t&&t.setValue(E)}function V(P){return t.escapeHTML(P.replace(/_+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/_/g," ").toLowerCase().split(" ").map((function(P){var e=P[0]||"";return P.replace(e,e.toUpperCase())})).join(" "))}function G(){return P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:new RegExp("^(NATIVE_FORM_FETCH|NATIVE_FORM_PROCESS)$")}]})}function B(e){0===P.getComponents(e.typeId,{properties:e.searchPropertyValues}).length&&new P.Component({previousComponent:e.previousComponent,typeId:e.typeId,values:e.searchPropertyValues.concat(e.addPropertyValues)})}function c(e,E,t,_,O){var C;(C=P.getSourceLocationProperty(e).getColumns(!0)).length>0&&(function(e,E,t,O){var C,T,R,A,i,r;for(C=E?E.getChilds(t):P.getComponents(t,O.filter),T=0;T<C.length;T++){for(A=!1,(i=C[T].getProperty(_))?r=i.getValue():A=!0,R=0;R<e.length&&!A;R++)if(e[R].name===r&&(!O.compareCheck||O.compareCheck(e[R],C[T]))){e[R].regionColumn=C[T],A=!0;break}A||O.removeCheck&&!O.removeCheck(C[T])||C[T].remove()}}(C=function(P,e){var E,t=[];for(E=0;E<P.length;E++)t.push({name:P[E].name,type:P[E].type,maxLen:P[E].maxLen,isRequired:P[E].isRequired,isGeneric:P[E].isGeneric,no:E+1,regionColumn:null}),e&&e(t[E]);return t}(C,O.setSqlColumn),E,t,{compareCheck:O.compareCheck,removeCheck:O.removeCheck,filter:O.filter}),function(e,E,t,_){var O,C,T,R;for((O=E?E.getChilds(t):P.getComponents(t,_.filter)).length>0&&(T=O[O.length-1]),C=0;C<e.length;C++)e[C].regionColumn?_.update(e[C].regionColumn,e[C]):(R=[],_.add(R,e[C]),T=E?new P.Component({previousComponent:T,typeId:t,parentId:E.id,values:R}):new P.Component({previousComponent:T,typeId:t,values:R}))}(C,E,t,{add:O.add,update:O.update,filter:O.filter}))}function v(e,E){"Y"===E.getValue()&&C.process("getChartXML",{x01:e.parentId},{dataType:"text",async:!1,success:function(E){e.getProperty(P.PROP.CUSTOM_XML).setValue(E)}})}function f(e){var E=e.getProperty(P.PROP.SOURCE_QUERY_ORDER_BY);return P.getSourceLocationProperty(e).hasOrderBy()||E&&""!==E.getValue()}function H(e,E,t,_){if(e){var O,C=e.getProperty(P.PROP.TITLE).getValue(),T=void 0===typeof _?C:_,R=e.getChilds(t)[0]||e.getChildrenUntil(t)[0];R&&(O=R.getProperty(P.PROP.PRINT_PAGE_HEADER_TEXT).getValue(),E!==P.CALLBACK_ACTION.CREATED&&T!==O||y(R,P.PROP.PRINT_PAGE_HEADER_TEXT,C))}}function m(e,E,t){var _,C=this.parentId,T=this.getProperty(P.PROP.IS_EDITABLE);d(T,e,E)&&("Y"===T.getValue()?B({typeId:P.COMP_TYPE.PAGE_PROCESS,searchPropertyValues:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_DML"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:C}],addPropertyValues:[{id:P.PROP.NAME,value:O.formatMessageNoEscape("WIZARD.FORM.DML_PROCESS_NAME",this.getParent().getDisplayTitle())}],previousComponent:"first"}):(_=C,U(P.getComponents(P.COMP_TYPE.VALIDATION,{properties:[{id:P.PROP.VALIDATION_REGION,value:_}]})),U(P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_DML"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:_}]}))))}function K(E,t,_,O){var C;E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)?(E===P.CALLBACK_ACTION.CREATED&&(new P.Component({typeId:P.COMP_TYPE.CARD,parentId:this.id}),(C=P.getTheme().defaultTemplates.cards)&&y(this,P.PROP.REGION_TEMPLATE,C)),"WEB_SOURCE"===this.getProperty(P.PROP.SOURCE_LOCATION).getValue()&&y(this,P.PROP.SHOW_TOTAL_ROW_COUNT,"N")):E===P.CALLBACK_ACTION.REMOVED&&(Y(this,P.COMP_TYPE.CARD),Y(this,P.COMP_TYPE.CARD_ACTION))}function F(E,t,_,O,C,T,R){var A,i;if(E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)?(E===P.CALLBACK_ACTION.CREATED&&(new P.Component({typeId:O,parentId:_.id}),H(_,E,T,R)),c(_,_,C,P.PROP.COLUMN_NAME,{removeCheck:function(e){return"N"===e.getProperty(P.PROP.DERIVED_COLUMN).getValue()},add:function(e,E){e.push({id:P.PROP.COLUMN_NAME,value:E.name}),e.push({id:P.PROP.QUERY_COLUMN_ID,value:E.no}),"BLOB"===E.type&&e.push({id:P.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"IMAGE"}),e.push({id:P.PROP.COLUMN_HEADING,value:V(E.name)})},update:function(e,E){var t=e.getProperty(P.PROP.QUERY_COLUMN_ID);parseInt(t.getValue(),10)!==E.no&&t.setValue(E.no)}})):E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,[P.PROP.HAS_GENERIC_COLUMNS,P.PROP.GENERIC_COLUMN_COUNT])?(i=P.getSourceLocationProperty(t.component)).setValue(i.getValue(),!0):E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.TITLE?H(_,E,T,R):E===P.CALLBACK_ACTION.REMOVED&&function(P){Y(P,O),Y(P,C)}(_),(E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&(-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)||t.id===P.PROP.SOURCE_QUERY_ORDER_BY)&&f(_))&&f(_)){A=_.getChilds(C,{filterFunction:function(){var e=this.getProperty(P.PROP.COLUMN_SORT_SEQUENCE),E=this.getProperty(P.PROP.DISABLE_SORT_COLUMN);return e&&""!==e.getValue()||E&&"N"===E.getValue()}});for(var r=0;r<A.length;r++)y(A[r],P.PROP.COLUMN_SORT_SEQUENCE,""),y(A[r],P.PROP.DISABLE_SORT_COLUMN,"Y")}}function W(e,E,t){var _;_=this.typeId===P.COMP_TYPE.CLASSIC_REPORT?P.COMP_TYPE.CLASSIC_RPT_PRINT:P.COMP_TYPE.TAB_FORM_PRINT,e===P.CALLBACK_ACTION.CREATED?"Y"===this.getProperty(P.PROP.ENABLE_PRINTING).getValue()&&(new P.Component({typeId:_,parentId:this.id}),H(this.getParent(),e,_),T.getTab("pePrintingTabPanel").show()):e===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.ENABLE_PRINTING&&E.getValue()!==t&&("Y"===E.getValue()?(new P.Component({typeId:_,parentId:this.id}),H(this.getParent(),P.CALLBACK_ACTION.CREATED,_)):Y(this,_))}function Q(E,t,_){var O,C;E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)?(E===P.CALLBACK_ACTION.CREATED?(O=new P.Component({typeId:P.COMP_TYPE.IR_ATTRIBUTES,parentId:this.id}),H(this,E,P.COMP_TYPE.IR_PRINT_ATTR,_),(C=P.getTheme().defaultTemplates.ir)&&y(this,P.PROP.REGION_TEMPLATE,C)):O=this.getChilds(P.COMP_TYPE.IR_ATTRIBUTES)[0],c(this,O,P.COMP_TYPE.IR_COLUMN,P.PROP.COLUMN_NAME,{setSqlColumn:function(P){P.isTzDependent="N","VARCHAR2"===P.type?P.type="STRING":"TIMESTAMP"===P.type||"TIMESTAMP_TZ"===P.type?P.type="DATE":"TIMESTAMP_LTZ"===P.type?(P.type="DATE",P.isTzDependent="Y"):"NUMBER"!==P.type&&"DATE"!==P.type&&"CLOB"!==P.type&&(P.type="OTHER")},compareCheck:function(e,E){return e.type===E.getProperty(P.PROP.COLUMN_TYPE).getValue()},add:function(e,E){var t="D";e.push({id:P.PROP.COLUMN_NAME,value:E.name}),e.push({id:P.PROP.COLUMN_TYPE,value:E.type}),"DATE"===E.type?(e.push({id:P.PROP.TZ_DEPENDENT,value:E.isTzDependent}),e.push({id:P.PROP.COLUMN_ALIGNMENT,value:"CENTER"})):"NUMBER"===E.type?e.push({id:P.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}):"CLOB"!==E.type&&"OTHER"!==E.type||(e.push({id:P.PROP.ALLOW_USERS_TO_SORT,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_CONTROL_BREAK,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_AGGREGATE,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_COMPUTE,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_CHART,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_GROUP_BY,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_PIVOT,value:"N"}),t="N","OTHER"===E.type&&(e.push({id:P.PROP.ALLOW_USERS_TO_FILTER,value:"N"}),e.push({id:P.PROP.ALLOW_USERS_TO_HIGHLIGHT,value:"N"}))),e.push({id:P.PROP.IR_COLUMN_FILTER_TYPE,value:t}),e.push({id:P.PROP.COLUMN_HEADING,value:V(E.name)})},update:function(e,E){var t;"DATE"===E.type&&(t=e.getProperty(P.PROP.TZ_DEPENDENT),E.isTzDependent!==t.getValue()&&t.setValue(E.isTzDependent))}})):E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.TITLE?H(this,E,P.COMP_TYPE.IR_PRINT_ATTR,_):E===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.IR_ATTRIBUTES)}function b(E,t,_){function O(P,E){var t="Y"===P.getValue(),_=t?E.getValue().split(":"):[];return t&&(-1!==e.inArray("XLSX",_)||-1!==e.inArray("PDF",_)||-1!==e.inArray("RTF",_))}E===P.CALLBACK_ACTION.CREATED?O(this.getProperty(P.PROP.SHOW_DOWNLOAD),this.getProperty(P.PROP.DOWNLOAD_FORMATS))&&(new P.Component({typeId:P.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}),H(this.getParent(),E,P.COMP_TYPE.IR_PRINT_ATTR)):E!==P.CALLBACK_ACTION.CHANGED||t.id!==P.PROP.DOWNLOAD_FORMATS&&t.id!==P.PROP.SHOW_DOWNLOAD||t.getValue()===_||(O(this.getProperty(P.PROP.SHOW_DOWNLOAD),this.getProperty(P.PROP.DOWNLOAD_FORMATS))?0===P.getComponents(P.COMP_TYPE.IR_PRINT_ATTR,{parentId:this.id}).length&&(new P.Component({typeId:P.COMP_TYPE.IR_PRINT_ATTR,parentId:this.id}),H(this.getParent(),P.CALLBACK_ACTION.CREATED,P.COMP_TYPE.IR_PRINT_ATTR)):Y(this,P.COMP_TYPE.IR_PRINT_ATTR))}function k(E,t,_,O){var C,T;if(E===P.CALLBACK_ACTION.VALIDATE&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)){if(O.hasOrderBy)return{error:g("IG.HAS_ORDER_BY")}}else E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)?(E===P.CALLBACK_ACTION.CREATED?(C=new P.Component({typeId:P.COMP_TYPE.IG_ATTRIBUTES,parentId:this.id}),(T=P.getTheme().defaultTemplates.ir)&&y(this,P.PROP.REGION_TEMPLATE,T),H(this,E,P.COMP_TYPE.IG_PRINT,_)):C=this.getChilds(P.COMP_TYPE.IG_ATTRIBUTES)[0],"WEB_SOURCE"===this.getProperty(P.PROP.SOURCE_LOCATION).getValue()&&y(C,P.PROP.SHOW_TOTAL_ROW_COUNT,"N"),c(this,this,P.COMP_TYPE.IG_COLUMN,P.PROP.SOURCE_DB_COLUMN,{add:function(E,t){var _="DISTINCT",O=!0;E.push({id:P.PROP.COLUMN_NAME,value:t.name}),E.push({id:P.PROP.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"}),E.push({id:P.PROP.SOURCE_DB_COLUMN,value:t.name}),E.push({id:P.PROP.DATA_TYPE,value:t.type}),"VARCHAR2"===t.type||"CLOB"===t.type?("VARCHAR2"===t.type&&(t.maxLen<100||t.isGeneric)?E.push({id:P.PROP.ITEM_TYPE,value:n}):(E.push({id:P.PROP.ITEM_TYPE,value:r}),E.push({id:P.PROP.ENABLE_SORT_GROUP,value:"N"}),_="NONE"),t.maxLen&&E.push({id:P.PROP.ELEMENT_MAX_CHARACTERS,value:t.maxLen+""})):"NUMBER"===t.type?E.push({id:P.PROP.ITEM_TYPE,value:l}):-1!==e.inArray(t.type,["TIMESTAMP_TZ"])?E.push({id:P.PROP.ITEM_TYPE,value:n}):-1!==e.inArray(t.type,["DATE","TIMESTAMP","TIMESTAMP_LTZ"])?E.push({id:P.PROP.ITEM_TYPE,value:u}):"ROWID"===t.type&&(O=!1,E.push({id:P.PROP.ITEM_TYPE,value:a}),E.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"}),E.push({id:P.PROP.ENABLE_SORT_GROUP,value:"N"})),O&&(E.push({id:P.PROP.FILTER_DATA_TYPE,value:t.type}),E.push({id:P.PROP.FILTER_LOV_TYPE,value:_}),E.push({id:P.PROP.COLUMN_HEADING,value:V(t.name)}),E.push({id:P.PROP.VALUE_REQUIRED,value:t.isRequired?"Y":"N"}))},update:function(e,E){var t=e.getProperty(P.PROP.DATA_TYPE),_=e.getProperty(P.PROP.ELEMENT_MAX_CHARACTERS),O=E.maxLen+"",C=e.getProperty(P.PROP.VALUE_REQUIRED),T=E.isRequired?"Y":"N";t.getValue()!==E.type&&t.setValue(E.type),_&&"VARCHAR2"===E.type&&_.getValue()!==O&&_.setValue(O),C&&C.getValue()!==T&&C.setValue(T)}})):E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.TITLE?H(this,E,P.COMP_TYPE.IG_PRINT,_):E===P.CALLBACK_ACTION.REMOVED&&(Y(this,P.COMP_TYPE.IG_ATTRIBUTES),Y(this,P.COMP_TYPE.IG_COLUMN))}function w(E,t,_){var C,T=this.parentId;function R(P,E){var t="Y"===P.getValue(),_=t?E.getValue().split(":"):[];return t&&(-1!==e.inArray("XLSX",_)||-1!==e.inArray("PDF",_))}function A(e,E,t){var _=[{id:P.PROP.COLUMN_NAME,value:E}].concat(t||[]);0===P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:e,properties:[{id:P.PROP.COLUMN_NAME,value:E}]}).length&&new P.Component({typeId:P.COMP_TYPE.IG_COLUMN,parentId:e,values:_})}function i(e,E){U(P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:e,properties:[{id:P.PROP.COLUMN_NAME,value:E}]}))}if(E===P.CALLBACK_ACTION.CREATED?R(this.getProperty(P.PROP.ENABLE_DOWNLOAD),this.getProperty(P.PROP.IG_DOWNLOAD_FORMATS))&&(new P.Component({typeId:P.COMP_TYPE.IG_PRINT,parentId:T}),H(this.getParent(),E,P.COMP_TYPE.IG_PRINT)):E!==P.CALLBACK_ACTION.CHANGED||t.id!==P.PROP.IG_DOWNLOAD_FORMATS&&t.id!==P.PROP.ENABLE_DOWNLOAD||t.getValue()===_||(R(this.getProperty(P.PROP.ENABLE_DOWNLOAD),this.getProperty(P.PROP.IG_DOWNLOAD_FORMATS))?0===P.getComponents(P.COMP_TYPE.IG_PRINT,{parentId:T}).length&&(new P.Component({typeId:P.COMP_TYPE.IG_PRINT,parentId:T}),H(this.getParent(),P.CALLBACK_ACTION.CREATED,P.COMP_TYPE.IG_PRINT)):Y(this,P.COMP_TYPE.IG_PRINT)),E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.IS_EDITABLE&&t.getValue()!==_)if("Y"===this.getProperty(P.PROP.IS_EDITABLE).getValue()){if(0===P.getComponents(P.COMP_TYPE.IG_COLUMN,{parentId:T,properties:[{id:P.PROP.IS_PRIMARY_KEY,value:"Y"}]}).length){C=P.getSourceLocationProperty(this.getParent()).getColumns(!0);for(var r=0;r<C.length;r++)if("ROWID"===C[r].type){A(T,C[r].name,[{id:P.PROP.ITEM_TYPE,value:a},{id:P.PROP.IG_COLUMN_SOURCE_TYPE,value:"DB_COLUMN"},{id:P.PROP.SOURCE_DB_COLUMN,value:C[r].name},{id:P.PROP.DATA_TYPE,value:"ROWID"},{id:P.PROP.IS_PRIMARY_KEY,value:"Y"},{id:P.PROP.ENABLE_SORT_GROUP,value:"N"}]);break}}A(T,"APEX$ROW_ACTION",[{id:P.PROP.ITEM_TYPE,value:o}]),A(T,"APEX$ROW_SELECTOR",[{id:P.PROP.ITEM_TYPE,value:p}]),B({typeId:P.COMP_TYPE.PAGE_PROCESS,searchPropertyValues:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_IG_DML"},{id:P.PROP.PROCESS_REGION,value:T}],addPropertyValues:[{id:P.PROP.NAME,value:O.formatMessageNoEscape("WIZARD.IG.DML_PROCESS_NAME",this.getParent().getDisplayTitle())}],previousComponent:"last"})}else i(T,"APEX$ROW_SELECTOR"),i(T,"APEX$ROW_ACTION"),U(P.getComponents(P.COMP_TYPE.VALIDATION,{properties:[{id:P.PROP.VALIDATION_REGION,value:T}]})),U(P.getComponents(P.COMP_TYPE.PAGE_PROCESS,{properties:[{id:P.PROP.PROCESS_REGION,value:T}]}))}function J(E,t,_){var O,C=P.getComponentType(P.COMP_TYPE.IG_COLUMN).pluginType.plugins[this.getProperty(P.PROP.ITEM_TYPE).getValue()],T=-1!==e.inArray("JOIN_LOV",C.features),R=this.getProperty(P.PROP.DATA_TYPE),A=this.getProperty(P.PROP.FILTER_DATA_TYPE),i=this.getProperty(P.PROP.LOV_TYPE);D(this.getProperty(P.PROP.MASTER_COLUMN),E,t,"")&&y(this,P.PROP.ITEM_TYPE,a),h(this.getProperty(P.PROP.ITEM_TYPE),E,t,a)&&y(this,P.PROP.INCLUDE_IN_EXPORT_PRINT,"N"),h(this.getProperty(P.PROP.ITEM_TYPE),E,t,n)||h(this.getProperty(P.PROP.ITEM_TYPE),E,t,r)||d(this.getProperty(P.PROP.ITEM_TYPE),E,t)&&i?(y(this,P.PROP.COLUMN_ALIGNMENT,"LEFT"),y(this,P.PROP.HEADING_ALIGNMENT,"LEFT")):h(this.getProperty(P.PROP.ITEM_TYPE),E,t,l)?(y(this,P.PROP.COLUMN_ALIGNMENT,"RIGHT"),y(this,P.PROP.HEADING_ALIGNMENT,"RIGHT"),y(this,P.PROP.FILTER_LOV_TYPE,"NONE")):h(this.getProperty(P.PROP.ITEM_TYPE),E,t,u)&&(y(this,P.PROP.COLUMN_ALIGNMENT,"CENTER"),y(this,P.PROP.HEADING_ALIGNMENT,"CENTER")),E!==P.CALLBACK_ACTION.CREATED&&E!==P.CALLBACK_ACTION.CHANGED||!A||((T&&i&&""!==i.getValue()||R&&""===(O=R.getValue()))&&(O="VARCHAR2"),A.getValue()!==O&&A.setValue(O)),D(this.getProperty(P.PROP.LOV_TYPE),E,t,"")&&y(this,P.PROP.FILTER_LOV_TYPE,"LOV")}function X(e,E,t){F(e,E,this,P.COMP_TYPE.CLASSIC_REPORT,P.COMP_TYPE.CLASSIC_RPT_COLUMN,P.COMP_TYPE.CLASSIC_RPT_PRINT,t)}function x(e,E,t){var _=this;if(e===P.CALLBACK_ACTION.CREATED)alert(g("TABFORM.WARNING"));else if(e===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.REGION_TYPE&&P.getComponents(P.COMP_TYPE.REGION,{properties:[{id:P.PROP.REGION_TYPE,value:"NATIVE_TABFORM"}],filterFunction:function(){return this.id!==_.id}}).length>0)return{error:g("TABFORM.ONLY_ONE_PER_PAGE")};F(e,E,this,P.COMP_TYPE.TABULAR_FORM,P.COMP_TYPE.TAB_FORM_COLUMN,P.COMP_TYPE.TAB_FORM_PRINT,t)}function Z(e,E,t,_,O){var C,T=e.getParent();if(t===P.CALLBACK_ACTION.VALIDATE&&(_.id===P.PROP.DISABLE_SORT_COLUMN&&"N"===O||_.id===P.PROP.COLUMN_SORT_SEQUENCE&&""!==O)&&f(T))return{error:g("CLASSIC_RPT_TABFORM_COLUMN.NO_SORTING")};t===P.CALLBACK_ACTION.CHANGED&&_.id===P.PROP.COLUMN_SORT_SEQUENCE&&""===_.getValue()&&f(T)&&"N"===e.getProperty(P.PROP.DISABLE_SORT_COLUMN).getValue()&&y(e,P.PROP.DISABLE_SORT_COLUMN,"Y"),t===P.CALLBACK_ACTION.CHANGED&&_.id===P.PROP.CLASSIC_REPORT_COLUMN_TYPE&&"HIDDEN_COLUMN"===O&&(C=e.getProperty(P.PROP.COLUMN_HEADING))&&""===C.getValue()&&C.setValue(V(e.getProperty(P.PROP.COLUMN_NAME).getValue()))}function q(e,E,t){return Z(this,P.COMP_TYPE.CLASSIC_RPT_COLUMN,e,E,t)}function $(e,E,t){return Z(this,P.COMP_TYPE.TAB_FORM_COLUMN,e,E,t)}function z(e,E){e===P.CALLBACK_ACTION.REMOVED&&(Y(this,P.COMP_TYPE.FACET),Y(this,P.COMP_TYPE.FACET_GROUP))}function j(E,t){var _=P.getComponentType(P.COMP_TYPE.REGION).pluginType.plugins[this.getProperty(P.PROP.REGION_TYPE).getValue()],O=-1!==e.inArray("VALUE_ALIGNMENT",_.features);E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS)?c(this,this,P.COMP_TYPE.REGION_COLUMN,P.PROP.COLUMN_NAME,{add:function(E,t){E.push({id:P.PROP.COLUMN_NAME,value:t.name}),E.push({id:P.PROP.HIDDEN_REGION_TYPE,value:_.name}),E.push({id:P.PROP.COLUMN_TYPE,value:t.type}),"ROWID"===t.type?E.push({id:P.PROP.IS_VISIBLE,value:"N"}):(-1!==e.inArray("COLUMN_HEADING",_.features)&&E.push({id:P.PROP.COLUMN_HEADING,value:V(t.name)}),O&&(-1!==e.inArray(t.type,["DATE","TIMESTAMP","TIMESTAMP_TZ","TIMESTAMP_LTZ"])?(E.push({id:P.PROP.COLUMN_ALIGNMENT,value:"CENTER"}),E.push({id:P.PROP.HEADING_ALIGNMENT,value:"CENTER"})):"NUMBER"===t.type?(E.push({id:P.PROP.COLUMN_ALIGNMENT,value:"RIGHT"}),E.push({id:P.PROP.HEADING_ALIGNMENT,value:"RIGHT"})):(E.push({id:P.PROP.COLUMN_ALIGNMENT,value:"LEFT"}),E.push({id:P.PROP.HEADING_ALIGNMENT,value:"LEFT"}))))},update:function(e,E){var t=e.getProperty(P.PROP.COLUMN_TYPE);t.getValue()!==E.type&&t.setValue(E.type)}}):E===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.REGION_COLUMN)}function PP(e,E){var t;e===P.CALLBACK_ACTION.CREATED?(t=new P.Component({typeId:P.COMP_TYPE.MAP_CHART,parentId:this.id,values:[{id:P.PROP.CHART_TITLE,value:this.getDisplayTitle()}]}),new P.Component({typeId:P.COMP_TYPE.MAP_CHART_SERIES,parentId:t.id})):e===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.MAP_CHART)}function eP(e,E){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.CHART,parentId:this.id,values:[{id:P.PROP.CHART_TITLE,value:this.getDisplayTitle()}]}):e===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.CHART)}function EP(E,t){var _,O,C,T,R=[P.PROP.PROJECT_GANTT_SERIES_SOURCE_TYPE,P.PROP.RESOURCE_GANTT_SERIES_SOURCE_TYPE,P.PROP.PIE_DOUGHNUT_SERIES_SOURCE_TYPE,P.PROP.DIAL_SERIES_SOURCE_TYPE,P.PROP.SCATTER_SERIES_SOURCE_TYPE,P.PROP.RANGE_SERIES_SOURCE_TYPE,P.PROP.CANDLESTICK_SERIES_SOURCE_TYPE,P.PROP.LINE_COL_BAR_STK_SERIES_SOURCE_TYPE],A=[P.PROP.PROJECT_GANTT_SOURCE_QUERY,P.PROP.RESOURCE_GANTT_SOURCE_QUERY,P.PROP.PIE_DOUGHNUT_SOURCE_QUERY,P.PROP.DIAL_SOURCE_QUERY,P.PROP.SCATTER_SOURCE_QUERY,P.PROP.RANGE_SOURCE_QUERY,P.PROP.CANDLESTICK_SOURCE_QUERY,P.PROP.LINE_COL_BAR_STK_SOURCE_QUERY],i=[P.PROP.PROJECT_GANTT_SOURCE_FUNC_RETURNING_SQL,P.PROP.RESOURCE_GANTT_SOURCE_FUNC_RETURNING_SQL,P.PROP.PIE_DOUGHNUT_SOURCE_FUNC_RETURNING_SQL,P.PROP.DIAL_SOURCE_FUNC_RETURNING_SQL,P.PROP.SCATTER_SOURCE_FUNC_RETURNING_SQL,P.PROP.RANGE_SOURCE_FUNC_RETURNING_SQL,P.PROP.CANDLESTICK_SOURCE_FUNC_RETURNING_SQL,P.PROP.LINE_COL_BAR_STK_SOURCE_FUNC_RETURNING_SQL],r=this.getProperty(P.PROP.CHART_TYPE).getValue();function I(P,e){for(var E,t=0;t<e.length;t++)if(void 0!==(E=P.getProperty(e[t])))return E.getValue()}function N(P,e,E){for(var t,_=0;_<e.length;_++)if(void 0!==(t=P.getProperty(e[_])))return void t.setValue(E)}if(E===P.CALLBACK_ACTION.CREATED)new P.Component({typeId:P.COMP_TYPE.CHART_SERIES,parentId:this.id,values:[{id:P.PROP.SERIES_CHART_TYPE,value:r}]});else if(E===P.CALLBACK_ACTION.CHANGED)if(t.id===P.PROP.CHART_TYPE){_=this.getChilds(P.COMP_TYPE.CHART_SERIES);for(var a=0;a<_.length;a++)O=I(_[a],R),C=I(_[a],A),T=I(_[a],i),y(_[a],P.PROP.SERIES_CHART_TYPE,r),N(_[a],R,O),N(_[a],A,C),N(_[a],i,T);if(-1===e.inArray(r,["COLUMN","STACKED_COLUMN","STACKED_COLUMN_PCT","BAR","STACKED_BAR","STACKED_BAR_PCT","LINE"]))for(a=1;a<_.length;a++)_[a].remove();"LINE"===r&&1===_.length&&y(_[0],P.PROP.SERIES_TYPE,"Line")}else t.id===P.PROP.USE_CUSTOM_XML&&v(this,t)}function tP(e,E){var t=this.getProperty(P.PROP.ICON_SOURCE_TYPE),_=this.getProperty(P.PROP.MEDIA_SOURCE_TYPE),O=this.getProperty(P.PROP.CARD_USES_BLOB_COLUMN);(d(t,e,E)||d(_,e,E))&&(t&&"BLOB"===t.getValue()||_&&"BLOB"===_.getValue()?O.setValue("Y"):O.setValue("N"))}function _P(e,E){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.JET_CHART,parentId:this.id}):e===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.JET_CHART)}function OP(E,t){var _,O,C,T=["area","bar","boxPlot","bubble","combo","line","lineWithArea","range","polar","radar","stock","scatter","gantt"],R=this,A=R.getProperty(P.PROP.JET_CHART_TYPE),i=A.getValue();function r(){var e,E;0===R.getChilds(P.COMP_TYPE.JET_CHART_AXES).length&&("gantt"===i?(e="major",E="minor"):(e="x",E="y"),new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:R.id,values:[{id:P.PROP.NAME,value:e}]}),new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:R.id,values:[{id:P.PROP.NAME,value:E}]}))}if(E===P.CALLBACK_ACTION.CREATED)new P.Component({typeId:P.COMP_TYPE.JET_CHART_SERIES,parentId:R.id,values:[{id:P.PROP.SERIES_CHART_TYPE,value:i}]}),-1!==e.inArray(i,T)&&r();else if(E===P.CALLBACK_ACTION.CHANGED&&(_=R.getChilds(P.COMP_TYPE.JET_CHART_SERIES),t.id===P.PROP.JET_CHART_TYPE)){for(var I=0;I<_.length;I++)y(_[I],P.PROP.SERIES_CHART_TYPE,i);if(-1!==e.inArray(i,["dial","stock","gantt"]))for(I=1;I<_.length;I++)_[I].remove();-1!==e.inArray(i,T)?(0!==(O=R.getChilds(P.COMP_TYPE.JET_CHART_AXES)).length&&("x"===O[0].getProperty(P.PROP.NAME).getValue()&&"gantt"===i&&Y(R,P.COMP_TYPE.JET_CHART_AXES),"major"===O[0].getProperty(P.PROP.NAME).getValue()&&"gantt"!==i&&Y(R,P.COMP_TYPE.JET_CHART_AXES)),r()):Y(R,P.COMP_TYPE.JET_CHART_AXES)}d(A,E,t)&&("pie"===i&&y(R,P.PROP.LEGEND_RENDERED,"on"),"pie"!==i&&"donut"!==i||(y(R,P.PROP.VALUE_FORMAT_TYPE,"decimal"),y(R,P.PROP.VALUE_DECIMAL_PLACES,"0"),y(R,P.PROP.VALUE_FORMAT_SCALING,"none"))),C=R.getProperty(P.PROP.JET_GAUGE_ORIENTATION),h(A,E,t,"dial")||d(C,E,t)?"circular"===C.getValue()?(y(R,P.PROP.CHART_HEIGHT,"100"),y(R,P.PROP.CHART_MAX_WIDTH,"90")):"vertical"===C.getValue()?(y(R,P.PROP.CHART_HEIGHT,"200"),y(R,P.PROP.CHART_MAX_WIDTH,"21")):"horizontal"===C.getValue()&&(y(R,P.PROP.CHART_HEIGHT,""),y(R,P.PROP.CHART_MAX_WIDTH,"250")):D(A,E,t,"dial")&&(y(R,P.PROP.CHART_HEIGHT,"400"),y(R,P.PROP.CHART_MAX_WIDTH,""))}function CP(E,t,_){var O,C=[P.PROP.JET_SERIES_TYPE_COMBO,P.PROP.JET_SERIES_TYPE_RANGE,P.PROP.JET_SERIES_TYPE_POLAR,P.PROP.JET_SERIES_TYPE_RADAR,P.PROP.JET_SERIES_TYPE_BOX_PLOT,P.PROP.SERIES_CHART_TYPE],T=this;(E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,C))&&y(T,P.PROP.JET_SERIES_TYPE_COLUMN_MAPPING,function(){var P,e;for(P=0;P<C.length&&!(e=T.getProperty(C[P]));P++);return e.getValue()}()),E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.CHART_SOURCE_LOCATION&&(O=T.getParent().getParent().getProperty(P.PROP.SOURCE_LOCATION),"REGION_SOURCE"===T.getProperty(P.PROP.CHART_SOURCE_LOCATION).getValue()?(O._isRequired=!0,""===O.getValue()&&O.setValue("",!0)):O._isRequired=!1),uP(E,this,t,_,P.COMP_TYPE.JET_CHART_WS_PARAM),E===P.CALLBACK_ACTION.CHANGED&&t.id===P.PROP.ASSIGNED_TO_Y2&&"on"===T.getProperty(P.PROP.ASSIGNED_TO_Y2).getValue()&&2===T.getParent().getChilds(P.COMP_TYPE.JET_CHART_AXES).length&&new P.Component({typeId:P.COMP_TYPE.JET_CHART_AXES,parentId:T.getParent().id,values:[{id:P.PROP.NAME,value:"y2"}]}),h(T.getProperty(P.PROP.SERIES_CHART_TYPE),E,t,"pie")&&y(T,P.PROP.ITEMS_LABEL_RENDERED,"Y")}function TP(e,E,t){var _;e===P.CALLBACK_ACTION.CREATED&&("y"===(_=this.getProperty(P.PROP.NAME).getValue())?(y(this,P.PROP.VALUE_FORMAT_TYPE,"decimal"),y(this,P.PROP.VALUE_DECIMAL_PLACES,"0"),y(this,P.PROP.VALUE_FORMAT_SCALING,"none")):"major"===_?y(this,P.PROP.JET_AXIS_SCALE,"months"):"minor"===_&&(y(this,P.PROP.VALUE_FORMAT_TYPE,"decimal"),y(this,P.PROP.JET_AXIS_SCALE,"days")))}function RP(e,E){var t=this;if(e===P.CALLBACK_ACTION.CREATED)new P.Component({typeId:P.COMP_TYPE.CLASSIC_CALENDAR,parentId:this.id}),alert(g("LEGACY_CALENDAR.WARNING"));else if(e===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.REGION_TYPE){if(P.getComponents(P.COMP_TYPE.REGION,{properties:[{id:P.PROP.REGION_TYPE,value:"NATIVE_CALENDAR"}],filterFunction:function(){return this.id!==t.id}}).length>0)return{error:g("LEGACY_CALENDAR.ONLY_ONE_PER_PAGE")}}else e===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.CLASSIC_CALENDAR)}function AP(E,t){var _,C=this;if(E===P.CALLBACK_ACTION.CREATED)new P.Component({previousComponent:"last",typeId:P.COMP_TYPE.PAGE_PROCESS,values:[{id:P.PROP.PAGE_PROCESS_TYPE,value:"NATIVE_FORM_INIT"},{id:P.PROP.PROCESS_DATA_SOURCE_REGION,value:C.id},{id:P.PROP.PROCESS_POINT,value:"BEFORE_HEADER"},{id:P.PROP.NAME,value:O.formatMessageNoEscape("WIZARD.FORM.INIT_PROCESS_NAME",this.getParent().getDisplayTitle())}]});else if(E===P.CALLBACK_ACTION.REMOVED){_=P.getComponents(P.COMP_TYPE.PAGE_ITEM,{properties:[{id:P.PROP.DATA_SOURCE_REGION,value:C.id}]});for(var T=0;T<_.length;T++)y(_[T],P.PROP.DATA_SOURCE_REGION,"")}(E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,P.SOURCE_LOCATION_PROPS))&&c(C,void 0,P.COMP_TYPE.PAGE_ITEM,P.PROP.DATA_SOURCE_COLUMN,{add:function(E,t){var _=!0;E.push({id:P.PROP.ITEM_NAME,value:"P"+P.getCurrentPageId()+"_"+t.name}),E.push({id:P.PROP.REGION,value:C.id}),E.push({id:P.PROP.DATA_SOURCE_REGION,value:C.id}),E.push({id:P.PROP.DATA_SOURCE_COLUMN,value:t.name}),E.push({id:P.PROP.DATA_TYPE,value:t.type}),"VARCHAR2"===t.type||"CLOB"===t.type?("VARCHAR2"===t.type&&(t.maxLen<100||t.isGeneric)?E.push({id:P.PROP.ITEM_TYPE,value:n}):E.push({id:P.PROP.ITEM_TYPE,value:r}),t.maxLen&&E.push({id:P.PROP.ELEMENT_MAX_CHARACTERS,value:t.maxLen+""})):"NUMBER"===t.type?E.push({id:P.PROP.ITEM_TYPE,value:l}):-1!==e.inArray(t.type,["TIMESTAMP_TZ"])?E.push({id:P.PROP.ITEM_TYPE,value:n}):-1!==e.inArray(t.type,["DATE","TIMESTAMP","TIMESTAMP_LTZ"])?E.push({id:P.PROP.ITEM_TYPE,value:u}):"ROWID"===t.type&&(_=!1,E.push({id:P.PROP.ITEM_TYPE,value:a}),E.push({id:P.PROP.IS_PRIMARY_KEY,value:"Y"})),_&&(E.push({id:P.PROP.ITEM_LABEL,value:V(t.name)}),E.push({id:P.PROP.VALUE_REQUIRED,value:t.isRequired?"Y":"N"}))},update:function(e,E){var t=e.getProperty(P.PROP.DATA_TYPE),_=e.getProperty(P.PROP.ELEMENT_MAX_CHARACTERS),O=E.maxLen+"",C=e.getProperty(P.PROP.VALUE_REQUIRED),T=E.isRequired?"Y":"N";t.getValue()!==E.type&&t.setValue(E.type),_&&"VARCHAR2"===E.type&&_.getValue()!==O&&_.setValue(O),C&&C.getValue()!==T&&C.setValue(T)},filter:{properties:[{id:P.PROP.DATA_SOURCE_REGION,value:C.id}]}})}function iP(e,E){var t=P.getPluginProperty(P.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",1).id,_=this.getProperty(P.PROP.FIRE_ON_PAGE_LOAD);e===P.CALLBACK_ACTION.CHANGED&&E.id===t&&"DIALOG_RETURN_ITEM"===E.getValue()&&"Y"===_.getValue()&&_.setValue("N")}function rP(e,E,t){var _,O,C,T,R,A=this;function i(){Y(A,P.COMP_TYPE.PAGE_PROC_WS_P_I),Y(A,P.COMP_TYPE.PAGE_PROC_WS_P_O),Y(A,P.COMP_TYPE.PAGE_PROC_WS_P_A)}function r(e,E,t){for(var _=P.getComponents(E,{parentId:e}),O=0;O<_.length;O++)new P.Component({typeId:t,parentId:A.id,values:[{id:P.PROP.PARAMETER_ID,value:_[O].id},{id:P.PROP.NAME,value:_[O].getProperty(P.PROP.NAME).getValue()}]})}_=e===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.PAGE_PROCESS_TYPE?t:this.getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue(),O=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,_,1).id,C=P.getPluginProperty(P.COMP_TYPE.PAGE_PROCESS,_,2).id,e!==P.CALLBACK_ACTION.CREATED&&e!==P.CALLBACK_ACTION.CHANGED||(T=this.getProperty(O).getValue(),R=this.getProperty(C).getValue()),e===P.CALLBACK_ACTION.CREATED&&""!==T||e===P.CALLBACK_ACTION.CHANGED&&E.id===O&&T!==t?(e===P.CALLBACK_ACTION.CHANGED&&i(),""!==T&&(r(T,P.COMP_TYPE.WS_REF_OPER_P_I,P.COMP_TYPE.PAGE_PROC_WS_P_I),r(T,P.COMP_TYPE.WS_REF_OPER_P_H,P.COMP_TYPE.PAGE_PROC_WS_P_I),"ITEMS"===R&&r(T,P.COMP_TYPE.WS_REF_OPER_P_O,P.COMP_TYPE.PAGE_PROC_WS_P_O),r(T,P.COMP_TYPE.WS_REF_OPER_P_A,P.COMP_TYPE.PAGE_PROC_WS_P_A))):e===P.CALLBACK_ACTION.CHANGED&&E.id===C&&R!==t?(Y(A,P.COMP_TYPE.PAGE_PROC_WS_P_O),"ITEMS"===R&&r(T,P.COMP_TYPE.WS_REF_OPER_P_O,P.COMP_TYPE.PAGE_PROC_WS_P_O)):e===P.CALLBACK_ACTION.REMOVED&&i()}function IP(e,E,t){var _=function(P,e){for(var E,t=0;t<e.length;t++)if(E=P.getProperty(e[t]))return E}(this,P.SOURCE_SNIPPET_PROPS);(h(this.getProperty(P.PROP.PLSQL_PROCESS_LOCATION),e,E,"LOCAL")||D(this.getProperty(P.PROP.SOURCE_REMOTE_DATABASE),e,E,""))&&""!==_.getValue()&&_.setValue(_.getValue(),!0)}function NP(E,t){var _,O,C=this.getProperty(P.PROP.ITEM_TYPE).getValue();C!==A||E!==P.CALLBACK_ACTION.CREATED&&E!==P.CALLBACK_ACTION.CHANGED?E===P.CALLBACK_ACTION.CREATED&&(-1!==e.inArray(C,[i,r,I])?y(this,P.PROP.ELEMENT_HEIGHT,"5"):C===L?(y(this,P.PROP.ELEMENT_WIDTH,""),y(this,P.PROP.ELEMENT_HEIGHT,"")):C===N&&0===G().length&&y(this,P.getPluginProperty(P.COMP_TYPE.PAGE_ITEM,N,1).id,"APEX_APPLICATION_TEMP_FILES")):!(_=this.getProperty(P.getPluginProperty(P.COMP_TYPE.PAGE_ITEM,A,2).id))||E!==P.CALLBACK_ACTION.CREATED&&t.id!==_.id||(O="Y"===_.getValue()?5:1,y(this,P.PROP.ELEMENT_HEIGHT,O))}function aP(e,E,t){var _,O,C,T,R,A,i,r,I=/^(P\d+_)/;if(e===P.CALLBACK_ACTION.CHANGED)if(E.id===P.PROP.ITEM_NAME)_=t.replace(I,""),O=E.getValue().replace(I,""),!(T=this.getProperty(P.PROP.ITEM_LABEL))||V(_)!==T.getValue()&&""!==T.getValue()||T.setValue(V(O)),!(R=this.getProperty(P.PROP.SOURCE_DB_COLUMN))||t.replace(I,"")!==R.getValue()&&""!==R.getValue()||R.setValue(E.getValue().replace(I,""));else if(E.id===P.PROP.SOURCE_TYPE)(A=this.getProperty(P.PROP.SOURCE_USED))&&"DB_COLUMN"===E.getValue()?A.setValue("NO"):A.setValue("YES");else if(E.id===P.PROP.SOURCE_DB_COLUMN){if(O=E.getValue(),(i=G()).length>0){r="NATIVE_FORM_FETCH"===i[0].getProperty(P.PROP.PAGE_PROCESS_TYPE).getValue()?i[0].getProperty(P.PROP.FORM_FETCH_TABLE_NAME).getColumns():i[0].getProperty(P.PROP.FORM_PROCESS_TABLE_NAME).getColumns();for(var N=0;N<r.length;N++)r[N].name===O&&(y(this,P.PROP.VALUE_REQUIRED,r[N].isRequired?"Y":"N"),y(this,P.PROP.ELEMENT_MAX_CHARACTERS,r[N].hasOwnProperty("maxLen")?r[N].maxLen+"":""))}}else if(E.id===P.PROP.DATA_SOURCE_COLUMN){C=E.getValue(),r=E._getAvailableColumns(!0);for(N=0;N<r.length;N++)r[N].name===C&&(y(this,P.PROP.DATA_TYPE,r[N].type),y(this,P.PROP.VALUE_REQUIRED,r[N].isRequired?"Y":"N"),y(this,P.PROP.ELEMENT_MAX_CHARACTERS,r[N].hasOwnProperty("maxLen")?r[N].maxLen+"":""))}}function nP(e,E,t){var _,O,C,T,R,A,i=/^(P\d+_)/,r=P.getPluginProperty(P.COMP_TYPE.REGION,s,13).id;e===P.CALLBACK_ACTION.CHANGED&&(E.id===P.PROP.ITEM_NAME?(_=t.replace(i,""),O=E.getValue().replace(i,""),!(C=this.getProperty(P.PROP.ITEM_LABEL))||V(_)!==C.getValue()&&""!==C.getValue()||C.setValue(V(O)),!(T=this.getProperty(P.PROP.SOURCE_DB_COLUMN))||t.replace(i,"")!==T.getValue()&&""!==T.getValue()||T.setValue(E.getValue().replace(i,""))):E.id===P.PROP.FC_SHOW_CHART&&"N"===t&&"Y"===E.getValue()&&(R=this.getParent().getChilds(P.COMP_TYPE.REGION_PLUGIN_ATTR)[0])&&(A=R.getProperty(r))&&"N"===A.getValue()&&A.setValue("Y"))}function LP(e,E){e===P.CALLBACK_ACTION.CREATED?new P.Component({typeId:P.COMP_TYPE.FACET_GROUP_ITEM,parentId:this.id,values:[{id:P.PROP.FACET_REGION,value:this.parentId}]}):e===P.CALLBACK_ACTION.REMOVED&&Y(this,P.COMP_TYPE.FACET_GROUP_ITEM)}function lP(e,E,t){var _=this.getProperty(P.PROP.BUTTON_LABEL),O=V(this.getProperty(P.PROP.BUTTON_NAME).getValue());function C(e,E,t){var _,O;_=P.getComponents(E,{properties:[{id:t,value:e}]});for(var C=0;C<_.length;C++)(O=_[C].getProperty(t)).setValue(O.getValue(),!0)}e===P.CALLBACK_ACTION.CREATED?_.setValue(O):e===P.CALLBACK_ACTION.CHANGED&&(E.id===P.PROP.BUTTON_NAME?(_=this.getProperty(P.PROP.BUTTON_LABEL),V(t)!==_.getValue()&&""!==_.getValue()||_.setValue(O)):E.id===P.PROP.BUTTON_TEMPLATE&&(C(this.id,P.COMP_TYPE.DA_EVENT,P.PROP.WHEN_BUTTON),C(this.id,P.COMP_TYPE.DA_ACTION,P.PROP.AFFECTED_BUTTON)))}function uP(E,t,_,O,C){function T(e,E,_){var O,T,R;R=!t.getProperty(P.PROP.REGION_TYPE)||"NATIVE_IG"!==t.getProperty(P.PROP.REGION_TYPE).getValue()&&"NATIVE_FORM"!==t.getProperty(P.PROP.REGION_TYPE).getValue()?"^(IN|IN_OUT)$":"^(IN|IN_OUT|OUT)$",O=P.getComponents(_,{parentId:E,properties:[{id:P.PROP.DIRECTION,value:new RegExp(R)}],filterFunction:function(){return"N"===this.getProperty(P.PROP.IS_STATIC).getValue()}});for(var A=0;A<O.length;A++)T=[{id:P.PROP.WEB_SRC_PARAM,value:O[A].id}],""!==O[A].getProperty(P.PROP.PARAMETER_VALUE).getValue()||"Y"===O[A].getProperty(P.PROP.PARAMETER_REQUIRED).getValue()?(T.push({id:P.PROP.VALUE_TYPE,value:"STATIC"}),""!==T&&T.push({id:P.PROP.VALUE_STATIC_VALUE,value:O[A].getProperty(P.PROP.PARAMETER_VALUE).getValue()})):T.push({id:P.PROP.VALUE_TYPE,value:"NULL"}),new P.Component({typeId:C,parentId:e,values:T})}function R(P){var e;""!==(e=P.value?P.value:t.getProperty(P.id).getValue()||"")&&(P.prefix&&(n+=P.prefix),P.identifier&&!/^[A-Z]+[A-Z0-9_$]*$/.test(e)?n+='"'+e+'"':n+=e,P.postfix&&(n+=P.postfix))}var A,i,r,I,N,a,n="";if(_&&_.id===P.PROP.SOURCE_QUERY_TYPE)if(N=t.getProperty(P.PROP.SOURCE_QUERY_TYPE).getValue(),E===P.CALLBACK_ACTION.VALIDATE)if("TABLE"===N&&-1!==e.inArray(O,["SQL","FUNC_BODY_RETURNING_SQL"])){if((a=t.getProperty(P.PROP.SOURCE_QUERY_TABLE).getColumns()).length>0){(A=t.getProperty(P.PROP.SOURCE_INCLUDE_ROWID_COLUMN))&&"Y"===A.getValue()&&R({value:"ROWID",postfix:",\n",identifier:!0});for(var L=0;L<a.length;L++)R({value:a[L].name,prefix:""===n?"":"       ",postfix:L<a.length-1?",\n":"",identifier:!0});n="select "+n+"\n  from ",R({id:P.PROP.SOURCE_QUERY_OWNER,postfix:".",identifier:!0}),R({id:P.PROP.SOURCE_QUERY_TABLE,identifier:!0}),R({id:P.PROP.SOURCE_QUERY_WHERE,prefix:"\n where "}),R({id:P.PROP.SOURCE_QUERY_ORDER_BY,prefix:"\n order by "})}S=n+""}else S="SQL"===N&&"FUNC_BODY_RETURNING_SQL"===O?t.getProperty(P.PROP.SOURCE_SQL_QUERY).getValue()+"":"";else E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(O,["TABLE","SQL"])&&""!==S&&("SQL"===N?y(t,P.PROP.SOURCE_SQL_QUERY,S):"FUNC_BODY_RETURNING_SQL"===N&&y(t,P.PROP.SOURCE_QUERY_PLSQL_FUNC_BODY_SQL,"return q'~\n"+S+"\n~';"),S="");if(E===P.CALLBACK_ACTION.CHANGED&&_.id===P.PROP.SOURCE_INCLUDE_ROWID_COLUMN&&(A=t.getProperty(P.PROP.SOURCE_QUERY_TABLE)).setValue(A.getValue(),!0),P.getSourceLocationProperty(t)&&_&&_.id===P.PROP.SOURCE_WEB_SRC_QUERY&&y(t,P.PROP.WEB_SRC_HAS_LOCAL_TABLE,P.getSourceLocationProperty(t).wsmHasLocalTable()?"Y":"N"),A=t.getProperty(P.PROP.SOURCE_WEB_SRC_QUERY),i=t.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE),(d(A,E,_)||d(i,E,_))&&(Y(t,C),t.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE)&&"N"!==t.getProperty(P.PROP.WEB_SRC_USE_LOCAL_TABLE).getValue()||""!==(r=A.getValue())&&(T(t.id,r,P.COMP_TYPE.WEB_SRC_MOD_PARAM),I=P.getComponents(P.COMP_TYPE.WEB_SRC_OPERATION,{parentId:r,properties:[{id:P.PROP.DATABASE_OPERATION,value:"FETCH_COLLECTION"}]})[0].id,T(t.id,I,P.COMP_TYPE.WEB_SRC_OPER_PARAM))),(h(A=t.getProperty(P.PROP.SOURCE_POST_PROCESSING),E,_,"SQL")||h(A,E,_,"FUNC_BODY_RETURNING_SQL"))&&(n="",(a=t.getProperty(P.PROP.SOURCE_WEB_SRC_QUERY).getColumns()).length>0)){for(L=0;L<a.length;L++)R({value:a[L].name,prefix:0===L?"":"       ",postfix:L<a.length-1?",\n":"",identifier:!0});n="select "+n+"\n  from #APEX$SOURCE_DATA#","SQL"===A.getValue()?y(t,P.PROP.POST_PROC_SQL_QUERY,n):"FUNC_BODY_RETURNING_SQL"===A.getValue()&&y(t,P.PROP.POST_PROC_PLSQL_FUNC_BODY_SQL,"return q'~\n"+n+"\n~';")}}function oP(e,E,t){var _;if(""!==this.getProperty(P.PROP.PARENT_REGION).getValue()&&(e===P.CALLBACK_ACTION.CREATED||e===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.PARENT_REGION&&""===t)&&y(this,P.PROP.REGION_DISPLAY_SELECTOR,"N"),e===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.MASTER_REGION&&""!==t){_=this.getChilds(P.COMP_TYPE.IG_COLUMN,{filterFunction:function(){var e=this.getProperty(P.PROP.MASTER_COLUMN);return e&&""!==e.getValue()}});for(var O=0;O<_.length;O++)y(_[O],P.PROP.MASTER_COLUMN,"")}uP(e,this,E,t,P.COMP_TYPE.REGION_WS_PARAM)}function pP(e,E){e===P.CALLBACK_ACTION.CHANGED&&E.id===P.PROP.USE_CUSTOM_XML&&v(this,E)}function sP(E,t,O){var C,T,R,A=_.getDecimalSeparator(),i={LETTER:{units:"INCHES",width:"8"+A+"5",height:"11"},LEGAL:{units:"INCHES",width:"8"+A+"5",height:"14"},TABLOID:{units:"INCHES",width:"8.5",height:"17"},A4:{units:"MILLIMETERS",width:"210",height:"297"},A3:{units:"MILLIMETERS",width:"297",height:"420"}};E===P.CALLBACK_ACTION.CREATED?(C=-1!==e.inArray(P.getPrimaryLanguage(),["en","en-us","en-ca","fr-ca"])?"LETTER":"A4",y(this,P.PROP.PRINT_PAGE_SIZE,C)):E===P.CALLBACK_ACTION.CHANGED&&(t.id===P.PROP.PRINT_PAGE_SIZE&&"CUSTOM"!==t.getValue()?(C=i[t.getValue()],y(this,P.PROP.PRINT_UNITS,C.units),"VERTICAL"===this.getProperty(P.PROP.PRINT_ORIENTATION).getValue()?(y(this,P.PROP.PRINT_WIDTH,C.width),y(this,P.PROP.PRINT_HEIGHT,C.height)):(y(this,P.PROP.PRINT_WIDTH,C.height),y(this,P.PROP.PRINT_HEIGHT,C.width))):t.id===P.PROP.PRINT_ORIENTATION&&(T=this.getProperty(P.PROP.PRINT_WIDTH).getValue(),R=this.getProperty(P.PROP.PRINT_HEIGHT).getValue(),y(this,P.PROP.PRINT_WIDTH,R),y(this,P.PROP.PRINT_HEIGHT,T)))}function SP(e){var E,t;if(""!==e&&""!==(t=(E=P.getComponents(P.COMP_TYPE.BUTTON,{id:e})[0]).getProperty(P.PROP.BUTTON_TEMPLATE).getValue())&&!P.getButtonTemplates()[t].hasButtonId&&!/id=/.test(E.getProperty(P.PROP.CUSTOM_ATTRIBUTES).getValue()))return{error:O.formatMessage("PD.PE.BUTTON_NO_ID_ERROR")}}function MP(e){var E;return e.getProperty(P.PROP.JS_CONDITION)?E=e.getProperty(P.PROP.JS_CONDITION):e.getProperty(P.PROP.JS_CONDITION_WHEN_IG)&&(E=e.getProperty(P.PROP.JS_CONDITION_WHEN_IG)),!E||""===E.getValue()}function gP(E,t,_){var O,C,T,R,A,i,r,I,N,a=this.getProperty(P.PROP.IG_REGION),n="";if(r=this.getProperty(P.PROP.WHEN_REGION),E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,[P.PROP.WHEN_TYPE,P.PROP.WHEN_REGION]))for(r&&""!==r.getValue()&&"NATIVE_IG"===P.getComponents(P.COMP_TYPE.REGION,{id:r.getValue()})[0].getProperty(P.PROP.REGION_TYPE).getValue()&&(n=r.getValue()),a.setValue(n),i=this.getChilds(P.COMP_TYPE.DA_ACTION),O=0;O<i.length;O++)y(i[O],P.PROP.IG_REGION,n);if(E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,[P.PROP.JS_CONDITION,P.PROP.JS_CONDITION_WHEN_IG]))if(R=this.getChilds(P.COMP_TYPE.DA_ACTION,{properties:[{id:P.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:"FALSE"}]}),MP(this))U(R);else for(O=0;O<R.length;O++)(A=R[O].getProperty(P.PROP.FIRE_WHEN_EVENT_RESULT_IS)).setValue(A.getValue());if((E===P.CALLBACK_ACTION.CREATED||E===P.CALLBACK_ACTION.CHANGED&&-1!==e.inArray(t.id,[P.PROP.JS_CONDITION,P.PROP.JS_CONDITION_WHEN_IG,P.PROP.WHEN_ITEMS,P.PROP.WHEN_COLUMNS]))&&(""===a.getValue()?(I=this.getProperty(P.PROP.WHEN_ITEMS),N=this.getProperty(P.PROP.JS_CONDITION_ITEM)):(I=this.getProperty(P.PROP.WHEN_COLUMNS),N=this.getProperty(P.PROP.JS_CONDITION_COLUMN_WHEN_IG)),I&&N&&(""===N.getValue()||t.id===I.id&&N.getValue()===_.split(",")[0])&&N.setValue(I.getValue().split(",")[0])),d(C=this.getProperty(P.PROP.WHEN_BUTTON),E,t))/^apex/.test(this.getProperty(P.PROP.EVENT).getValue())||!C||C.getMetaData().isReadOnly||""===C.getValue()||"DEFINED_BY_DA"!==(T=P.getComponents(P.COMP_TYPE.BUTTON,{id:C.getValue()})[0].getProperty(P.PROP.BUTTON_ACTION)).getValue()&&T.setValue("DEFINED_BY_DA");else if(E===P.CALLBACK_ACTION.VALIDATE&&t.id===P.PROP.WHEN_BUTTON)return SP(_)}function dP(E,t,_){var C=this.getProperty(P.PROP.DA_ACTION_TYPE),T=this.getProperty(P.PROP.AFFECTED_TYPE);if(E===P.CALLBACK_ACTION.CREATED)y(this,P.PROP.IG_REGION,this.getParent().getProperty(P.PROP.IG_REGION).getValue()),T&&""===T.getValue()&&"NATIVE_JAVASCRIPT_CODE"!==C.getValue()&&(""===this.getProperty(P.PROP.IG_REGION).getValue()?T.setValue("ITEM"):T.setValue("COLUMN"));else if(E===P.CALLBACK_ACTION.CHANGED)t.id===P.PROP.DA_EVENT&&"FALSE"===this.getProperty(P.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()&&MP(this.getParent())&&y(this,P.PROP.FIRE_WHEN_EVENT_RESULT_IS,"TRUE");else if(E===P.CALLBACK_ACTION.VALIDATE)if(t.id===P.PROP.FIRE_WHEN_EVENT_RESULT_IS){if("FALSE"===_&&MP(this.getParent()))return{error:O.formatMessage("PD.PE.INVALID_FALSE_ACTIONS")}}else{if(t.id===P.PROP.AFFECTED_BUTTON)return SP(_);if(t.id===P.PROP.AFFECTED_COLUMNS){if(""!==this.getProperty(P.PROP.IG_REGION).getValue()&&""!==_&&e.inArray(this.getProperty(P.PROP.DA_ACTION_TYPE).getValue(),["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:O.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}else if(t.id===P.PROP.DA_ACTION_TYPE&&""!==this.getProperty(P.PROP.IG_REGION).getValue()&&this.getProperty(P.PROP.AFFECTED_COLUMNS)&&""!==this.getProperty(P.PROP.AFFECTED_COLUMNS).getValue()&&e.inArray(_,["NATIVE_SHOW","NATIVE_HIDE"])>-1)return{error:O.formatMessage("PD.PE.SHOW_HIDE_NOT_SUPPORTED")}}h(C,E,t,"NATIVE_JAVASCRIPT_CODE")&&T.setValue("")}function hP(e,E,t){if(e===P.CALLBACK_ACTION.VALIDATE&&E.id===P.PROP.VALUE_TYPE&&"NULL"===t&&"Y"===P.getComponents(P.COMP_TYPE.WEB_SRC_MOD_PARAM,{id:this.getProperty(P.PROP.WEB_SRC_PARAM).getValue()})[0].getProperty(P.PROP.PARAMETER_REQUIRED).getValue())return{error:g("WEB_SRC_PARAM.REQUIRES_VALUE")}}e(document).on("modelConfigLoaded",(function(){var E=P.getComponentType(P.COMP_TYPE.REGION).pluginType.plugins;for(var t in P.setComponentTypeCallback(P.COMP_TYPE.PAGE_ITEM,aP),P.setComponentTypeCallback(P.COMP_TYPE.FACET,nP),P.setComponentTypeCallback(P.COMP_TYPE.FACET_GROUP,LP),P.setComponentTypeCallback(P.COMP_TYPE.FACET_GROUP_ITEM,nP),P.setComponentTypeCallback(P.COMP_TYPE.BUTTON,lP),P.setComponentTypeCallback(P.COMP_TYPE.REGION,oP),P.setComponentTypeCallback(P.COMP_TYPE.DA_EVENT,gP),P.setComponentTypeCallback(P.COMP_TYPE.DA_ACTION,dP),P.setComponentTypeCallback(P.COMP_TYPE.REGION_PLUGIN_ATTR,m),P.setComponentTypeCallback(P.COMP_TYPE.CHART,EP),P.setComponentTypeCallback(P.COMP_TYPE.CARD,tP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART,OP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART_SERIES,CP),P.setComponentTypeCallback(P.COMP_TYPE.JET_CHART_AXES,TP),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_REPORT,W),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_RPT_COLUMN,q),P.setComponentTypeCallback(P.COMP_TYPE.TABULAR_FORM,W),P.setComponentTypeCallback(P.COMP_TYPE.TAB_FORM_COLUMN,$),P.setComponentTypeCallback(P.COMP_TYPE.IG_ATTRIBUTES,w),P.setComponentTypeCallback(P.COMP_TYPE.IG_COLUMN,J),P.setComponentTypeCallback(P.COMP_TYPE.IR_ATTRIBUTES,b),P.setComponentTypeCallback(P.COMP_TYPE.IR_PRINT_ATTR,sP),P.setComponentTypeCallback(P.COMP_TYPE.CLASSIC_RPT_PRINT,sP),P.setComponentTypeCallback(P.COMP_TYPE.TAB_FORM_PRINT,sP),P.setComponentTypeCallback(P.COMP_TYPE.IG_PRINT,sP),P.setComponentTypeCallback(P.COMP_TYPE.MAP_CHART,pP),P.setComponentTypeCallback(P.COMP_TYPE.REGION_WS_PARAM,hP),E)E.hasOwnProperty(t)&&-1!==e.inArray("COLUMNS",E[t].features)&&P.setPluginCallback(P.COMP_TYPE.REGION,t,j);P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_CARDS",K),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_IG",k),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_IR",Q),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_SQL_REPORT",X),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_TABFORM",x),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_FLASH_MAP",PP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_FLASH_CHART5",eP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_JET_CHART",_P),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_CALENDAR",RP),P.setPluginCallback(P.COMP_TYPE.REGION,"NATIVE_FORM",AP),P.setPluginCallback(P.COMP_TYPE.REGION,s,z),P.setPluginCallback(P.COMP_TYPE.DA_ACTION,"NATIVE_SET_VALUE",iP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,i,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,r,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,I,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,L,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,A,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_ITEM,N,NP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE",rP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_WEB_SERVICE_LEGACY",rP),P.setPluginCallback(P.COMP_TYPE.PAGE_PROCESS,"NATIVE_PLSQL",IP)}))}(pe,apex.jQuery,apex.debug,apex.util,apex.locale,apex.lang,apex.server,window.pageDesigner);
!function(e,t,a,i){"use strict";var n="error",s="warning",o="icon-remove-sign",r="icon-warning-sign";t.widget("apex.peMessagesView",{options:{},_create:function(){var a,i=this;this.element.empty(),a=t("<div>",{class:"a-AlertMessages"}).appendTo(this.element),this._container$=t("<ul></ul>",{class:"a-AlertMessages-list"}).appendTo(a).on("click","a",this._goToComponent),t(document).on("modelReady",(function(){e.observer("messages_"+this.uuid,{events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS,e.EVENT.DELETE,e.EVENT.REMOVE_PROP]},(function(e){i._update(e)})),t(document).one("modelCleared",(function(){i._container$.empty(),t.isFunction(i.options.badge)?i.options.badge(""):t(i.options.badge).text("")}))}))},_init:function(){},_destroy:function(){this.element.empty(),t(document).off("modelReady"),t(document).off("modelCleared"),e.unobserver("messages_"+this.uuid)},_update:function(i){function p(t,i,n,s,o){for(var r='<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message is-#CSS_CLASS#">    <div class="a-MediaBlock-graphic">      <span class="a-FAIcon a-FAIcon--medium a-FAIcon--#CSS_CLASS# #ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription">#MESSAGE#</p>    </div>  </a></li>',p="",c=0;c<n.length;c++)p+=r.replace(/#CSS_CLASS#/g,s).replace(/#ICON_CLASS#/g,o).replace("#TYPEID#",t.typeId).replace("#COMPONENTID#",t.id).replace("#PROPERTYID#",i.id).replace("#COMPONENT_TYPE#",a.escapeHTML(e.getComponentType(t.typeId).title.singular)).replace("#COMPONENT#",a.escapeHTML(t.getDisplayTitle())).replace("#DISPLAY_GROUP#",a.escapeHTML(e.getDisplayGroup(i.getMetaData().displayGroupId).title)).replace("#PROPERTY#",a.escapeHTML(i.getMetaData().prompt)).replace("#MESSAGE#",n[c]);this._container$.append(p)}var c,d,l,E=i.component,g="li[data-typeid='"+E.typeId+"'][data-componentid='"+E.id+"']",T=this.options.badge,m=this.options.button,u=this.options.noMsgHandler;if(t.inArray(e.EVENT.DELETE,i.events)>=0)this._container$.find(g).remove();else for(var O in i.properties)i.properties.hasOwnProperty(O)&&(this._container$.find(g+"[data-propertyid='"+O+"']").remove(),-1===t.inArray(e.EVENT.REMOVE_PROP,i.properties[O])&&(c=E.getProperty(O),p.call(this,E,c,c.errors,n,o),p.call(this,E,c,c.warnings,s,r)));l=(d=this._container$.find("li").length)>0,m.toggle(l&&m.length>0),t.isFunction(T)?T(d):t(T).text(l?d:""),!l&&t.isFunction(u)&&u()},_goToComponent:function(){var a=t(this).closest("li"),i=e.getComponents(a.data("typeid"),{id:a.data("componentid")})[0];window.pageDesigner.goToComponent(i.typeId,i.id,a.data("propertyid"))}})}(pe,apex.jQuery,apex.util);
!function(e,t,a,n){"use strict";var r="warning",i="a-Icon icon-search",p=null;function o(t,n){var p=t.component,o=t.getMetaData(),s=t.getDisplayValue();return s=(s=a.escapeHTML(s.replace(n,"~~peSearchHitBegin~~$&~~peSearchHitEnd~~"))).replace(/~~peSearchHitBegin~~/g,'<span class="a-Search-term">').replace(/~~peSearchHitEnd~~/g,"</span>"),'<li class="a-AlertMessages-item" data-typeid="#TYPEID#" data-componentid="#COMPONENTID#" data-propertyid="#PROPERTYID#">  <a href="#" class="a-MediaBlock a-AlertMessages-message">    <div class="a-MediaBlock-graphic">      <span class="#ICON_CLASS#"></span>    </div>    <div class="a-MediaBlock-content">      <h5 class="a-AlertMessages-propertyTitle">#COMPONENT_TYPE# &rarr; #COMPONENT# &rarr; #DISPLAY_GROUP# &rarr; #PROPERTY#</h5>      <p class="a-AlertMessages-messageDescription"><pre>#VALUE#</pre></p>    </div>  </a></li>'.replace(/#CSS_CLASS#/g,r).replace(/#ICON_CLASS#/g,i).replace("#TYPEID#",p.typeId).replace("#COMPONENTID#",p.id).replace("#PROPERTYID#",t.id).replace("#COMPONENT_TYPE#",a.escapeHTML(e.getComponentType(p.typeId).title.singular)).replace("#COMPONENT#",a.escapeHTML(p.getDisplayTitle())).replace("#DISPLAY_GROUP#",a.escapeHTML(e.getDisplayGroup(o.displayGroupId).title)).replace("#PROPERTY#",a.escapeHTML(o.prompt)).replace("#VALUE#",s)}t.widget("apex.peSearch",{options:{},_create:function(){var a,n=this;this.element.empty(),a=t("<div>",{class:"a-AlertMessages"}).appendTo(this.element),this._container$=t("<ul></ul>",{class:"a-AlertMessages-list"}).appendTo(a).on("click","a",this._goToComponent),t(document).on("modelReady",(function(){e.observer("search_"+this.uuid,{events:[e.EVENT.CHANGE,e.EVENT.DELETE,e.EVENT.REMOVE_PROP]},(function(e){n._update(e)})),t(document).one("modelCleared",(function(){n._container$.empty(),p=null}))}))},_init:function(){},_destroy:function(){this.element.empty(),t(document).off("modelReady"),t(document).off("modelCleared"),e.unobserver("search_"+this.uuid)},search:function(t){p=t instanceof RegExp?t:""!==t&&void 0!==t?new RegExp(a.escapeRegExp(t),"gi"):null,this._container$.empty(),null!==p&&this._container$.append(function t(a,n){var r,i,p,s,c="";for(p=0,s=(r=e.fullTextSearch(n,{typeId:a})).length;p<s;p++)c+=o(r[p],n);for(p=0,s=(i=e.getComponentType(a)).childComponentTypes.length;p<s;p++)c+=t(i.childComponentTypes[p],n);return c}(e.COMP_TYPE.PAGE,p))},clear:function(){p=null,this._container$.empty()},_update:function(a){var n,r,i=p,s=a.component,c="li[data-typeid='"+s.typeId+"'][data-componentid='"+s.id+"']";if(null!==i)if(t.inArray(e.EVENT.DELETE,a.events)>=0)this._container$.find(c).remove();else for(var l in a.properties)a.properties.hasOwnProperty(l)&&(n=this._container$.find(c+"[data-propertyid='"+l+"']"),t.inArray(e.EVENT.REMOVE_PROP,a.properties[l])>=0?n.remove():t.inArray(e.EVENT.CHANGE,a.properties[l])>=0&&n.length>0&&(r=[a.component.getProperty(l)],(r=e.fullTextSearch(i,{properties:r})).length>0?n.replaceWith(o(r[0],i)):n.remove()))},_goToComponent:function(a){var n=t(this).closest("li"),r=e.getComponents(n.data("typeid"),{id:n.data("componentid")})[0];window.pageDesigner.goToComponent(r.typeId,r.id,n.data("propertyid"))}})}(pe,apex.jQuery,apex.util);
window.componentGallery={},function(e,t,n,a,i){"use strict";var o=null,r="",s=!1,l={region:"regions",item:"items",button:"buttons"},p={regions:[],items:[],buttons:[]},u={region:"a-Gallery-region",item:"a-Gallery-pageItem",button:"a-Gallery-button"};function c(e){var t,n=e.split(":"),a=p[l[n[0]]];if(a&&(t=a[n[1]]),!t)throw"Invalid component data key";return t}function g(e,n,a){var i,o=t.isPageReadOnly();i=u[a.type],o||(i+=" is-draggable"),e.markup("<li").attr("class",i).optionalAttr("aria-grabbed",o?null:"false").attr("data-component",a.type+":"+n).markup("><span class='a-Icon ").attr(a.iconClass).markup("'></span><span class='a-Gallery-componentName'>").content(a.title).markup("</span></li>")}function m(e,t,n){var o=a.htmlBuilder();return/^\s</.test(t=t||"")||(t="<p>"+t+"</p>"),o.markup("<span class='tt-title'>").content(e).markup("</span>").markup(t),n||o.markup("<p>").content(i.formatMessageNoEscape("PD.GAL.NOT_SUPPORTED",r)).markup("</p>"),o.toString()}function d(){var e=t.getComponents(t.COMP_TYPE.PAGE)[0];o=e._uiType,r=e.getProperty(t.PROP.USER_INTERFACE).getDisplayValue(),function(){var e,a,r,s,l,u=t.getComponentType(t.COMP_TYPE.REGION).pluginType.plugins;for(e in u)if(u.hasOwnProperty(e)){if((a=u[e]).isDeprecated||"NATIVE_DATA_UPLOAD_COLUMN_MAPPING"===a.name)continue;s=-1!==n.inArray(o,a.uiTypes),l=t.getTheme().defaultTemplates["NATIVE_IR"===e?"ir":"region"],r={type:"region",iconClass:window.pageDesigner.getComponentIconClass("region",e),title:s?a.title:i.formatMessage("PD.UNSUPPORTED",a.title),isSupported:s,isLegacy:a.isLegacy,tooltip:m(a.title,a.helpText,s),values:[{id:t.PROP.REGION_TYPE,value:e},{id:t.PROP.REGION_TEMPLATE,value:l}]},p.regions.push(r)}}(),function(){var e,a,r,s,l=t.getComponentType(t.COMP_TYPE.PAGE_ITEM).pluginType.plugins;for(e in l)if(l.hasOwnProperty(e)){if((a=l[e]).isDeprecated)continue;s=-1!==n.inArray(o,a.uiTypes)&&(!a.componentTypes||-1!==n.inArray(t.COMP_TYPE.PAGE_ITEM,a.componentTypes)),r={type:"item",iconClass:window.pageDesigner.getComponentIconClass("item",e),title:s?a.title:i.formatMessage("PD.UNSUPPORTED",a.title),isSupported:s,isLegacy:a.isLegacy,tooltip:m(a.title,a.helpText,s),values:[{id:t.PROP.ITEM_TYPE,value:e}]},p.items.push(r)}}(),function(){var e,n,a,o=t.getButtonTemplates();function r(e,n,i){a={type:"button",iconClass:window.pageDesigner.getComponentIconClass("button","Y"===i?"hot":"normal"),title:e,isSupported:!0,isLegacy:!1,tooltip:m(e,"",!0),values:[{id:t.PROP.BUTTON_TEMPLATE,value:n},{id:t.PROP.BUTTON_IS_HOT,value:i}]},p.buttons.push(a)}for(e in o)o.hasOwnProperty(e)&&(r((n=o[e]).name,e,"N"),n.hasHotTemplate&&r(i.formatMessage("PD.GAL.HOT_BTN",n.name),e,"Y"))}(),n.each(["regions","items","buttons"],(function(e,t){p[t].sort((function(e,t){return e.title.localeCompare(t.title)}))})),y()}function y(){var e=n("#glv"),i=t.isPageReadOnly(),o=a.htmlBuilder();n.each(["regions","items","buttons"],(function(t,a){var r,l,u=p[a],m=n("#cg-"+a+" ul").first();for(o.clear(),r=0;r<u.length;r++)!(l=u[r]).isSupported||l.isLegacy&&!s||g(o,r,l);m.html(o.toString()).iconList("refresh"),i||n("#cg-"+a+" li").draggable({addClasses:!1,appendTo:"#glv-viewport",cursor2:"default",cursorAt:{left:2,top:2},delay:10,distance:5,opacity:.9,revert:!1,helper:function(){var t=n(this).attr("data-component"),a=c(t);return e.gridlayout("makeHelper",a.type,a.iconClass,a.title,t)},connectToGridlayout:"#glv",containment:"document",zIndex:1e3,start:function(e,t){apex.tooltipManager.disableTooltips()},stop:function(e,t){apex.tooltipManager.enableTooltips()}})}))}e.getComponentData=c,n((function(){var e,a=!1;s="Y"===window.pageDesigner.getPreference("GAL_SHOW_LEGACY");var i={menubar:!1,items:[{id:"addTo",type:"subMenu",disabled:!0,labelKey:"PD.GAL.MI.ADD2",menu:{items:[]}},{type:"toggle",labelKey:"PD.GAL.MI.SHOW_LEGACY",get:function(){return s},set:function(e){s=e,y(),window.pageDesigner.savePreference("GAL_SHOW_LEGACY",s?"Y":"N")}}],beforeOpen:function(e,a){var i,o,r,s,l=n("#glv"),p=a.menuElement.menu("find","addTo"),u=a.selection;1!==u.length||t.isPageReadOnly()?p.menu.items=[]:(i=u.eq(0),o=c(s=i.attr("data-component")),r=function(){window.pageDesigner.glvMenuAddAction.call(this,s)},p.menu.items=window.pageDesigner.glvMakeTargetMenu(l.gridlayout("getDropTargets",o.type,"add"),r)),p.disabled=0===p.menu.items.length}};n("#cg-regions ul, #cg-items ul, #cg-buttons ul").addClass("a-Gallery").each((function(){n(this).iconList({multiple:!1,contextMenu:i,contextMenuId:"galleryMenu-"+n(this).parent().parent()[0].id})})).tooltip({items:"li",show:apex.tooltipManager.defaultShowOption(),position:{my:"left-20 top-20",at:"right bottom",collision:"flipfit"},content:function(){return c(n(this).attr("data-component")).tooltip}}),n("#gallery-tabs").on("tabsactivate",(function(e,t){n("#galleryMenuBtn").attr("data-menu","galleryMenu-"+t.newPanel[0].id),a||window.pageDesigner.savePreference("GAL_CUR_TAB",t.newTab.parent().children().index(t.newTab[0])),a=!1})),n("#galleryMenuBtn").attr("data-menu","galleryMenu-cg-regions"),e=parseInt(window.pageDesigner.getPreference("GAL_CUR_TAB"),10),!isNaN(e)&&e>0&&setTimeout((function(){a=!0,n("#gallery-tabs").tabs("option","active",e)}),10),n("#gallery-tabs .u-ScrollingViewport.resize").resize((function(){n(this).children(".a-IconList").resize()}))})),n(document).on("modelReady",(function(){d()})),n(document).on("modelCleared",(function(){n.each(["regions","items","buttons"],(function(e,t){var a=n("#cg-"+t+" ul").first();p[t]=[],a.empty().iconList("refresh")}))}))}(window.componentGallery,pe,apex.jQuery,apex.util,apex.lang);
!function(e,t,n,i,a,o){"use strict";var r="is-not-important",p="is-populated",_="is-run-on-init",P=[{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_menu_list"},{title:s("NAVIGATION_BAR_LIST"),typeId:e.COMP_TYPE.LIST,type:"navigation_bar_list"},{title:s("TAB_SET"),typeId:e.COMP_TYPE.TAB_SET,type:"tab_set"},{typeId:e.COMP_TYPE.LOV,type:"lov"},{typeId:e.COMP_TYPE.LIST,type:"list"},{typeId:e.COMP_TYPE.AUTHORIZATION,type:"authorization"},{typeId:e.COMP_TYPE.BUILD_OPTION,type:"build_option"},{typeId:e.COMP_TYPE.DATA_LOAD_TABLE,type:"data_load_table"},{typeId:e.COMP_TYPE.WS_REF,type:"web_service"},{typeId:e.COMP_TYPE.BREADCRUMB,type:"breadcrumb"},{title:s("TEMPLATES"),type:"template",children:[{titleTypeId:e.COMP_TYPE.PAGE,typeId:e.COMP_TYPE.PAGE_TEMPLATE,type:"page_template"},{titleTypeId:e.COMP_TYPE.PAGE_ITEM,typeId:e.COMP_TYPE.FIELD_TEMPLATE,type:"field_template"},{titleTypeId:e.COMP_TYPE.BUTTON,typeId:e.COMP_TYPE.BUTTON_TEMPLATE,type:"button_template"},{titleTypeId:e.COMP_TYPE.REGION,typeId:e.COMP_TYPE.REGION_TEMPLATE,type:"region_template"},{titleTypeId:e.COMP_TYPE.LIST,typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"list_template"},{title:s("CLASSIC_REPORT"),typeId:e.COMP_TYPE.REPORT_TEMPLATE,type:"report_template"},{title:s("NAVIGATION_MENU_LIST"),typeId:e.COMP_TYPE.LIST_TEMPLATE,type:"nav_list_template"},{titleTypeId:e.COMP_TYPE.BREADCRUMB,typeId:e.COMP_TYPE.BREADCRUMB_TEMPLATE,type:"breadcrumb_template"},{title:s("LEGACY_CALENDAR"),typeId:e.COMP_TYPE.CALENDAR_TEMPLATE,type:"calendar_template"}]}];function s(e){return a.getMessage("PD.TREE."+e)}function E(e){var t=s(e),n=[t].concat(Array.prototype.slice.call(arguments,1));return a.formatNoEscape.apply(this,n)}function c(e,t){var n=l(e,o.extend({isHeader:!0},t));return n.children=[],n.state={},t.isOpen&&(n.state={opened:!0}),t.omitIfEmpty&&(n.commands.omitIfEmpty=!0),t.showHasComponents&&(n.commands.showHasComponents=!0),n}function l(n,i){var a={type:i.type,label:i.title,classes:"",data:{},commands:{}};return i.component instanceof e.Component?(a.data={typeId:i.component.typeId,componentId:i.component.id,isPlain:i.isPlain},i.isPlain||(t.isNever(i.component)?a.classes=t.CSS.IS_NEVER:t.isConditional(i.component)&&(a.classes=t.CSS.IS_CONDITIONAL),i.component.hasChanged()&&(a.classes=t.CSS.IS_CHANGED),i.component.hasErrors()&&(a.classes+=" "+t.CSS.IS_ERROR,a.commands.openAllParents=!0),i.component.hasWarnings()&&(a.classes+=" "+t.CSS.IS_WARNING),i.component.typeId===e.COMP_TYPE.DA_ACTION&&"Y"===i.component.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()&&(a.classes+=" "+_)),i.title||(a.label=i.component.getDisplayTitle())):(i.hasWarnings&&(a.classes+=" "+t.CSS.IS_WARNING),i.hasErrors&&(a.classes+=" "+t.CSS.IS_ERROR,a.commands.openAllParents=!0)),i.isNotImportant&&(a.classes+=" "+r),i.hasOwnProperty("id")?a.id=i.id:i.component instanceof e.Component?(a.id=a.type+"_"+i.component.typeId+"_"+i.component.id,0!==a.type.indexOf("inline_")&&0!==a.type.indexOf("page_load_da_")||(a.id=n.id+"_"+a.id)):(a.id=i.type,i.idPostfix&&(a.id+=i.idPostfix),n&&(a.id=n.id+"_"+a.id)),i.tooltip&&(a.tooltip=i.tooltip),i.hasOwnProperty("icon")&&(!1===i.icon?a.icon=null:a.icon=i.icon),i.openAllParents&&(a.commands.openAllParents=!0),n&&n.children.push(a),a}function d(e,t){var n,i;if((t=o.extend({component:{},hasWarnings:!1,hasErrors:!1,isOpen:!1,isPlain:!1,openAllParents:!1,omitIfEmpty:!1,showHasComponents:!1},t)).isHeader=!0,t.isNotImportant=!0,n=c(e,t),t.filter)if("parent"===t.filter.setFilter)for(i=0;i<t.filter.properties.length;i++)e.data[t.filter.properties[i].id]=t.filter.properties[i].value;else if(t.filter.properties)for(i=0;i<t.filter.properties.length;i++)n.data[t.filter.properties[i].id]=t.filter.properties[i].value;if(t.data)for(var a in t.data)t.data.hasOwnProperty(a)&&(n.data[a]=t.data[a]);return n}function O(t){if(t.children){for(var n=0;n<t.children.length;)O(t.children[n])?t.children.splice(n,1):(t.children[n].commands.openAllParents&&(t.state.opened||(t.state.opened=!0),t.commands.openAllParents||(t.commands.openAllParents=!0)),(t.children[n].state&&t.children[n].state.hasComponents||t.children[n].data.hasOwnProperty("componentId")&&!e.getComponents(t.children[n].data.typeId,{id:t.children[n].data.componentId})[0].isOnGlobalPage())&&(t.state.hasComponents||(t.state.hasComponents=!0,t.commands.showHasComponents&&(t.classes+=" "+p))),n++);return 0===t.children.length&&delete t.state,t.commands.omitIfEmpty&&(t.children&&0===t.children.length||!t.children)}return delete t.state,!1}function T(n,i){var a,r,p,_,P,s,E=i.setFilter,O=[],T={};if(void 0===E&&(E="parent"),!1===i.header){if(_=n,"parent"===E)for(s=0;s<i.component.filter.properties.length;s++)n.data[i.component.filter.properties[s].id]=i.component.filter.properties[s].value}else{if(a=i.header.component instanceof e.Component?i.header.component.getDisplayTitle():i.header.title?i.header.title:e.getComponentType(i.component.typeId).title.plural,E)if(p={setFilter:E,properties:[]},o.isArray(i.component))for(s=0;s<i.component.length;s++)p.properties=p.properties.concat(i.component[s].filter.properties);else i.component.filter.properties&&(p.properties=i.component.filter.properties);_=d(n,{title:a,type:i.header.type,id:i.header.id,idPostfix:i.header.idPostfix,isPlain:i.header.isPlain,hasWarnings:i.header.hasWarnings,hasErrors:i.header.hasErrors,isOpen:i.header.isOpen,openAllParents:i.header.openAllParents,omitIfEmpty:i.header.omitIfEmpty,component:i.header.component,filter:p})}if(o.isArray(i.component))for(s=0;s<i.component.length;s++)O[s]={typeId:i.component[s].typeId,filter:i.component[s].filter},T[i.component[s].typeId]=i.component[s];else O[0]={typeId:i.component.typeId,filter:i.component.filter},T[i.component.typeId]=i.component;for(r=e.getComponentsAdvanced(O),s=0;s<r.length;s++)t.isDisplayed(r[s])&&(T[r[s].typeId].addSubComponents?(P=c(_,{title:r[s].getDisplayTitle(),type:T[r[s].typeId].type,component:r[s],isHeader:!1,isPlain:T[r[s].typeId].isPlain,isOpen:T[r[s].typeId].isOpen,openAllParents:!r[s].isOnGlobalPage()&&T[r[s].typeId].openAllParents,omitIfEmpty:T[r[s].typeId].omitIfEmpty}),T[r[s].typeId].addSubComponents(P,r[s])):l(_,{title:r[s].getDisplayTitle(),type:T[r[s].typeId].type,isPlain:T[r[s].typeId].isPlain,component:r[s],openAllParents:!r[s].isOnGlobalPage()&&T[r[s].typeId].openAllParents}))}function I(t,n){var i;return t===e.COMP_TYPE.BRANCH?i=e.PROP.BRANCH_POINT:t===e.COMP_TYPE.PAGE_COMPUTATION?i=e.PROP.COMPUTATION_POINT:t===e.COMP_TYPE.PAGE_PROCESS&&(i=e.PROP.PROCESS_POINT),e.getLovTitle(t,i,n)}function C(t,n,i){T(t,{header:{type:"branches",isOpen:!0,omitIfEmpty:i},component:{type:"branch",typeId:e.COMP_TYPE.BRANCH,filter:{properties:[{id:e.PROP.BRANCH_POINT,value:n.point}]},openAllParents:!0}})}function u(t,n,i){var a,o,r,p="inline_",_={isOpen:!0,omitIfEmpty:i};n.hasOwnProperty("regionColumn")?(r=n.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue(),a=function(){var t;return this.getProperty(e.PROP.VALIDATION_REGION).getValue()===n.region.id&&((t=this.getProperty(e.PROP.REGION_VAL_COLUMN))&&t.getValue()===r||this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()===r)}):n.hasOwnProperty("region")?(_.isOpen=!1,a=function(){return!(this.getProperty(e.PROP.VALIDATION_REGION).getValue()!==n.region.id||""!==this.getProperty(e.PROP.ASSOCIATED_COLUMN).getValue()||this.getProperty(e.PROP.REGION_VAL_COLUMN))}):n.hasOwnProperty("pageItem")?(o=n.pageItem.getProperty(e.PROP.ITEM_NAME).getValue(),a=function(){var t;return""===this.getProperty(e.PROP.VALIDATION_REGION).getValue()&&(t=this.getProperty(e.PROP.VAL_ITEM),this.getProperty(e.PROP.ASSOCIATED_ITEM).getValue()===n.pageItem.id||t&&t.getValue()===o)}):(p="",_.isOpen=!0,_.openAllParents=!0),_.type=p+"validations",T(t,{header:_,setFilter:!1,component:{type:p+"validation",typeId:e.COMP_TYPE.VALIDATION,filter:{properties:[],filterFunction:a}}})}function R(t,n,i,a){var o,r=n.hasOwnProperty("pageItem")?"inline_":"",p={type:r+"computations",isOpen:!0,omitIfEmpty:i};n.hasOwnProperty("point")?o={id:e.PROP.COMPUTATION_POINT,value:n.point}:n.hasOwnProperty("pageItem")&&(o={id:e.PROP.COMPUTATION_ITEM_NAME,value:n.pageItem.getProperty(e.PROP.ITEM_NAME).getValue()}),T(t,{header:p,component:{type:r+"computation",typeId:e.COMP_TYPE.PAGE_COMPUTATION,filter:{properties:[o]},openAllParents:a}})}function m(t,n,i,a){var r,p,_=n.hasOwnProperty("region")?"inline_":"";p="ON_DEMAND"!==n.point&&{type:_+"processes",isOpen:!0,omitIfEmpty:i},n.hasOwnProperty("point")?r={id:e.PROP.PROCESS_POINT,value:n.point}:n.hasOwnProperty("region")&&(r={id:e.PROP.PROCESS_REGION,value:n.region.id},p.isOpen=!1),T(t,{header:p,component:{type:_+"process",typeId:e.COMP_TYPE.PAGE_PROCESS,filter:{properties:[r]},addSubComponents:function(t,n){var i=n.getProperty(e.PROP.PAGE_PROCESS_TYPE).getValue();-1!==o.inArray(i,["NATIVE_WEB_SERVICE","NATIVE_WEB_SERVICE_LEGACY"])&&(T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I,filter:{parentId:n.id}}}),"ITEMS"===n.getProperty(e.getPluginProperty(e.COMP_TYPE.PAGE_PROCESS,i,2).id).getValue()&&T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O,filter:{parentId:n.id}}}),T(t,{header:{type:"ws_params",isOpen:!0,omitIfEmpty:!0},setFilter:!1,component:{type:"ws_param",typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A,filter:{parentId:n.id}}}))},openAllParents:a}})}function g(t,i){function a(t,n,i,a){T(t,{header:{title:a,type:"da_actions_"+i,isOpen:!0,omitIfEmpty:!1},setFilter:"header",component:{type:"da_action",typeId:e.COMP_TYPE.DA_ACTION,filter:{parentId:n.id,properties:[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}]}}})}var o,r=!1,p=[],_={title:s("DYNAMIC_ACTIONS"),isOpen:!0,omitIfEmpty:!0};o="inline_",i.hasOwnProperty("regionColumn")?(p.push({id:e.PROP.WHEN_REGION,value:i.region.id}),p.push({id:e.PROP.WHEN_COLUMNS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.regionColumn.getProperty(e.PROP.COLUMN_NAME).getValue())+"($|,|\\s)")})):i.hasOwnProperty("region")?(p.push({id:e.PROP.WHEN_TYPE,value:"REGION"}),p.push({id:e.PROP.WHEN_REGION,value:i.region.id}),_.isOpen=!1):i.hasOwnProperty("pageItem")?p.push({id:e.PROP.WHEN_ITEMS,value:new RegExp("(^|,|\\s)"+n.escapeRegExp(i.pageItem.getProperty(e.PROP.ITEM_NAME).getValue())+"($|,|\\s)")}):i.hasOwnProperty("button")?p.push({id:e.PROP.WHEN_BUTTON,value:i.button.id}):i.hasOwnProperty("event")&&(p.push({id:e.PROP.EVENT,value:i.event}),o="",r="header",""===i.event?_.title=s("UNDEFINED_EVENT"):_.title=e.getLovTitle(e.COMP_TYPE.DA_EVENT,e.PROP.EVENT,i.event),_.idPostfix="_"+i.event,_.omitIfEmpty=!1),_.type=o+"da_events",T(t,{header:_,setFilter:r,component:{type:o+"da_event",typeId:e.COMP_TYPE.DA_EVENT,filter:{properties:p},addSubComponents:function(e,t){a(e,t,"true",s("TRUE")),a(e,t,"false",s("FALSE"))}}})}function A(t,n){var i,a={},o={isOpen:!1,omitIfEmpty:!0};n.hasOwnProperty("region")?(i=e.getRegionTemplate(n.region.id).displayPointsMap.SUB_REGIONS,o.title=i?i.name:s("SUB_REGIONS"),o.type="sub_regions",a.properties=[{id:e.PROP.PARENT_REGION,value:n.region.id}]):n.hasOwnProperty("point")?(o.title=n.point.name,o.type="regions",o.id="rdp_"+n.point.id,o.omitIfEmpty=!n.point.isQuickPick,a.properties=[],a.properties.push({id:e.PROP.PARENT_REGION,value:""}),a.properties.push({id:e.PROP.REGION_POSITION,value:n.point.id})):n.hasOwnProperty("validPointsMap")&&(o.title=s("INVALID_POSITION"),o.type="regions",o.id="invalid_region_dp",o.hasWarnings=!0,a.filterFunction=function(){var t=this.getProperty(e.PROP.REGION_POSITION);return!!t&&!n.validPointsMap.hasOwnProperty(t.getValue())}),T(t,{header:o,setFilter:"header",component:{type:"region",typeId:e.COMP_TYPE.REGION,filter:a,addSubComponents:function(t,n){var i={NATIVE_CARDS:y,NATIVE_IR:N,NATIVE_IG:f,NATIVE_SQL_REPORT:h,NATIVE_FNC_REPORT:h,NATIVE_TABFORM:M,NATIVE_FLASH_MAP:S,NATIVE_FLASH_CHART5:Y,NATIVE_JET_CHART:D,NATIVE_FACETED_SEARCH:v},a=n.getProperty(e.PROP.REGION_TYPE).getValue();n.isOnGlobalPage()||(i.hasOwnProperty(a)?i[a](t,n):b(t,n)),n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&T(t,{header:{type:"region_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"region_web_src_param",typeId:e.COMP_TYPE.REGION_WS_PARAM,filter:{parentId:n.id}}}),G(t,n),L(t,n),u(t,{region:n},!0),g(t,{region:n}),A(t,{region:n})},isOpen:!0,openAllParents:!0,omitIfEmpty:!1}})}function y(t,n){var i=e.getComponents(e.COMP_TYPE.CARD,{parentId:n.id})[0];T(t,{header:{type:"card_actions",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"card_action",typeId:e.COMP_TYPE.CARD_ACTION,filter:{parentId:i.id}}})}function N(t,n){var i=e.getComponents(e.COMP_TYPE.IR_ATTRIBUTES,{parentId:n.id})[0];T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_report_column",typeId:e.COMP_TYPE.IR_COLUMN,filter:{parentId:i.id}}}),T(t,{header:{type:"ir_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_column_group",typeId:e.COMP_TYPE.IR_COLUMN_GROUP,filter:{parentId:i.id}}}),T(t,{header:{type:"ir_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ir_saved_report",typeId:e.COMP_TYPE.IR_SAVED_REPORT,filter:{parentId:i.id}}})}function f(t,n){var i=e.getComponents(e.COMP_TYPE.IG_ATTRIBUTES,{parentId:n.id})[0];T(t,{header:{title:s("REPORT_COLUMNS"),type:"ig_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column",typeId:e.COMP_TYPE.IG_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){u(e,{region:n,regionColumn:t},!0),g(e,{region:n,regionColumn:t})}}}),T(t,{header:{type:"ig_column_groups",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_column_group",typeId:e.COMP_TYPE.IG_COLUMN_GROUP,filter:{parentId:n.id}}}),T(t,{header:{type:"ig_saved_reports",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"ig_saved_report",typeId:e.COMP_TYPE.IG_SAVED_REPORT,filter:{parentId:i.id}}})}function h(t,n){T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"classic_report_column",typeId:e.COMP_TYPE.CLASSIC_RPT_COLUMN,isOpen:!1,filter:{parentId:n.id}}})}function M(t,n){T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"tabform_column",typeId:e.COMP_TYPE.TAB_FORM_COLUMN,isOpen:!1,filter:{parentId:n.id},addSubComponents:function(e,t){u(e,{region:n,regionColumn:t},!0)}}})}function v(t,n){T(t,{header:{title:s("FACETS"),type:"facets",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:[{type:"facet",typeId:e.COMP_TYPE.FACET,isOpen:!1,filter:{parentId:n.id}},{type:"facet_group",typeId:e.COMP_TYPE.FACET_GROUP,isOpen:!0,filter:{parentId:n.id},addSubComponents:function(t,n){T(t,{header:{type:"facet_group_items",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"facet_group_item",typeId:e.COMP_TYPE.FACET_GROUP_ITEM,isOpen:!1,filter:{parentId:n.id}}})}}]}),b(t,n)}function S(t,n){var i=e.getComponents(e.COMP_TYPE.MAP_CHART,{parentId:n.id})[0];T(t,{header:{type:"map_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"map_chart_serie",typeId:e.COMP_TYPE.MAP_CHART_SERIES,filter:{parentId:i.id}}})}function Y(t,n){var i=e.getComponents(e.COMP_TYPE.CHART,{parentId:n.id})[0];T(t,{header:{type:"chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"chart_serie",typeId:e.COMP_TYPE.CHART_SERIES,filter:{parentId:i.id}}})}function D(t,n){var i=e.getComponents(e.COMP_TYPE.JET_CHART,{parentId:n.id})[0],a=i.getProperty(e.PROP.JET_CHART_TYPE).getValue();T(t,{header:{type:"jet_chart_series",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_serie",typeId:e.COMP_TYPE.JET_CHART_SERIES,filter:{parentId:i.id},addSubComponents:function(t,n){n.getProperty(e.PROP.SOURCE_WEB_SRC_QUERY)&&T(t,{header:{type:"jet_chart_web_src_params",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"jet_chart_web_src_param",typeId:e.COMP_TYPE.JET_CHART_WS_PARAM,filter:{parentId:n.id}}})}}}),a in{area:1,bar:1,boxPlot:1,bubble:1,combo:1,gantt:1,line:1,lineWithArea:1,polar:1,radar:1,range:1,scatter:1,stock:1}&&T(t,{header:{type:"jet_chart_axes",isOpen:!0,omitIfEmpty:!1},setFilter:!1,component:{type:"jet_chart_axis",typeId:e.COMP_TYPE.JET_CHART_AXES,filter:{parentId:i.id}}})}function b(t,n){var i=e.getComponentType(e.COMP_TYPE.REGION_PLUGIN_ATTR).pluginType.plugins,a=n.getProperty(e.PROP.REGION_TYPE).getValue();-1!==o.inArray("COLUMNS",i[a].features)&&T(t,{header:{title:s("REPORT_COLUMNS"),type:"region_columns",isOpen:!1,omitIfEmpty:!1},setFilter:!1,component:{type:"region_column",typeId:e.COMP_TYPE.REGION_COLUMN,filter:{parentId:n.id}}})}function G(t,n){T(t,{header:{type:"page_items",isOpen:!1,omitIfEmpty:!0,title:s("ITEMS")},setFilter:"header",component:[{type:"page_item",typeId:e.COMP_TYPE.PAGE_ITEM,isOpen:!1,openAllParents:!0,filter:{properties:[{id:e.PROP.REGION,value:n instanceof e.Component?n.id:""}]},addSubComponents:function(e,t){u(e,{pageItem:t},!0),g(e,{pageItem:t}),R(e,{pageItem:t},!0)}},{type:"form_button",typeId:e.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{properties:[{id:e.PROP.REGION,value:n instanceof e.Component?n.id:""},{id:e.PROP.BUTTON_POSITION,value:"BODY"}]},addSubComponents:function(e,t){g(e,{button:t})}}]})}function L(t,n){var i=n instanceof e.Component?n.id:"";T(t,{header:{type:"region_buttons",isOpen:!1,omitIfEmpty:!0,title:s("REGION_BUTTONS")},component:{type:"region_button",typeId:e.COMP_TYPE.BUTTON,isOpen:!1,openAllParents:!0,filter:{filterFunction:function(){return this.getProperty(e.PROP.REGION).getValue()===i&&"BODY"!==this.getProperty(e.PROP.BUTTON_POSITION).getValue()}},addSubComponents:function(e,t){g(e,{button:t})}}})}function V(){var t,n;return(t=c(void 0,{component:(n=e.getComponents(e.COMP_TYPE.PAGE))[0],type:"page",title:E("PAGE_TITLE",n[0].id,n[0].getDisplayTitle()),isHeader:!1,isOpen:!0})).data[e.PROP.COMPUTATION_POINT]="BEFORE_BOX_BODY",t.data[e.PROP.PROCESS_POINT]="AFTER_HEADER",t.data[e.PROP.BRANCH_POINT]="BEFORE_HEADER",t.data[e.PROP.REGION_POSITION]="BODY",t.data[e.PROP.BUTTON_POSITION]="BELOW_BOX",function(t){var n,i,a,r,p=e.isGlobalPage();r=e.getPageTemplate(),n=d(t,{title:s("PRE_RENDERING"),type:"pre_rendering",showHasComponents:!0,omitIfEmpty:!0}),p||(R(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"ON_NEW_INSTANCE"),type:"on_new_instance",isOpen:!0,omitIfEmpty:!0}),{point:"ON_NEW_INSTANCE"},!0),m(a,{point:"ON_NEW_INSTANCE"},!0),C(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_HEADER"),type:"before_header",isOpen:!0}),{point:"BEFORE_HEADER"},!0),R(a,{point:"BEFORE_HEADER"},!0),m(a,{point:"BEFORE_HEADER"},!0));a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_HEADER"),type:"after_header",isOpen:!0,omitIfEmpty:p}),p||(R(a,{point:"AFTER_HEADER"},!0),m(a,{point:"AFTER_HEADER"},!0));A(a,{point:{id:"AFTER_HEADER"}}),p||(R(a=d(n,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_BOX_BODY"),type:"before_regions",isOpen:!0}),{point:"BEFORE_BOX_BODY"},!0),m(a,{point:"BEFORE_BOX_BODY"},!0));a=d(t,{title:e.getComponentType(e.COMP_TYPE.REGION).title.plural,type:"main_regions",isOpen:!0});for(var _=0;_<r.displayPoints.length;_++)-1===o.inArray(r.displayPoints[_].id,["AFTER_HEADER","BEFORE_FOOTER"])&&A(a,{point:r.displayPoints[_]});A(a,{validPointsMap:r.displayPointsMap}),G(a=d(t,{title:s("NO_REGION"),type:"no_region",hasWarnings:!0,isOpen:!0,omitIfEmpty:!0}),null),L(a,null),i=d(t,{title:s("POST_RENDERING"),type:"post_rendering",showHasComponents:!0}),p||(R(a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_BOX_BODY"),type:"after_regions",isOpen:!0}),{point:"AFTER_BOX_BODY"},!0),m(a,{point:"AFTER_BOX_BODY"},!0));a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"BEFORE_FOOTER"),type:"before_footer",isOpen:!0}),p||(R(a,{point:"BEFORE_FOOTER"},!0),m(a,{point:"BEFORE_FOOTER"},!0));A(a,{point:{id:"BEFORE_FOOTER",name:e.getComponentType(e.COMP_TYPE.REGION).title.plural}}),p||(R(a=d(i,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_FOOTER"),type:"after_footer",isOpen:!0}),{point:"AFTER_FOOTER"},!0),m(a,{point:"AFTER_FOOTER"},!0))}(t),O(t),t}function U(){var t,n,i={id:"da",children:[],state:{},commands:{omitIfEmpty:!1}},a={ready:!0,change:!0,click:!0,apexafterclosedialog:!0};function o(t,n,i,a){var o=[{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:i.toUpperCase()}];"ready"!==n.getProperty(e.PROP.EVENT).getValue()&&o.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}),T(t,{header:{title:a,type:"page_load_da_actions_"+i,isOpen:!0,omitIfEmpty:!0},setFilter:"header",component:{type:"page_load_da_action",typeId:e.COMP_TYPE.DA_ACTION,isPlain:!0,filter:{parentId:n.id,properties:o}}})}T(i,{header:{title:s("FIRED_ON_PAGE_LOAD"),type:"page_load_da_events",isOpen:!1,omitIfEmpty:!0},setFilter:!1,component:{type:"page_load_da_event",typeId:e.COMP_TYPE.DA_EVENT,isPlain:!0,filter:{filterFunction:function(){var t=!0;return"ready"!==this.getProperty(e.PROP.EVENT).getValue()&&(t=this.getChilds(e.COMP_TYPE.DA_ACTION,{properties:[{id:e.PROP.FIRE_ON_PAGE_LOAD,value:"Y"}]},!1).length>0),t}},addSubComponents:function(e,t){o(e,t,"true",s("TRUE")),o(e,t,"false",s("FALSE"))}}}),t=d(i,{title:s("EVENTS"),type:"da_events",isOpen:!0,filter:{properties:[{id:e.PROP.EVENT,value:""}]}}),n=e.getComponents(e.COMP_TYPE.DA_EVENT,{});for(var r=0;r<n.length;r++)a[n[r].getProperty(e.PROP.EVENT).getValue()]=!0;for(var p in a)a.hasOwnProperty(p)&&g(t,{event:p});return O(i),i}function F(){var t={id:"rd",children:[],state:{},commands:{omitIfEmpty:!1}};return function(t){var n;if(e.isGlobalPage())return;m(n=d(t,{title:I(e.COMP_TYPE.PAGE_COMPUTATION,"AFTER_SUBMIT"),type:"after_submit"}),{point:"ON_SUBMIT_BEFORE_COMPUTATION"},!0,!0),C(n,{point:"BEFORE_COMPUTATION"},!0),R(n,{point:"AFTER_SUBMIT"},!0,!0),C(n=d(t,{title:I(e.COMP_TYPE.BRANCH,"BEFORE_VALIDATION"),type:"validating"}),{point:"BEFORE_VALIDATION"},!0),u(n,{},!0),C(n=d(t,{title:I(e.COMP_TYPE.PAGE_PROCESS,"AFTER_SUBMIT"),type:"processing",isOpen:!0}),{point:"BEFORE_PROCESSING"},!0),m(n,{point:"AFTER_SUBMIT"},!0,!0),C(n=d(t,{title:I(e.COMP_TYPE.BRANCH,"AFTER_PROCESSING"),type:"after_processing",isOpen:!0}),{point:"AFTER_PROCESSING"},!0),m(n=d(t,{title:I(e.COMP_TYPE.PAGE_PROCESS,"ON_DEMAND"),id:"ajax_callbacks",type:"processes",isOpen:!0}),{point:"ON_DEMAND"},!1,!0)}(t),O(t),t}function x(){function t(t,n,i){var a,r,p,_,P,s,c,l=e.getComponentType(n.typeId);c=d(t,{title:n.title||(n.titleTypeId?e.getComponentType(n.titleTypeId).title.singular:l.title.plural),type:n.type+"s",isOpen:!1,omitIfEmpty:i,data:{typeId:n.typeId}}),a=B(n.typeId),s={};for(var O=0;O<a.length;O++){r=e.getComponents(a[O].typeId,{});for(var I=0;I<r.length;I++)P=!1,a[O].typeId===e.COMP_TYPE.PAGE&&-1!==o.inArray(a[O].propertyId,[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.NAVIGATION_LIST,e.PROP.TAB_SET])?!r[I].getProperty(a[O].propertyId)||a[O].propertyId!==e.PROP.PAGE_TEMPLATE&&a[O].propertyId!==e.PROP.DIALOG_TEMPLATE||(P=!0,_=e.getPageTemplate().id):(p=r[I].getProperty(a[O].propertyId))&&""!==(_=p.getValue())&&(n.typeId!==e.COMP_TYPE.BUILD_OPTION&&n.typeId!==e.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(_)||(_=_.substr(1)),P=!0),P&&""!==_&&(s.hasOwnProperty(_)||(s[_]={}),s[_].hasOwnProperty(a[O].typeId)||(s[_][a[O].typeId]=[]),s[_][a[O].typeId].push(r[I]))}for(var C in s)s.hasOwnProperty(C)&&T(c,{header:!1,component:{type:n.type,typeId:n.typeId,isOpen:!1,filter:{id:C,properties:[]},addSubComponents:function(t){var n,i;for(var a in s[C])if(s[C].hasOwnProperty(a)){n=e.getComponentType(a),i=d(t,{title:E("REFERENCED_BY",1===s[C][n.id].length?n.title.singular:n.title.plural),type:"references",isOpen:!0,omitIfEmpty:!1});for(var o=0;o<s[C][n.id].length;o++)T(i,{header:!1,component:{type:"referenced_by",typeId:n.id,isPlain:!0,filter:{id:s[C][n.id][o].id,properties:[]}}})}}}});return c}var n={id:"sd",children:[],state:{},commands:{omitIfEmpty:!1}};return function n(i,a,r){for(var p,_,P=!1,s=0;s<a.length;s++)-1!==o.inArray(a[s].type,["navigation_menu_list","navigation_bar_list","nav_list_template","tab_set"])?("navigation_menu_list"===a[s].type?(_=e.getNavListId(),P=!0):"navigation_bar_list"===a[s].type?(_=e.getNavBarListId(),P=!0):"nav_list_template"===a[s].type?_=e.getNavListTemplateId():"tab_set"===a[s].type&&(_=e.getTabSetId()),_&&T(i,{header:{title:a[s].title,type:a[s].type+"s",isOpen:P,omitIfEmpty:!0,data:{typeId:a[s].typeId}},component:{type:a[s].type,typeId:a[s].typeId,isOpen:!1,filter:{id:_,properties:[]}}})):p=a[s].hasOwnProperty("typeId")?t(i,a[s],r):d(i,{title:a[s].title,type:a[s].type+"s",isOpen:!0,omitIfEmpty:r}),a[s].children&&n(p,a[s].children,!0)}(n,P,!1),O(n),n}function B(t){for(var n,i,a=e.getComponentType(t),o=[],r=0;r<a.refByProperties.length;r++){n=e.getProperty(a.refByProperties[r]);for(var p=0;p<n.refByComponentTypes.length;p++)((i=e.getComponentType(n.refByComponentTypes[p])).isPageComponent||i.id===e.COMP_TYPE.PAGE)&&o.push({typeId:i.id,propertyId:n.id})}return o}function H(t){function n(e){var n;e.hasOwnProperty("value")?i.push({id:e.id,value:e.value}):e.typeId?(n=Q(e.typeId,t._parent),i.push({id:e.id,value:n?n.id:""})):e.id&&i.push({id:e.id,value:$(e.id,t._parent)+""})}var i=[];switch(t.type){case"region":"regions"===t._parent.type?(n({id:e.PROP.PARENT_REGION,value:""}),n({id:e.PROP.REGION_POSITION})):n({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION});break;case"page_item":n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});break;case"form_button":case"region_button":n({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),n({id:e.PROP.BUTTON_POSITION});break;case"da_action":n({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),n({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS});break;case"computation":n({id:e.PROP.COMPUTATION_POINT});break;case"process":n({id:e.PROP.PROCESS_POINT});break;case"branch":n({id:e.PROP.BRANCH_POINT});break;case"facet_group_item":n({id:e.PROP.FACET_GROUP,typeId:e.COMP_TYPE.FACET_GROUP}),n({id:e.PROP.FACET_REGION,typeId:e.COMP_TYPE.REGION})}return i}function w(e,t,n,i){var a,r,p=[],_=o(),P=n;if(n||"PDdynamicActionTree"!==t[0].id||(P="da_da_events"),i){for(r=0;r<e.length;r++)_=_.add(j(e[r],t,P));t.treeView("setSelection",_)}else{for(r=0;r<e.length;r++)(a=J(e[r],t,P))&&p.push(a);t.treeView("setSelectedNodes",p,!1,!0)}}function W(t,n,i,a){var r,p,_,P,E,c,l,d,O,T=X(t),I=[];function C(e){var n;e.hasOwnProperty("value")?I.push({id:e.id,value:e.value}):e.typeId?(n=Q(e.typeId,t),I.push({id:e.id,value:n?n.id:""})):e.id&&I.push({id:e.id,value:$(e.id,t)+""})}if(i===e.COMP_TYPE.REGION)"SUB_REGION"===a?C({id:e.PROP.PARENT_REGION,typeId:e.COMP_TYPE.REGION}):T&&""!==T.getProperty(e.PROP.PARENT_REGION).getValue()?C({id:e.PROP.PARENT_REGION}):C({id:e.PROP.REGION_POSITION});else if(i===e.COMP_TYPE.PAGE_ITEM)C({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION});else if(i===e.COMP_TYPE.BUTTON)C({id:e.PROP.REGION,typeId:e.COMP_TYPE.REGION}),C({id:e.PROP.BUTTON_POSITION});else if(i===e.COMP_TYPE.PAGE_COMPUTATION)(p=Q(e.COMP_TYPE.PAGE_ITEM,t))?(C({id:e.PROP.COMPUTATION_ITEM_NAME,value:p.getProperty(e.PROP.ITEM_NAME).getValue()}),C({id:e.PROP.COMPUTATION_POINT,value:"BEFORE_BOX_BODY"})):C({id:e.PROP.COMPUTATION_POINT});else if(i===e.COMP_TYPE.PAGE_PROCESS)C({id:e.PROP.PROCESS_POINT});else if(i===e.COMP_TYPE.VALIDATION){if(p=Q([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.REGION,e.COMP_TYPE.TAB_FORM_COLUMN,e.COMP_TYPE.IG_COLUMN],t))switch(p.typeId){case e.COMP_TYPE.PAGE_ITEM:C({id:e.PROP.ASSOCIATED_ITEM,value:p.id});break;case e.COMP_TYPE.REGION:C({id:e.PROP.VALIDATION_REGION,value:p.id});break;case e.COMP_TYPE.TAB_FORM_COLUMN:case e.COMP_TYPE.IG_COLUMN:_=p.getProperty(e.PROP.COLUMN_NAME).getValue(),C({id:e.PROP.VALIDATION_REGION,value:p.parentId}),C({id:e.PROP.ASSOCIATED_COLUMN,value:_}),C({id:e.PROP.REGION_VALIDATION_TYPE,value:"ITEM_NOT_NULL"}),C({id:e.PROP.REGION_VAL_COLUMN,value:_}),C({id:e.PROP.ERROR_MESSAGE,value:s("COLUMN_NOT_NULL_VALIDATION")})}}else if(i===e.COMP_TYPE.BRANCH)C({id:e.PROP.BRANCH_POINT});else if(i===e.COMP_TYPE.DA_EVENT)if(p=Q([e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE,e.COMP_TYPE.IG_COLUMN],t))switch(p.typeId){case e.COMP_TYPE.PAGE_ITEM:C({id:e.PROP.EVENT,value:"change"}),C({id:e.PROP.WHEN_TYPE,value:"ITEM"}),C({id:e.PROP.WHEN_ITEMS,value:p.getProperty(e.PROP.ITEM_NAME).getValue()});break;case e.COMP_TYPE.BUTTON:-1!==o.inArray(p.getProperty(e.PROP.BUTTON_ACTION).getValue(),["REDIRECT_PAGE","REDIRECT_APP"])?C({id:e.PROP.EVENT,value:"apexafterclosedialog"}):C({id:e.PROP.EVENT,value:"click"}),C({id:e.PROP.WHEN_TYPE,value:"BUTTON"}),C({id:e.PROP.WHEN_BUTTON,value:p.id});break;case e.COMP_TYPE.REGION:C({id:e.PROP.EVENT,value:"apexafterrefresh"}),C({id:e.PROP.WHEN_TYPE,value:"REGION"}),C({id:e.PROP.WHEN_REGION,value:p.id});break;case e.COMP_TYPE.PAGE:C({id:e.PROP.EVENT,value:"ready"});break;case e.COMP_TYPE.IG_COLUMN:C({id:e.PROP.EVENT,value:"change"}),C({id:e.PROP.WHEN_TYPE,value:"COLUMN"}),C({id:e.PROP.WHEN_REGION,value:p.parentId}),C({id:e.PROP.WHEN_COLUMNS,value:p.getProperty(e.PROP.COLUMN_NAME).getValue()})}else C({id:e.PROP.EVENT});else i===e.COMP_TYPE.DA_ACTION?(C({id:e.PROP.DA_EVENT,typeId:e.COMP_TYPE.DA_EVENT}),C(void 0!==a?{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:a}:{id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS})):i===e.COMP_TYPE.TAB_FORM_COLUMN||i===e.COMP_TYPE.CLASSIC_RPT_COLUMN?(r=(p=Q(e.COMP_TYPE.REGION,t)).id,P=p.getChilds(i),C({id:e.PROP.QUERY_COLUMN_ID,value:P.length+1}),C({id:e.PROP.DERIVED_COLUMN,value:"Y"}),C({id:e.PROP.DISABLE_SORT_COLUMN,value:"Y"}),"ROW_SELECTOR"===a?(C({id:e.PROP.COLUMN_NAME,value:"CHECK$01"}),C({id:e.PROP.TAB_FORM_COLUMN_TYPE,value:"ROW_SELECTOR"}),C({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"})):"VIRTUAL"===a&&(P=p.getChilds(i,{properties:[{id:e.PROP.DERIVED_COLUMN,value:"Y"}]},(function(t,n){return t.getProperty(e.PROP.COLUMN_NAME).getValue()>n.getProperty(e.PROP.COLUMN_NAME).getValue()?1:-1})),C({id:e.PROP.COLUMN_NAME,value:"DERIVED$"+(P.length<8?"0":"")+(P.length+1)}),C({id:i===e.COMP_TYPE.TAB_FORM_COLUMN?e.PROP.TAB_FORM_COLUMN_TYPE:e.PROP.CLASSIC_REPORT_COLUMN_TYPE,value:"LINK"}),C({id:e.PROP.COLUMN_HEADING,value:"&nbsp;"}))):i===e.COMP_TYPE.IG_COLUMN?(r=(p=Q(e.COMP_TYPE.REGION,t)).id,C({id:e.PROP.ITEM_TYPE,value:"NATIVE_DISPLAY_ONLY"}),C({id:e.PROP.IG_COLUMN_SOURCE_TYPE,value:"SQL_EXPRESSION"})):i===e.COMP_TYPE.CARD_ACTION?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CARD)[0].id:i===e.COMP_TYPE.IR_COLUMN_GROUP?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.IR_ATTRIBUTES)[0].id:i===e.COMP_TYPE.IG_COLUMN_GROUP?r=Q(e.COMP_TYPE.REGION,t).id:i===e.COMP_TYPE.CHART_SERIES?(r=(p=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CHART)[0]).id,C({id:e.PROP.SERIES_CHART_TYPE,value:p.getProperty(e.PROP.CHART_TYPE).getValue()})):i===e.COMP_TYPE.JET_CHART_SERIES?(r=(p=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0]).id,C({id:e.PROP.SERIES_CHART_TYPE,value:p.getProperty(e.PROP.JET_CHART_TYPE).getValue()})):i===e.COMP_TYPE.MAP_CHART_SERIES?r=Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.MAP_CHART)[0].id:i===e.COMP_TYPE.FACET||i===e.COMP_TYPE.FACET_GROUP?r=(p=Q(e.COMP_TYPE.REGION,t)).id:i===e.COMP_TYPE.FACET_GROUP_ITEM&&(r=(p=Q(e.COMP_TYPE.FACET_GROUP,t)).id,C({id:e.PROP.FACET_REGION,typeId:e.COMP_TYPE.REGION}));T&&(E=t._parent.id),d=i===e.COMP_TYPE.TAB_FORM_COLUMN&&"ROW_SELECTOR"===a?void 0:i===e.COMP_TYPE.DA_EVENT?"last":T||"last",O=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:i}),c=e.transaction.start("",O),l=new e.Component({previousComponent:d,typeId:i,parentId:r,values:I}),i===e.COMP_TYPE.DA_EVENT&&("apexafterclosedialog"===l.getProperty(e.PROP.EVENT).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_REFRESH"},{id:e.PROP.AFFECTED_TYPE,value:"REGION"},{id:e.PROP.AFFECTED_REGION,value:p?p.getProperty(e.PROP.REGION).getValue():""}]}):l.getProperty(e.PROP.WHEN_TYPE)&&"COLUMN"===l.getProperty(e.PROP.WHEN_TYPE).getValue()?new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_ENABLE"},{id:e.PROP.AFFECTED_TYPE,value:"COLUMN"}]}):new e.Component({typeId:e.COMP_TYPE.DA_ACTION,parentId:l.id,values:[{id:e.PROP.DA_ACTION_TYPE,value:"NATIVE_SHOW"},{id:e.PROP.AFFECTED_TYPE,value:"ITEM"}]})),apex.commandHistory.execute(c),w([l],n,E,!0)}function k(t){for(var n=t.treeView("getSelectedNodes"),i=[],a=0;a<n.length;a++)n[a].data&&n[a].data.hasOwnProperty("componentId")&&i.push(e.getComponents(n[a].data.typeId,{id:n[a].data.componentId})[0]);return i}function j(e,t,n){var i;return n&&(i=t.treeView("find",{depth:-1,match:function(e){return e.id===n}})),t.treeView("find",{parentNodeContent$:i,depth:-1,findAll:!0,match:function(t){return t.data.typeId===e.typeId&&t.data.componentId===e.id}})}function J(e,t,n){return t.treeView("getNodes",j(e,t,n))[0]}function X(t,n){var i,a=[];return(i=t instanceof jQuery?n.treeView("getNodes",t)[0]:t).data&&i.data.typeId&&i.data.componentId&&(a=e.getComponents(i.data.typeId,{id:i.data.componentId})),1===a.length?a[0]:void 0}function Q(e,t){var n,i=o.isArray(e)?e:[e];return t&&(void 0===(n=X(t))||n&&-1===o.inArray(n.typeId,i))&&(n=Q(i,t._parent)),n}function $(e,t){return t?t.data.hasOwnProperty(e)?t.data[e]:$(e,t._parent):""}function K(e,t,n){j(e,t).each((function(){var e=o(this);n.call(function(e,t){return t.treeView("getNodes",e)}(e,t)[0]),t.treeView("update",e)}))}function z(t){return o.inArray(t.typeId,e.NO_NODE_COMP_TYPES)>-1?z(t.getParent()):t}function Z(e,t,n){K(z(e),n,(function(){this.data&&this.data.isPlain||(this.classes+=" "+t)}))}function q(e,t,n){K(z(e),n,(function(){this.classes=o.grep(this.classes.split(" "),(function(e){return e!==t})).join(" ")}))}function ee(n,i){var a=n(),r=o.apex.treeView.makeDefaultNodeAdapter(a,function(){function t(t){var n=X(t);return e.getComponents(n.typeId,{parentId:n.parentId}).length>1}function n(t){return"CHECK$01"!==X(t).getProperty(e.PROP.COLUMN_NAME).getValue()}function i(t){return-1===o.inArray(Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.CHART)[0].getProperty(e.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])}function a(t){return-1===o.inArray(Q(e.COMP_TYPE.REGION,t).getChilds(e.COMP_TYPE.JET_CHART)[0].getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])}return{default:{operations:{canAdd:!1,canDuplicate:!1,canDelete:!1,canRename:!1,canDrag:!1,canSearch:!1,canExtCreate:!1,canExtEdit:!1,canExtCopy:!1}},page:{icon:"icon-tree-page"},validations:{operations:{canAdd:!0},validChildren:["validation"]},validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canDrag:!0,canExtCopy:!0}},inline_validations:{validChildren:["inline_validation"]},inline_validation:{icon:"icon-tree-validation",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},pre_rendering:{},post_rendering:{},main_computations:{validChildren:["computations"]},computations:{operations:{canAdd:!0},validChildren:["computation"]},computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},inline_computations:{validChildren:["inline_computation"]},inline_computation:{icon:"icon-tree-computation",operations:{canDuplicate:!0,canDelete:!0,canExtCopy:!0,canSearch:!0}},main_processes:{validChildren:["processes"]},processes:{operations:{canAdd:!0},validChildren:["process"]},process:{icon:"icon-tree-process",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},after_submit:{},processing:{},after_processing:{},validating:{},after_header:{},before_header:{},before_regions:{},after_regions:{},before_footer:{},after_footer:{},main_branches:{validChildren:["branches"]},branches:{operations:{canAdd:!0},validChildren:["branch"]},branch:{icon:"icon-tree-branch",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_regions:{validChildren:["regions"]},regions:{operations:{canAdd:!0},validChildren:["region"]},sub_regions:{operations:{canAdd:!0},validChildren:["region"]},region:{icon:"icon-tree-region",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["page_items","region_buttons","inline_da_events","region_columns","ig_columns","chart_series","map_chart_series","svg_chart_series","jet_chart_series","jet_chart_axes","facets","ir_column_groups","ir_saved_reports","ig_column_groups","ig_saved_reports","region","page_item","region_button"]},main_page_items:{validChildren:["page_items"]},page_items:{operations:{canAdd:!0},validChildren:["page_item","region_button","form_button"]},page_item:{icon:"icon-tree-item",operations:{canAdd:!0,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0,canSearch:!0},validChildren:["computations","inline_validations","inline_da_events","computation"]},form_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canExtCopy:!0}},region_columns:{operations:{canAdd:!0},validChildren:["classic_report_column","ir_report_column","tabform_column","region_column"]},classic_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDuplicate:!1,canDelete:t,canDrag:n,drag:{normal:"move"}}},classic_report_attributes:{},tabform_attributes:{},region_plugin_attributes:{},card_actions:{operations:{canAdd:!0},validChildren:["card_action"]},card_action:{icon:"icon-tree-col-group",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0}},ir_attributes:{validChildren:["ir_column_groups","ir_saved_reports"]},ir_column_groups:{operations:{canAdd:!0},validChildren:["ir_column_group"]},ir_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ir_saved_reports:{validChildren:["ir_saved_report"]},ir_saved_report:{icon:"icon-tree-saved-report"},ir_report_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDelete:t,canDrag:!0}},ig_column_groups:{operations:{canAdd:!0},validChildren:["ig_column_group"]},ig_column_group:{icon:"icon-tree-col-group",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0}},ig_saved_reports:{validChildren:["ig_saved_report"]},ig_saved_report:{icon:"icon-tree-saved-report"},ig_columns:{operations:{canAdd:!0},validChildren:["ig_column"]},ig_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},tabform_column:{icon:"icon-tree-item",operations:{canRename:!1,canDrag:n,canDelete:function(t){return"Y"===X(t).getProperty(e.PROP.DERIVED_COLUMN).getValue()}}},region_column:{icon:"icon-tree-report-column",operations:{canRename:!1,canDrag:!0,canDelete:t}},facets:{operations:{canAdd:!0},validChildren:["facet","facet_group"]},facet:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},facet_group:{icon:"icon-item-native-checkbox",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!1},validChildren:["facet_group_items"]},facet_group_items:{operations:{canAdd:!0},validChildren:["facet_group_item"]},facet_group_item:{icon:"icon-tree-report-column",operations:{canAdd:!1,canDuplicate:!0,canDrag:!0,canRename:!1,canDelete:!0,canSearch:!0}},chart_attributes:{validChildren:["chart_series"]},chart_series:{operations:{canAdd:i},validChildren:["chart_serie"]},chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:i,canDuplicate:function(t){return-1===o.inArray(X(t).getParent().getProperty(e.PROP.CHART_TYPE).getValue(),["DOUGHNUT","PIE","DIAL","CANDLESTICK","PROJECT_GANTT","RESOURCE_GANTT"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_series:{operations:{canAdd:a},validChildren:["jet_chart_serie"]},jet_chart_serie:{icon:"icon-tree-chart-series",operations:{canAdd:a,canDuplicate:function(t){return-1===o.inArray(X(t).getParent().getProperty(e.PROP.JET_CHART_TYPE).getValue(),["dial","stock","gantt"])},canDelete:function(t){return e.getComponents(e.COMP_TYPE.JET_CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},jet_chart_axes:{validChildren:["jet_chart_axis"]},jet_chart_axis:{},map_chart_series:{operations:{canAdd:!0},validChildren:["map_chart_serie"]},map_chart_serie:{icon:"icon-tree-map-series",operations:{canDuplicate:!0,canDelete:function(t){return e.getComponents(e.COMP_TYPE.MAP_CHART_SERIES,{parentId:X(t).parentId}).length>1},canRename:!0,canDrag:!0,drag:{normal:"move"}}},region_web_src_params:{validChildren:["region_web_src_param"]},jet_chart_web_src_params:{validChildren:["jet_chart_web_src_param"]},main_buttons:{validChildren:["region_buttons"]},region_buttons:{operations:{canAdd:!0},validChildren:["region_button","form_button"]},region_button:{icon:"icon-tree-button",operations:{canDuplicate:!0,canDrag:!0,canRename:!0,canDelete:!0,canExtCopy:!0}},main_da_events:{validChildren:["da_events"]},da_events:{validChildren:["da_event"]},da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},da_actions_true:{operations:{canAdd:!0},validChildren:["da_action"]},da_actions_false:{operations:{canAdd:!0},validChildren:["da_action"]},da_action:{icon:"icon-tree-da-action",operations:{canDuplicate:!0,canDrag:!0,canDelete:!0}},inline_da_events:{validChildren:["inline_da_event"]},inline_da_event:{icon:"icon-tree-da-event",operations:{canDuplicate:!0,canRename:!0,canDelete:!0,canExtCopy:!0},validChildren:["da_actions_true","da_actions_false"]},page_load_da_events:{operations:{canAdd:!0},validChildren:["page_load_da_event"]},page_load_da_event:{icon:"icon-tree-da-event",operations:{canDrag:!0,drag:{normal:"move"}}},tab_sets:{},tab_set:{icon:"icon-tree-tabs",operations:{canExtEdit:!0}},lovs:{operations:{canExtCreate:!0}},lov:{icon:"icon-tree-lov",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumbs:{operations:{canExtCreate:!0}},breadcrumb:{icon:"icon-tree-breadcrumb",operations:{canExtCreate:!0,canExtEdit:!0}},lists:{operations:{canExtCreate:!0}},list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_menu_lists:{operations:{canExtCreate:!0}},navigation_menu_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},navigation_bar_lists:{operations:{canExtCreate:!0}},navigation_bar_list:{icon:"icon-tree-list",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},templates:{},page_templates:{operations:{canExtCreate:!0}},page_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},field_templates:{operations:{canExtCreate:!0}},field_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},button_templates:{operations:{canExtCreate:!0}},button_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},region_templates:{operations:{canExtCreate:!0}},region_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},list_templates:{operations:{canExtCreate:!0}},list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},nav_list_templates:{operations:{canExtCreate:!0}},nav_list_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},breadcrumb_templates:{operations:{canExtCreate:!0}},breadcrumb_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},calendar_templates:{operations:{canExtCreate:!0}},calendar_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},report_templates:{operations:{canExtCreate:!0}},report_template:{icon:"icon-tree-templates",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},authorizations:{operations:{canExtCreate:!0}},authorization:{icon:"icon-tree-authorization",operations:{canExtCreate:!0,canExtEdit:!0,canExtCopy:!0}},plugins:{},plugin:{icon:"icon-tree-plugin"},build_options:{operations:{canExtCreate:!0}},build_option:{icon:"icon-tree-build-option",operations:{canExtCreate:!0,canExtEdit:!0}},data_load_tables:{},data_load_table:{icon:"icon-tree-data-load-table",operations:{canExtEdit:!0}},web_services:{operations:{canExtCreate:!0}},web_service:{icon:"icon-tree-web-service",operations:{canExtCreate:!0}},references:{},referenced_by:{operations:{canRename:!0}}}}(),!0,function(e){var t=[];function n(e){return!(!i||!0!==i[e.id])||!(!e.state||!e.state.opened||i&&!1===i[e.id])}return n(e)&&t.push(e.id),function e(i){for(var a=0;a<i.length;a++)n(i[a])&&t.push(i[a].id),i[a].children&&e(i[a].children)}(e.children),t}(a));return r.sortCompare=null,r.defaultGetIcon=r.getIcon,r.getIcon=function(n){if(n.data){if(n.data.typeId===e.COMP_TYPE.REGION)return t.getComponentIconClass("region",X(n).getProperty(e.PROP.REGION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.PAGE_ITEM)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.FACET)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.FACET_GROUP_ITEM)return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.BUTTON)return t.getComponentIconClass("button","Y"===X(n).getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal");if(n.data.typeId===e.COMP_TYPE.CARD_ACTION)return t.getComponentIconClass("card-action",X(n).getProperty(e.PROP.CARD_ACTION_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.CLASSIC_RPT_COLUMN)return t.getComponentIconClass("col",X(n).getProperty(e.PROP.CLASSIC_REPORT_COLUMN_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IR_COLUMN)return t.getComponentIconClass("col",X(n).getProperty(e.PROP.IR_COLUMN_DISPLAY_TYPE).getValue());if(n.data.typeId===e.COMP_TYPE.IG_COLUMN){if("Y"===X(n).getParent().getChilds(e.COMP_TYPE.IG_ATTRIBUTES,{})[0].getProperty(e.PROP.IS_EDITABLE).getValue())return t.getComponentIconClass("item",X(n).getProperty(e.PROP.ITEM_TYPE).getValue())}else if(n.data.typeId===e.COMP_TYPE.JET_CHART_AXES)return"icon-"+X(n).getProperty(e.PROP.NAME).getValue().toLowerCase()+"-axis"}return this.defaultGetIcon(n)},r.extraCheck=function(t,n,i,a,r){var p,_;if(t){if(-1!==o.inArray(n,["canDelete","canRename","canDrag","canDuplicate"]))return(p=X(i))&&!p.isReadOnly()&&!e.isPageReadOnly();if("canAdd"===n&&e.isPageReadOnly())return!1;if("canAdd"===n&&"move"===a&&-1!==o.inArray(i.type,["region_columns","ig_columns","ir_column_groups","ig_column_groups","facets","chart_series","map_chart_series","jet_chart_series","jet_chart_axes"])&&r){for(_=0;_<r.length;_++)if(r[_]._parent&&r[_]._parent!==i)return!1}else if("canAdd"===n&&"move"===a&&"facet_group_items"===i.type&&r)for(_=0;_<r.length;_++)if(r[_]._parent&&r[_]._parent._parent._parent!==i._parent._parent)return!1}return t},r.renderNodeContent=function(e,n,i,a){var o,r,p;i.nodeSelector>0&&n.markup('<span class="u-selector"></span>'),null!==(o=this.getIcon(e))&&n.markup("<span").attr("class","a-Icon "+o).markup("></span>"),(r=this.getClasses(e))&&(r.indexOf(t.CSS.IS_ERROR)>=0?p="icon-error":r.indexOf(t.CSS.IS_WARNING)>=0&&(p="icon-warning")),n.markup("<span role='treeitem' class='a-TreeView-label' tabIndex='-1'").attr("aria-level",a.level).optionalAttr("aria-selected",a.selected?"true":"false").optionalAttr("aria-disabled",a.disabled?"true":null).optionalAttr("aria-expanded",!1===a.hasChildren?null:a.expanded?"true":"false").markup(">"),p&&n.markup("<span class='a-Icon ").attr(p).markup("'></span>"),n.content(this.getLabel(e)).markup("</span>")},function(){return r}}function te(n,a,r){n.treeView({getNodeAdapter:ee(a),showRoot:r,collapsibleRoot:!1,expandRoot:!1,contextMenu:ie(n),contextMenuId:n[0].id+"Menu",multiple:!0,doubleClick:"toggle",clickToRename:!1,keyboardRename:!1,keyboardAdd:!1,keyboardDelete:!0,tooltip:{show:apex.tooltipManager.defaultShowOption(),content:function(e,n){var i=X(n);if(i)return t.tooltipContentForComponent(i)}},dragAndDrop:!0,dragMultiple:!0,dragReorder:!0,delay:10,distance:5,dragAppendTo:document.body,dragCursor:"move",dragOpacity:.6,dragCursorAt:{left:10,bottom:10},dragAnimate:!1,dragContainment:"document",selectionChange:function(){var e,t=this.id;e=k(o(this)),i.trace("%s: trigger event selectionChanged",t,e),o(document).trigger("selectionChanged",[t,e])},added:function(e,t){},moved:function(t,n){!function(t,n){var i,a,o,r=[];if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.MOVE,component:X(t.items[0].toNode),count:t.items.length}),o=e.transaction.start("",a);for(var p=0;p<t.items.length;p++)r[p]=X(t.items[p].toNode),0===t.items[p].toIndex?i=null:(i=X(t.parentNode.children[t.items[p].toIndex-1]))||(i="last"),r[p].move(i,H(t.items[p].toNode));apex.commandHistory.execute(o)}}(n)},copied:function(t,i){!function(t,n){var i,a,o,r,p=[];if(t.items.length>0){o=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:X(t.items[0].toNode),count:t.items.length}),r=e.transaction.start("",o);for(var _=0;_<t.items.length;_++)i=X(t.items[_].toNode),0===t.items[_].toIndex?a=null:(a=X(t.parentNode.children[t.items[_].toIndex-1]))||(a="last"),p[_]=i.duplicate(),p[_].move(a,H(t.items[_].toNode));apex.commandHistory.execute(r),w(p,n,t.items[0].toNode._parent.id,!0)}}(i,n)},deleted:function(t,n){!function(t,n){var i,a,o;if(t.items.length>0){a=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:X(t.items[0].node),count:t.items.length}),o=e.transaction.start("",a);for(var r=0;r<t.items.length;r++)(i=X(t.items[r].node))&&i.remove()}apex.commandHistory.execute(o)}(n)}}),n.on("refresh",(function(){var e=n.treeView("getExpandedState");i.trace("%s: refresh tree",n[0].id),n.treeView("option","getNodeAdapter",ee(a,e))})),function(n){var a,r=n[0].id,p=null,_=[];"PDrenderingTree"===r?(p=null,a=null):"PDdynamicActionTree"===r?p=[{typeId:e.COMP_TYPE.DA_EVENT},{typeId:e.COMP_TYPE.DA_ACTION}]:"PDprocessingTree"===r?p=[{typeId:e.COMP_TYPE.BRANCH},{typeId:e.COMP_TYPE.PAGE_COMPUTATION},{typeId:e.COMP_TYPE.PAGE_PROCESS},{typeId:e.COMP_TYPE.VALIDATION},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_I},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_O},{typeId:e.COMP_TYPE.PAGE_PROC_WS_P_A}]:"PDsharedCompTree"===r&&(p=[],a={},function e(t){for(var n,i=0;i<t.length;i++){if(t[i].hasOwnProperty("typeId")){a[t[i].typeId]=!0,n=B(t[i].typeId);for(var o=0;o<n.length;o++)p.push({typeId:n[o].typeId}),_.push(n[o].propertyId)}t[i].children&&e(t[i].children)}}(P));if(void 0===a){a={};for(var s=0;s<p.length;s++)a[p[s].typeId]=!0}e.observer(r,{components:p,events:[e.EVENT.DISPLAY_TITLE]},(function(e){i.trace("%s: DISPLAY_TITLE component notification received",r,e),K(e.component,n,(function(){this.label=e.component.getDisplayTitle()}))})),e.observer(r,{components:p,events:[e.EVENT.CREATE,e.EVENT.DELETE]},(function(e){i.trace("%s: CREATE/DELETE component notification received",r,e),n.trigger("refresh")}),!0),"PDsharedCompTree"===r?e.observer(r,{components:p,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:_},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for shared component reference properties",r,e),n.trigger("refresh")}),!0):(e.observer(r,{components:p,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:[e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE,e.PROP.EXECUTION_SEQUENCE,e.PROP.DISPLAY_SEQUENCE,e.PROP.BRANCH_POINT,e.PROP.PROCESS_POINT,e.PROP.COMPUTATION_POINT,e.PROP.BUTTON_POSITION,e.PROP.REGION_POSITION,e.PROP.PARENT_REGION,e.PROP.REGION,e.PROP.VALIDATION_REGION,e.PROP.VAL_ITEM,e.PROP.REGION_VAL_COLUMN,e.PROP.REGION_TYPE,e.PROP.ASSOCIATED_ITEM,e.PROP.ASSOCIATED_COLUMN,e.PROP.COMPUTATION_ITEM_NAME,e.PROP.EVENT,e.PROP.DA_EVENT,e.PROP.DA_ACTION_TYPE,e.PROP.FIRE_WHEN_EVENT_RESULT_IS,e.PROP.FIRE_ON_PAGE_LOAD,e.PROP.FACET_GROUP,e.PROP.WHEN_REGION,e.PROP.WHEN_ITEMS,e.PROP.WHEN_COLUMNS,e.PROP.WHEN_BUTTON]},(function(e){i.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",r,e),n.trigger("refresh")}),!0),e.observer(r,{components:p,events:[e.EVENT.CHANGE]},(function(e){e.component.hasChanged()?Z(e.component,t.CSS.IS_CHANGED,n):q(e.component,t.CSS.IS_CHANGED,n)})),e.observer(r,{components:p,events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS]},(function(e){e.component.hasErrors()?Z(e.component,t.CSS.IS_ERROR,n):q(e.component,t.CSS.IS_ERROR,n)})),e.observer(r,{components:p,events:[e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){e.component.hasWarnings()?Z(e.component,t.CSS.IS_WARNING,n):q(e.component,t.CSS.IS_WARNING,n)})),t.observerIsConditional(r,p,(function(e){q(e.component,t.CSS.IS_CONDITIONAL,n),q(e.component,t.CSS.IS_NEVER,n),t.isNever(e.component)?Z(e.component,t.CSS.IS_NEVER,n):t.isConditional(e.component)&&Z(e.component,t.CSS.IS_CONDITIONAL,n)})));o(document).on("selectionChanged."+r,(function(e,t,o){t!==r&&(i.trace("%s: selectionChanged event received from %s",r,t,o),(0===o.length||null===a||a.hasOwnProperty(o[0].typeId))&&w(o,n,null,!1))}))}(n)}function ne(t){var n=t[0].id;e.unobserver(n,{}),o(document).off("selectionChanged."+n),t.off("refresh"),t.treeView("destroy")}function ie(n){var i=[],a=0;function r(e){return e.call(n.treeView("getSelectedNodes"))}function p(t,n){return 1===t.length&&-1!==o.inArray(t[0].type,n)&&!e.isPageReadOnly()}function _(t,n){return!e.isGlobalPage()&&p(t,n)}function P(t,n){var i=Q(e.COMP_TYPE.REGION,t);return-1!==o.inArray(i.getProperty(e.PROP.REGION_TYPE).getValue(),n)}function c(t,n){var i;return-1!==o.inArray(t.type,["region","ig_column"])&&"NATIVE_IG"===(i=Q(e.COMP_TYPE.REGION,t)).getProperty(e.PROP.REGION_TYPE).getValue()?"Y"===i.getChilds(e.COMP_TYPE.IG_ATTRIBUTES)[0].getProperty(e.PROP.IS_EDITABLE).getValue():n}function l(t,n){apex.navigation.redirect(t.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,n).replace(/%application_id%/g,e.getCurrentAppId()).replace(/%page_id%/g,e.getCurrentPageId()))}function d(t,n){var i=X(t,n);l(e.getComponentType(i.typeId).copyUrl,i.id)}function O(t,n){var i,a,r=X(t,n),p=r.getProperty(e.PROP.BRANCH_TYPE).getValue(),_=null;return"REDIRECT_URL"===p?(i=r.getProperty(e.PROP.TARGET).getValue(),/f\?p=([^:]*):([^:]*)/i.test(i)&&("&FLOW_ID."!==(a=RegExp.$1)&&"&APP_ID."!==a&&a!==e.getCurrentAppId()||(_=RegExp.$2))):-1!==o.inArray(p,["BRANCH_TO_STEP","BRANCH_TO_PAGE_ACCEPT"])&&(_=r.getProperty(e.PROP.BRANCH_PAGE_NUMBER).getValue()),_}function T(t){var P,s,c,l={label:t.label,accelerator:t.accelerator,type:t.type};a++,l.id=n[0].id+"_ctx_"+a,l.type||(l.type="action",P=t.action),t.typeId&&(t.label||(l.label=(c=t.typeId,E("CREATE",e.getComponentType(c).title.singular))),P||(P=function(){W(this[0],n,t.typeId)})),l.action=function(){return r(P)},t.visible&&(s=o.isFunction(t.visible)?t.visible:o.isArray(t.visible)?function(){return p(this,t.visible)}:!1===t.visible.global?function(){return _(this,t.visible.types)}:function(){return p(this,t.visible.types)},l.hide=function(){return!r(s)}),t.disabled&&(l.disabled=function(){return r(t.disabled)}),i.push(l)}function I(t,n){T({label:t,action:function(){var t,n,i,a;t=Q(e.COMP_TYPE.REGION,this[0]),n=e.getSourceLocationProperty(t),i=e.transaction.message({action:e.MESSAGE_ACTION.CHANGE,component:t,property:n}),a=e.transaction.start("",i),n.setValue(n.getValue(),!0),apex.commandHistory.execute(a)},visible:function(){var t,i;return!(e.isPageReadOnly()||!_(this,["region","ig_columns","region_columns","page_items"]))&&(i=(t=Q(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue(),e.getSourceLocationProperty(t)&&(!n&&"NATIVE_FORM"!==i||i===n))}})}return T({typeId:e.COMP_TYPE.REGION,visible:["main_regions","regions","region","before_footer"]}),T({label:E("CREATE",s("SUB_REGION")),action:function(){W(this[0],n,e.COMP_TYPE.REGION,"SUB_REGION")},visible:function(){var e=X(this[0],n);return!(e&&(!e||e.isOnGlobalPage()))&&p(this,["region","sub_regions"])}}),T({typeId:e.COMP_TYPE.PAGE_ITEM,visible:["main_page_items","page_items","page_item","form_button","region"]}),T({typeId:e.COMP_TYPE.BUTTON,visible:["main_buttons","region_buttons","region_button","region","page_items","page_item","form_button"]}),T({typeId:e.COMP_TYPE.BRANCH,visible:{global:!1,types:["main_branches","branches","branch","before_header","after_submit","validating","processing","after_processing"]}}),T({typeId:e.COMP_TYPE.PAGE_COMPUTATION,visible:{global:!1,types:["main_computations","computations","computation","inline_computations","inline_computation","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","page_item"]}}),T({typeId:e.COMP_TYPE.PAGE_PROCESS,visible:{global:!1,types:["main_processes","processes","process","on_new_instance","before_header","after_header","before_regions","after_regions","before_footer","after_footer","after_submit","processing"]}}),T({typeId:e.COMP_TYPE.VALIDATION,visible:function(){return!!_(this,["validation","validations","validating","inline_validations","inline_validation","page_item"])||_(this,["region","tabform_column","ig_column"])&&(P(this[0],["NATIVE_TABFORM"])||c(this[0],!1))}}),T({typeId:e.COMP_TYPE.DA_EVENT,visible:function(){return!!p(this,["main_da_events","da_events","da_event","inline_da_events","inline_da_event","region","page_item","ig_column","region_button","form_button"])&&("ig_column"!==this[0].type||c(this[0],!1))}}),T({typeId:e.COMP_TYPE.DA_ACTION,visible:["da_action"]}),T({label:E("CREATE",s("TRUE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){W(this[0],n,e.COMP_TYPE.DA_ACTION,"TRUE")},visible:["da_actions_true","da_event","inline_da_event"]}),T({label:E("CREATE",s("FALSE_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){W(this[0],n,e.COMP_TYPE.DA_ACTION,"FALSE")},visible:["da_actions_false","da_event","inline_da_event"]}),T({label:E("CREATE",s("OPPOSITE_DYNAMIC_ACTION")),typeId:e.COMP_TYPE.DA_ACTION,action:function(){!function(t,n){var i,a,o,r,p,_,P,s={NATIVE_SHOW:"NATIVE_HIDE",NATIVE_HIDE:"NATIVE_SHOW",NATIVE_ENABLE:"NATIVE_DISABLE",NATIVE_DISABLE:"NATIVE_ENABLE",NATIVE_ADD_CLASS:"NATIVE_REMOVE_CLASS",NATIVE_REMOVE_CLASS:"NATIVE_ADD_CLASS"},E=[],c=[];_=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:X(t[0]),count:t.length}),P=e.transaction.start("",_);for(var l=0;l<t.length;l++){if(a=(i=X(t[l])).getProperty(e.PROP.DA_ACTION_TYPE).getValue(),s.hasOwnProperty(a)){for(E.push({id:e.PROP.DA_ACTION_TYPE,value:s[a]}),o=1,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,a,o);r&&i.getProperty(r.id)&&o<=15;)E.push({id:e.getPluginProperty(e.COMP_TYPE.DA_ACTION,s[a],o).id,value:i.getProperty(r.id).getValue()}),o++,r=e.getPluginProperty(e.COMP_TYPE.DA_ACTION,a,o);E.push({id:e.PROP.FIRE_ON_PAGE_LOAD,value:i.getProperty(e.PROP.FIRE_ON_PAGE_LOAD).getValue()})}p="TRUE"===i.getProperty(e.PROP.FIRE_WHEN_EVENT_RESULT_IS).getValue()?"FALSE":"TRUE",E.push({id:e.PROP.FIRE_WHEN_EVENT_RESULT_IS,value:p}),c.push(i.duplicate(E)),c[c.length-1].move("last")}apex.commandHistory.execute(P),w(c,n,t[0]._parent._parent.id,!0)}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if("da_action"!==this[e].type||!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),T({label:E("CREATE",s("VIRTUAL_COLUMN")),action:function(){P(this[0],["NATIVE_TABFORM"])?W(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"VIRTUAL"):W(this[0],n,e.COMP_TYPE.CLASSIC_RPT_COLUMN,"VIRTUAL")},visible:function(){return p(this,["region_columns","classic_report_column","tabform_column"])&&P(this[0],["NATIVE_SQL_REPORT","NATIVE_FNC_REPORT","NATIVE_TABFORM"])}}),T({label:E("CREATE",s("ROW_SELECTOR")),action:function(){W(this[0],n,e.COMP_TYPE.TAB_FORM_COLUMN,"ROW_SELECTOR")},visible:function(){var t;return!(!p(this,["region_columns","tabform_column"])||"NATIVE_TABFORM"!==(t=Q(e.COMP_TYPE.REGION,this[0])).getProperty(e.PROP.REGION_TYPE).getValue())&&0===t.getChilds(e.COMP_TYPE.TAB_FORM_COLUMN,{properties:[{id:e.PROP.COLUMN_NAME,value:"CHECK$01"}]}).length}}),T({typeId:e.COMP_TYPE.IG_COLUMN,visible:["ig_columns","ig_column"]}),T({typeId:e.COMP_TYPE.FACET,visible:["facets","facet","facet_group"]}),T({typeId:e.COMP_TYPE.FACET_GROUP,visible:["facets","facet","facet_group"]}),T({typeId:e.COMP_TYPE.FACET_GROUP_ITEM,visible:["facet_group","facet_group_items","facet_group_item"]}),T({typeId:e.COMP_TYPE.CHART_SERIES,visible:function(){return!!p(this,["chart_series","chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),T({typeId:e.COMP_TYPE.JET_CHART_SERIES,visible:function(){return!!p(this,["jet_chart_series","jet_chart_serie"])&&n.treeView("getNodeAdapter").check("canAdd",this[0])}}),T({typeId:e.COMP_TYPE.MAP_CHART_SERIES,visible:["map_chart","map_chart_series","map_chart_serie"]}),T({typeId:e.COMP_TYPE.IR_COLUMN_GROUP,visible:["ir_column_groups","ir_column_group"]}),T({typeId:e.COMP_TYPE.IG_COLUMN_GROUP,visible:["ig_column_groups","ig_column_group"]}),T({typeId:e.COMP_TYPE.CARD_ACTION,visible:["card_actions","card_action"]}),T({label:s("DUPLICATE"),action:function(){!function(t,n){var i,a,o=[];if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DUPLICATE,component:X(t[0]),count:t.length}),a=e.transaction.start("",i);for(var r=0;r<t.length;r++)o.push(X(t[r]).duplicate());apex.commandHistory.execute(a),w(o,n,t[0]._parent.id,!0)}}(this,n)},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").check("canDuplicate",this[e]))return!1;return!0}}),T({type:"separator"}),I(s("SYNCHRONIZE_COLUMNS")),I(s("SYNCHRONIZE_PAGE_ITEMS"),"NATIVE_FORM"),T({type:"separator"}),T({label:s("DELETE"),accelerator:"Del",action:function(){return function(t,n){var i,a;if(t.length>0){i=e.transaction.message({action:e.MESSAGE_ACTION.DELETE,component:X(t[0]),count:t.length}),a=e.transaction.start("",i);for(var o=0;o<t.length;o++)X(t[o]).remove();apex.commandHistory.execute(a)}}(this),!0},visible:function(){for(var e=0;e<this.length;e++)if(!n.treeView("getNodeAdapter").allowDelete(this[e]))return!1;return!0}}),T({type:"separator"}),T({label:s("COPY_TO_PAGE"),action:function(){d(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&e.getComponentType(X(this[0]).typeId).isPageComponent&&!X(this[0]).isOnGlobalPage()}}),T({label:s("EDIT_SHARED_COMPONENT"),action:function(){!function(t,n){var i=X(t,n);l(e.getComponentType(i.typeId).editUrl,i.id)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtEdit",this[0])&&!e.getComponentType(X(this[0],n).typeId).isPageComponent}}),T({label:s("COPY_SHARED_COMPONENT"),action:function(){d(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCopy",this[0])&&!e.getComponentType(X(this[0],n).typeId).isPageComponent}}),T({label:s("CREATE_SHARED_COMPONENT"),action:function(){!function(t,n){var i;i=X(t,n)?X(t,n).typeId:t.data.typeId,l(e.getComponentType(i).createUrl)}(this[0])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canExtCreate",this[0])}}),T({label:s("PAGE_SEARCH"),action:function(){o(document).trigger("pageSearch",[X(this[0],n).getDisplayTitle()])},visible:function(){return 1===this.length&&n.treeView("getNodeAdapter").check("canSearch",this[0])}}),T({label:s("GOTO_TARGET_PAGE"),action:function(){t.goToPage(O(this[0],n))},visible:function(){return 1===this.length&&"branch"===this[0].type},disabled:function(){return null===O(this[0],n)}}),T({type:"separator"}),T({label:s("EXPAND_ALL_BELOW"),action:function(){n.treeView("expandAll",n.treeView("getSelection"))}}),T({label:s("COLLAPSE_ALL_BELOW"),action:function(){n.treeView("collapseAll",n.treeView("getSelection"))}}),{items:i}}o((function(){var e=o("#trees"),t=o("#PDrenderingTree"),n=o("#PDdynamicActionTree"),a=o("#PDprocessingTree"),r=o("#PDsharedCompTree");e.on("tabsactivate",(function(e,t){var n,a=t.newPanel.find(".a-TreeView");a.length>0&&(n=k(a)).length>0&&(i.trace("%s: trigger event selectionChanged",a.id,n),o(document).trigger("selectionChanged",[a.id,n]))})),o(document).on("modelReady",(function(){te(t,V,!0),te(n,U,!1),te(a,F,!1),te(r,x,!1),o(document).one("modelCleared",(function(){ne(t),ne(n),ne(a),ne(r)}))}))}))}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
!function(t,e,d,r){"use strict";var n=e("#dumpContent"),a=!0;function o(e){var r,n,a,o="";o+="<table class='u-Report'><tr><th>Property</th><th>Value</th></tr>",o+="<tr><td>id</td><td>"+e.id+"</td></tr>",o+="<tr><td>title</td><td>"+d.escapeHTML(e.getDisplayTitle())+"</td></tr>",o+="<tr><td>parentId</td><td>"+e.parentId+"</td></tr>",o+="<tr><td>pageId</td><td>"+e.pageId+"</td></tr>",o+="<tr><td>seq</td><td>"+e.seq+"</td></tr>",o+="<tr><td>hasChanged()</td><td>"+e.hasChanged()+"</td></tr>",o+="<tr><td>hasErrors()</td><td>"+e.hasErrors()+"</td></tr>",o+="<tr><td>hasWarnings()</td><td>"+e.hasWarnings()+"</td></tr>",o+="<tr><td>isReadOnly()</td><td>"+e.isReadOnly()+"</td></tr>",o+="<tr><td>_status</td><td>"+e._status+"</td></tr>",e._grid&&(o+="<tr><td>_grid</td><td>hasGridSupport: "+e._grid.hasGridSupport+"<br>maxColumns: "+e._grid.maxColumns+"<br>"+(e._grid.isUnknown?"isUnknown: true":"")+"</td></tr>"),e.typeId===t.COMP_TYPE.PAGE&&(o+="<tr><td>_lock</td><td>",e._lock&&(o+="isLockedByCurrentUser: "+(e._lock.isLockedByCurrentUser?"true":"false")+"<br>owner: "+e._lock.owner+"<br>on: "+e._lock.on+"<br>comment: "+e._lock.comment),o+="</td></tr>"),o+="</table>",(r=e.getProperties()).sort((function(t,e){return t.getMetaData().displaySeq-e.getMetaData().displaySeq})),o+="<table class='u-Report'i><tr><th>Property</th><th>Value</th><th>has Changed</th><th>Errors</th><th>Warnings</th><th>_isRequired</th><th>Columns</th></tr>";for(var s=0;s<r.length;s++){if(n=r[s].id,o+="<tr><td>",o+=r[s].getMetaData().prompt+" ("+n+")",o+="</td><td>",o+=d.escapeHTML(r[s].getDisplayValue()),r[s].getDisplayValue()!==r[s].getValue()&&(o+="<br>["+d.escapeHTML(r[s].getValue())+"]"),o+="</td><td>",o+=r[s].hasChanged?"true":"",o+="</td><td>",o+=r[s].errors.join("<br>"),o+="</td><td>",o+=r[s].warnings.join("<br>"),o+="</td><td>",o+=r[s]._isRequired?"true":"",o+="</td><td>",(a=r[s].getColumns()).length>0){o+="<table class='u-Report'><tr><th>Name</th><th>Type</th></tr>";for(var i=0;i<a.length;i++)o+="<tr><td>"+d.escapeHTML(a[i].name)+"</td><td>"+d.escapeHTML(a[i].type)+"</td></tr>";o+="</table>"}o+="</td></tr>"}return o+="</table>"}e(document).on("modelReady",(function(){e(document).one("modelCleared",(function(){n.empty()}))})),e(document).on("selectionChanged.dump",(function(e,d,s){var i;if(a){for(r.trace("%s: selectionChanged event triggered by %s","dump",d,s),t.unobserver("dump",{events:[t.EVENT.CHANGE]}),i=0;i<s.length;i++)t.observer("dump",{component:s[i],events:[t.EVENT.CHANGE,t.EVENT.META_DATA]},(function(t){r.trace("%s: CHANGE or META_DATA notification received","dump",t),n.find("#dump"+t.component.id).html(o(t.component))}));for(n.empty(),i=0;i<s.length;i++)n.append('<div id="dump'+s[i].id+'">'+o(s[i])+"</div>")}})),t.observer("dump",{},(function(t){r.trace("%s: %s notification(s)","dump",t.events.join(", "),t)})),window.pageDesigner.hideDumpTab=function(){e('#dump, [href="#dump"]').closest("li").hide(),a=!1},window.pageDesigner.showDumpTab=function(){e('#dump, [href="#dump"]').closest("li").show(),e("#editor_tabs").tabs("refresh"),a=!0},e((function(){window.pageDesigner.hideDumpTab()}))}(pe,apex.jQuery,apex.util,apex.debug);
!function(t,e,a,r,i){"use strict";var n="a-PropertyEditor-propertyGroup",s=n+"-header",o=n+"-body",l="a-Property",p=l+"-field",u="js-showAll",d="a-Button",c="is-variable",h="a-Icon",m="u-hidden",y={COMBOBOX:"COMBOBOX",NUMBER:"NUMBER",INTEGER:"INTEGER",SELECT_LIST:"SELECT LIST",TEXT:"TEXT",TEXTAREA:"TEXTAREA",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",CHECKBOXES:"CHECKBOXES",RADIOS:"RADIOS",COLOR:"COLOR",POPUP_LOV:"POPUP LOV"},f={};function v(t){return i.getMessage("PE."+t)}function g(t){var e=v(t),a=[e].concat(Array.prototype.slice.call(arguments,1));return i.format.apply(this,a)}function k(t){var e=v(t),a=[e].concat(Array.prototype.slice.call(arguments,1));return i.formatNoEscape.apply(this,a)}function C(e,a){var r=t.extend({class:"",style:""},a);e.markup("<div"),r.class&&e.attr("class",t.isArray(r.class)?r.class.join(" "):r.class),r.style&&e.attr("style",r.style),e.markup(">")}function P(t){t.markup("</div>")}function b(t,e,a){t.markup("<span").attr("class",e).attr("aria-hidden",!0).markup("></span>"),a&&t.markup("<span").attr("class","u-vh").markup(">").content(a).markup("</span>")}function D(t){var e={},a=t.metaData;return a&&a.multiSelectData&&a.multiSelectData.indeterminateMap&&(e=a.multiSelectData.indeterminateMap),e}function E(t){var e,a=!1,r=t.value;t.metaData&&t.metaData.multiSelectData;return r.constructor===Object&&0===Object.keys(r).length?a=!0:(e=D(t)).hasOwnProperty(r)&&(a=e[r]),a}function _(t){return"[data-group-id='"+e.escapeCSS(t)+"']"}function x(t){return"[data-property-id='"+e.escapeCSS(t)+"']"}var S={},O={renderDivOpen:C,renderDivClose:P,renderIcon:b,stacked:!1,noLabel:!1,labelVisible:!0,render:function(t,e,a,r){},init:function(t,e,a){this.addKeyboardHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e)},destroy:function(t,e){t.closest("div."+l).off()},validate:function(){},setValue:function(t,e,a,r){t.val(a),e.value=a},addValue:function(t,e,a){var r,i=!1,n=t.val(),s=n?n.split(e.metaData.multiValueDelimiter):[];for(r=0;r<s.length;r++)if(a===s[r]){i=!0;break}i||s.push(a),t.val(s.join(e.metaData.multiValueDelimiter))},getValue:function(t){var e=t.find("[data-property-id]").val();return t.hasClass(c)&&""===e&&(e=f),e},getDisplayValue:function(t,e){return t.value},setFocus:function(t){t[0].focus()},renderCommonAttributes:function(t,e,a){t.attr("id",e).attr("data-property-id",a.propertyName).optionalAttr("aria-required",a.metaData.isRequired?"true":null).optionalAttr("aria-invalid",a.errors.length>0?"true":null)},commonAttributes:function(t){var e={};return e["data-property-id"]=t.propertyName,e["aria-required"]=t.metaData.isRequired,e["aria-invalid"]=t.errors.length>0,e},renderBaseInput:function(e,a){var r,i,n=t.extend({id:"",type:"text",value:"",inputClass:[],data:{},readonly:!1,maxLength:"",attributes:{}},a);if(e.markup("<input").attr("id",n.id).attr("type",n.type).attr("value",n.value).optionalAttr("readonly",n.readonly),n.inputClass.length>0&&e.attr("class",t.isArray(n.inputClass)?n.inputClass.join(" "):n.inputClass),n.maxLength&&e.attr("maxlength",n.maxLength),n.ariaDescribedBy&&e.attr("aria-describedby",n.ariaDescribedBy),!t.isEmptyObject(n.data))for(i in n.data)n.data.hasOwnProperty(i)&&e.attr("data-"+i,n.data[i]);if(!t.isEmptyObject(n.attributes))for(r in n.attributes)n.attributes.hasOwnProperty(r)&&e.attr(r,n.attributes[r]);e.markup(" />")},renderText:function(e,a,r,i){var n,s=r.value,o=!1,l=[],u={},d=s===f;i=t.extend({class:"a-Property-field--text",type:"text",textCase:r.metaData.textCase,manualEntry:!0,attributes:{}},i),l.push(p),l.push(i.class),i.textCase&&l.push(this.getTextCaseClass(i.textCase)),r.metaData.isReadOnly&&(o=!0,l.push("a-Property-field--readOnly"),d||(s=S[r.metaData.type].getDisplayValue(r))),i.manualEntry||(o=!0,l.push("a-Property-field--readOnly"),d||""===r.value||(u["return-value"]=r.value,r.metaData.lovValues((function(e){var a,i=t(x(r.propertyName));a=e.length>0&&e[0].r===r.value?e[0].d:r.value,S[r.metaData.type].setValue(i,r,r.value,this.options.data.lastComponents,a)}),{id:r.value}))),d&&(s="",l.push(c)),n={id:a,type:i.type,value:s,inputClass:l,data:u,attributes:t.extend(i.attributes,this.commonAttributes(r)),readonly:o},r.metaData.maxLen&&(n.maxLength=r.metaData.maxLen),r.metaData.unit&&(n.ariaDescribedBy=n.id+"_unit"),this.renderBaseInput(e,n)},renderOption:function(t,e,a){return t.markup("<option").attr("value",e.r).optionalAttr("selected",e.r===a?"true":null),e.hasOwnProperty("isSupported")&&t.attr("data-is-supported",e.isSupported?"true":"false"),e.hasOwnProperty("isLegacy")&&t.attr("data-is-legacy",e.isLegacy?"true":"false"),t.markup(">").content(e.d).markup("</option>"),e.r===a},renderLovValues:function(e,a,r){var i,n=a,s=!1;for(t.isFunction(n)&&(n=n()),i=0;i<n.length;i++)n[i].hasOwnProperty("group")?(e.markup("<optgroup").attr("label",n[i].group).markup(">"),this.renderLovValues(e,n[i].values,r)&&(s=!0),e.markup("</optgroup>")):this.renderOption(e,n[i],r)&&(s=!0);return s},renderIconButton:function(e,a){var r=t.extend({id:"",icon:"",text:"",dataFor:null,disabled:!1,isMenuButton:!1,addContainer:!1,containerClass:"",buttonClass:""},a);r.addContainer&&this.renderDivOpen(e,{class:"a-Property-buttonContainer"+(r.containerClass?" "+r.containerClass:"")}),e.markup("<button type='button'").attr("id",r.id).attr("class","a-Button a-Button--small a-Button--noLabel a-Button--withIcon"+(r.buttonClass?" "+r.buttonClass:"")+(r.isMenuButton?" js-menuButton":"")).attr("title",r.text).attr("aria-label",r.text).optionalAttr("disabled",r.disabled),r.dataFor&&e.attr("data-for",r.dataFor),r.isMenuButton&&e.attr("aria-haspopup","true").attr("aria-expanded","false").attr("data-menu",r.id+"_menu"),e.markup(">"),this.renderIcon(e,r.icon),e.markup("</button>"),r.addContainer&&this.renderDivClose(e)},addValueVariesStateStyle:function(a,r,i,n){var s=e.htmlBuilder(),o=e.htmlBuilder();a.addClass(c),r.addClass(c),n.renderIcon(s,"a-Icon icon-variable"),o.markup("<span").attr("class","u-vh").markup(">").content(v("VALUE_VARIES_POSTFIX")).markup("</span>"),t("#"+i+"_label").prepend(s.toString()).append(o.toString())},removeValueVariesStateStyle:function(e,a){var r=t("#"+e.attr("id")+"_label");e.removeClass(c),a.removeClass(c),r.find("span.icon-variable").remove().end().find("span.u-vh").remove()},addKeyboardHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+l),n=e.attr("id"),i.on("keydown","#"+n,(function(e){var s=t(this);e.which===t.ui.keyCode.ESCAPE&&a.value===f&&(r.addValueVariesStateStyle(s,i,n,r),setTimeout((function(){s[0].value=""}),1))})).on("keypress","#"+n,(function(e){var a=t(this);e.which&&a.hasClass(c)&&r.removeValueVariesStateStyle(a,i)})))},addChangeHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+l),n=e.attr("id"),i.on("change","#"+n,(function(e){var s=t(this),o=s.val();s.hasClass(c)?r.removeValueVariesStateStyle(s,i):""===o&&a.value===f&&r.addValueVariesStateStyle(s,i,n,r)})))},addTooltipsForErrors:function(t,e){var a=t.attr("id");t.tooltip().off("mouseover mouseout"),e.errors.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.errors.length;r++)a+="<li>"+e.errors[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}}),e.warnings.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.warnings.length;r++)a+="<li>"+e.warnings[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}})},initQuickPicks:function(e,a){var r,i,n,s,o,l,p=[];function u(){e.val(this.value).trigger("change")}if(a.metaData.quickPicks&&(o=(s=a.metaData.quickPicks()).length,!a.metaData.isReadOnly&&o>0)){for(a.metaData.isRequired||(void 0===a.metaData.nullText?(p.push({type:"action",label:v("QUICK_PICK.CLEAR"),hide:function(){return""===e.val()},action:function(){e.val("").trigger("change")}}),p.push({type:"separator",hide:function(){return""===e.val()}})):p.push({type:"action",label:a.metaData.nullText,action:function(){e.val("").trigger("change")}})),r=0;r<o;r++)n={type:"action",label:s[r].d,value:s[r].r,action:u},s[r].icon&&(n.icon=s[r].icon),s[r].iconStyle&&(n.iconStyle=s[r].iconStyle),p.push(n);i=e.attr("id")+"_quickPickBtn_menu",0===(l=t("#"+i)).length&&(l=t("<div id='"+i+"'></div>").appendTo("body")),l.menu({items:p}),a.metaData.hasInitQuickPick=!0}},removeQuickPick:function(e,a){var r;a.metaData.hasInitQuickPick&&(r=e.attr("id")+"_quickPickBtn_menu",t("#"+r).remove())},addLabelClickHandler:function(t,e){var a=this,r=t.closest("div."+l),i=t.attr("id");r.on("click","#"+i+"_label",(function(r){a.setFocus(t,e)}))},renderQuickPickButton:function(t,e,a,r){var i,n=!!r;a.metaData.quickPicks&&(i=a.metaData.quickPicks(),a.metaData.isReadOnly||i.length>0&&this.renderIconButton(t,{id:e+"_quickPickBtn",icon:"a-Icon icon-quick-pick",text:k("QUICK_PICK",a.metaData.prompt),isMenuButton:!0,addContainer:n,buttonClass:"a-Button--quickPick"}))},renderRadioCheckbox:function(e,a,r,i,n){var s,o,l,p,u,d,h,m,f,v=t.isEmptyObject(r.value),g=D(r),k="N";i===y.CHECKBOXES?(l="checkbox",p="a-Property-checkbox",u="a-Property-checkbox-input",d="a-Property-checkbox-label"):(l="radio",p="a-Property-radio",u="a-Property-radio-input",d="a-Property-radio-label"),o=a+(s=t.extend({type:l,name:a+"_name",inputValue:null,inputLabel:null,currentValue:v?r.value:r.value.split(":")},n)).inputValue,this.renderDivOpen(e,{class:p}),e.markup("<input").attr("type",s.type).attr("id",o).attr("value",s.inputValue).attr("name",s.name).attr("class",u).optionalAttr("checked",(h=s.inputValue,m=s.currentValue,f=!1,v?!0===g[h]?(k="Y",f=!1):(k="N",f=g.hasOwnProperty(h)):f=-1!==t.inArray(h,m),f)).attr(v?"data-"+c:null,k).markup(" />"),e.markup("<label").attr("for",o).attr("class",d).markup(">"),s.icon?e.markup('<span class="a-Icon '+s.icon+'" aria-hidden="true"></span>').markup('<span class="u-VisuallyHidden">').content(s.inputLabel).markup("</span>"):e.content(s.inputLabel),e.markup("</label>"),this.renderDivClose(e)},renderRadiosCheckboxes:function(e,a,r,i){var n,s,o=[],l=[],p=a+"_label";if(o.push("a-Property-fieldContainer"),i===y.CHECKBOXES?(o.push("a-Property-fieldContainer--checkboxGroup"),l.push("a-Property-checkboxGroup")):i===y.RADIOS&&(o.push("a-Property-fieldContainer--radioGroup"),l.push("a-Property-radioGroup")),this.renderDivOpen(e,{class:o}),r.metaData.isReadOnly)this.renderText(e,a,r);else{if(r.value===f&&l.push(c),e.markup("<div").attr("role","group").attr("class",l.join(" ")).attr("aria-labelledby",p).attr("tabindex","-1"),this.renderCommonAttributes(e,a,r),e.markup(">"),r.metaData.type!==y.YES_NO)for(s=r.metaData.lovValues,t.isFunction(s)&&(s=s()),n=0;n<s.length;n++)this.renderRadioCheckbox(e,a,r,i,{inputValue:s[n].r,inputLabel:s[n].d,icon:s[n].icon});else this.renderRadioCheckbox(e,a,r,i,{inputValue:r.metaData.yesValue,inputLabel:v("YES")}),this.renderRadioCheckbox(e,a,r,i,{inputValue:r.metaData.noValue,inputLabel:v("NO")});this.renderDivClose(e)}this.renderDivClose(e)},getTextCaseClass:function(t){var e="";return"UPPER"===t?e="u-textUpper":"LOWER"===t&&(e="u-textLower"),e}};function I(e,a,r){var i,n,s,o;(i=r?S[r]:O,a||!r)?((n=t.extend(Object.create(i),a)).super=(s=Array.prototype.slice,o=n.super,function(t){var e,a=s.call(arguments,1),r=this.super;return this.super=o,e=i[t].apply(this,a),this.super=r,e}),S[e]=n):S[e]=i}I(y.TEXT,{render:function(t,e,a,r,i){this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),this.renderText(t,e,a,i),this.renderDivClose(t),this.renderQuickPickButton(t,e,a,!0)},init:function(t,e,a){this.initQuickPicks(t,e),this.super("init",t,e)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.NUMBER,{init:function(e,a,i){a.metaData.isReadOnly||a.metaData.supportsSubstitution||e.on("keydown",(function(e){var a=r.getDecimalSeparator(),i=[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,110,189];"."===a?i.push(190):","===a&&i.push(188),-1===t.inArray(e.which,i)&&e.preventDefault()})),this.super("init",e,a,i)}},y.TEXT),I(y.INTEGER,{init:function(e,a,r){a.metaData.isReadOnly||a.metaData.supportsSubstitution||e.on("keydown",(function(e){-1===t.inArray(e.which,[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,189])&&e.preventDefault()})),this.super("init",e,a,r)}},y.TEXT),I(y.TEXTAREA,{stacked:!0,render:function(t,e,a,r,i){var n,s=p+" a-Property-field--textarea";this.renderDivOpen(t,{class:"a-Property-buttonContainer"}),i&&this.renderIconButton(t,{id:e+"_modalBtn",icon:"a-Icon icon-open-in-dialog",text:k("CODE_EDITOR",a.metaData.prompt),buttonClass:"a-Button--simple"}),this.renderQuickPickButton(t,e,a),this.renderDivClose(t),this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),(n=a.value)===f&&(n="",s+=" "+c),s+=" "+this.getTextCaseClass(a.metaData.textCase),t.markup("<textarea rows=3").attr("maxlength",a.metaData.maxLen).attr("class",s).optionalAttr("readonly",a.metaData.isReadOnly?"true":null),this.renderCommonAttributes(t,e,a),t.markup(">").content(n).markup("</textarea>"),this.renderDivClose(t)},init:function(t,e,a){var r=t.prop("scrollHeight");r>50&&(r>150&&(r=150),t.height(r)),this.initQuickPicks(t,e),this.super("init",t,e,a)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.COMBOBOX,{manualEntry:!0,render:function(t,e,a,r){this.renderDivOpen(t,{class:["a-Property-fieldContainer","a-Property-fieldContainer--comboBox"]}),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_lovBtn",icon:"a-Icon icon-popup-lov",text:k("LIST_OF_VALUES",a.metaData.prompt),addContainer:!0,containerClass:"a-Property-buttonContainer--comboBox"}),this.renderQuickPickButton(t,e,a,!0)},init:function(a,r,i,n){var s=this,o=t.extend({columnDefinitions:[{name:"d",title:r.metaData.prompt}],filters:[{name:"search",title:v("SEARCH"),type:"search"}],filterLov:function(e,a){t.isFunction(r.metaData.lovValues)?r.metaData.lovValues((function(t){s.manualEntry||r.metaData.isRequired||t.unshift({r:"",d:void 0!==r.metaData.nullText?r.metaData.nullText:v("SELECT")}),a(t,e.search)}),e):a(r.metaData.lovValues,e.search)},multiValue:!1,dialogTitle:k("PICK",r.metaData.prompt),resultsDisplay:"table"},n);var l=t("#"+a.attr("id")+"_lovBtn");this.super("init",a,r,i),l.on("click",(function(){var n=e.htmlBuilder();n.markup("<div").attr("id","lovDlg").attr("title",o.dialogTitle).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:"ui-dialog-flushBody",resizable:!1,multiValue:o.multiValue,valueSelected:function(t,e){var n,l;n=void 0!==e.r?e.r:e[o.columnDefinitions[0].name],s.manualEntry||(l=e.d?e.d:n),r.metaData.multiValueDelimiter?s.super("addValue",a,r,n):s.setValue(a,r,n,i,l),a.trigger("change")},resultsDisplay:o.resultsDisplay})})),l.prop("disabled",r.metaData.isReadOnly),this.initQuickPicks(a,r)},setValue:function(t,e,a,r,i){this.manualEntry?t.val(a):(t.data("return-value",a),i&&t.val(i)),e.value=a},getValue:function(t){return this.manualEntry?this.super("getValue",t):t.find("[data-property-id]").data("return-value")},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.CHECKBOXES,{noLabel:!0,render:function(t,e,a,r){this.renderRadiosCheckboxes(t,e,a,y.CHECKBOXES)},init:function(e,a,r){this.addChangeHandlersForVariesState(e,a),this.addLabelClickHandler(e,a),this.addTooltipsForErrors(e,a),a.metaData.isReadOnly||t.isEmptyObject(a.value)&&""!==a.value&&(e.find("input[data-"+c+"=Y]").prop("indeterminate",!0),e.find("input").on("click",(function(){var r,i,n=a.metaData.multiSelectData?a.metaData.multiSelectData.components:[],s="general"===a.propertyName?a.propertyId:a.propertyName;for(t(this).prop("indeterminate",!1).removeAttr("data-is-variable"),r=function(){var a=[];return e.find("input").each((function(){var e=t(this);e.prop("indeterminate")&&a.push(e.val())})),a}(),i=0;i<n.length;i++)n[i].getProperty(s)._indeterminateValues=r})))},getValue:function(t){var e=[];return t.find("input").each((function(){this.checked&&e.push(this.value)})),e.join(":")},getDisplayValue:function(e,a){var r,i,n,s=[],o=e.value.split(":");if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r){for(n=0;n<r.length;n++)t.inArray(r[n].r,o)>-1&&s.push(r[n].d);i=s.join(":")}return i},setValue:function(e,a,r,i){var n=e.find("input"),s=r.split(":");n.prop("checked",!1),n.each((function(){var e=t(this);t.inArray(e.val(),s)>-1&&e.prop("checked",!0)})),a.value=r},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),I(y.RADIOS,{noLabel:!0,render:function(t,e,a,r){this.renderRadiosCheckboxes(t,e,a,y.RADIOS)},init:function(t,e,a){this.addChangeHandlersForVariesState(t,e),this.addLabelClickHandler(t,e),this.addTooltipsForErrors(t,e)},getValue:function(t){var e="";return t.find("input").each((function(){if(this.checked)return e=this.value,!1})),e},getDisplayValue:function(e,a){var r,i,n;if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r)for(n=0;n<r.length;n++)if(r[n].r===e.value){i=r[n].d;break}return i},setValue:function(e,a,r,i){e.find("input").each((function(){var e=t(this);if(e.prop("checked")){if(e.val()===r)return!1;e.prop("checked",!1)}else if(e.val()===r)return e.prop("checked",!0),!1})),a.value=r},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),I(y.YES_NO,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||e.value===f&&t.prop("indeterminate",!0)},getDisplayValue:function(t,e){return t.metaData.yesValue===t.value?v("YES"):v("NO")},render:function(e,a,r,i,n){var s,o=a+"_label",l="a-Switch";t.extend({type:"checkbox",name:a+"_name",inputValue:null,inputLabel:null},n),s=a,this.renderDivOpen(e,{class:"a-Property-fieldContainer a-Property-fieldContainer--switch"}),r.metaData.isReadOnly?this.renderText(e,a,r):(r.value===f&&(l+=" "+c),e.markup("<label").attr("for",s).attr("class",l).attr("aria-labelledby",o).markup(">"),e.markup("<input").attr("type","checkbox").attr("id",s).attr("data-property-id",r.propertyName).attr("value",r.metaData.yesValue).optionalAttr("checked",r.value===r.metaData.yesValue?"true":null).markup(" />"),e.markup("<span class='a-Switch-toggle'></span>"),e.markup("</label>")),this.renderDivClose(e)},getValue:function(t,e){return t.find("input").prop("checked")?e.metaData.yesValue:e.metaData.noValue},setValue:function(t,e,a){t.prop("checked",a===e.metaData.yesValue?"true":null),e.value=a},setFocus:function(t,e){t[0].focus()}},y.CHECKBOXES),I(y.PILL_BUTTONS,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||t.addClass("a-Property-radioGroup--buttonSet")}},y.RADIOS),I(y.SELECT_LIST,{render:function(t,e,a,r,i){var n=p+" a-Property-field--select",s=a.value,o=(a.metaData.multiSelectData,!1),l=E(a);this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),a.metaData.isReadOnly?this.renderText(t,e,a):(l&&(n+=" "+c),t.markup("<select size=1").attr("class",n),this.renderCommonAttributes(t,e,a),t.markup(">"),l?(o=this.renderOption(t,{r:"",d:""},""),a.metaData.isRequired||this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:v("SELECT")},null),s=""):a.metaData.isRequired&&""!==s||(o=this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:v("SELECT")},s)),this.renderLovValues(t,a.metaData.lovValues,s)||o||this.renderOption(t,{r:s,d:g("INVALID",s)},s),t.markup("</select>")),P(t),this.renderQuickPickButton(t,e,a,!0),i&&this.renderIconButton(t,{id:e+"_btn",icon:i.icon,text:i.text,addContainer:!0})},init:function(t,e,a){this.addChangeHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e),this.initQuickPicks(t,e)},getDisplayValue:function(e,a){var r,i;if(""!==e.value){if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r)for(var n=0;n<r.length;n++)if(r[n].r===e.value){i=r[n].d;break}}else i=e.metaData.nullText?e.metaData.nullText:e.value;return i},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.COLOR,{render:function(t,e,a,r){var i=["#FF3B30","#FF9500","#FFCC00","#4CD964","#34AADC","#007AFF","#5856D6","#FF2D55","#FFFFFF","#C7C7CC","#8E8E93","#000000"];this.renderDivOpen(t,{class:["a-Property-fieldContainer","a-Property-fieldContainer--colorPicker"]}),t.markup("<span").attr("id",e+"_preview").attr("class","a-Property-colorPreview").markup(">").markup("</span>"),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_picker",icon:"a-Icon icon-color-picker",text:k("COLOR_PICKER",a.metaData.prompt),addContainer:!0,containerClass:"a-Property-buttonContainer--colorPicker"}),a.metaData.quickPicks=function(){var t,e=[];for(t=0;t<i.length;t++)e.push({d:i[t],r:i[t],icon:"a-Icon icon-circle",iconStyle:"color: "+i[t]+";"});return e},this.renderQuickPickButton(t,e,a,!0)},init:function(e,a,r){var i=this,n=e.attr("id"),s=t("#"+n+"_picker"),o=t("#"+n+"_preview");this.super("init",e,a,r),e.ColorPicker({eventName:"xxx",onSubmit:function(t,a,r,i){e.trigger("change").ColorPickerHide()},onBeforeShow:function(){t(this).ColorPickerSetColor(this.value)},onShow:function(e){return t(e).fadeIn("fast").position({my:"right top",at:"right bottom",of:"#"+n+"_picker"}).css("z-index",200),!1},onHide:function(a){return t(a).fadeOut("fast"),e.trigger("change"),!1},onChange:function(a,r,i){var n=e.attr("id"),s=t("#"+n+"_preview"),o="#"+r.toUpperCase();s.css("background-color",o),e.val(o)}}).ColorPickerHide(),e.on("change",(function(t){var n=t.target;n.value=n.value.toUpperCase(),i.setValue(e,a,n.value,r)})),s.on("click",(function(t){e.ColorPickerShow(),t.preventDefault()})),o.css("background-color",e.val()),this.initQuickPicks(e,a)},setValue:function(e,a,r){var i=e.attr("id"),n=t("#"+i+"_preview");e.val(r),n.css("background-color",r),a.value=r},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}},y.TEXT),I(y.POPUP_LOV,{manualEntry:!1,init:function(t,e,a){this.super("init",t,e,a)}},y.COMBOBOX),t.widget("apex.propertyEditor",{version:"5.1",widgetEventPrefix:"propertyeditor",baseId:null,nextId:1,idMap:{},propMap:{},currentPropertyName:null,hasSearchField:!1,options:{data:{propertySet:[],lastComponents:null},idPrefix:null,showAll:!1,labelsAlwaysAbove:!1,hideDisplayGroups:!1,searchable:!1,searchKey:null,pinSearch:!1,stackLabelsWidth:280,focusPropertyName:null,externalEdit:null,expand:null,collapse:null,activate:null,deactivate:null,change:null},_create:function(){var e=this.options;if(!e.data||!e.data.propertySet)throw"Missing required data option.";this.baseId=(e.idPrefix||this.element[0].id||"pe")+"_",this.element.addClass("a-PropertyEditor"),this.options.showAll&&this.element.addClass(u),this._on(this._eventHandlers),this.options.searchable&&this._on(this.element.prev(),this._SearchEventHandlers),this.refresh(),this.options.labelsAlwaysAbove?this.element.addClass("a-PropertyEditor--stacked"):this.element.hasClass("resize")?(this._on({resize:function(e){this.options.labelsAlwaysAbove||this.element.toggleClass("a-PropertyEditor--stacked",t(e.target).width()<this.options.stackLabelsWidth)}}),this.element.toggleClass("a-PropertyEditor--stacked",this.element.width()<this.options.stackLabelsWidth)):this.element.removeClass("a-PropertyEditor--stacked")},_eventHandlers:{click:function(e){var a=null,r=t(e.target);r.is("."+s)?a=r.parent():r.parent("."+s).length>0&&(a=r.parent().parent()),a&&this._toggle(a),r.attr("id")===this.baseId+"externalEdit"&&this.options.externalEdit()},keydown:function(e){var a=null,r=!1,i=t.ui.keyCode,n=e.keyCode,o=t(e.target);o.is("."+s)&&(n===i.HOME?a=o.parent().parent().children(":visible").first():n===i.END?a=o.parent().parent().children(":visible").last():n===i.DOWN?0===(a=o.parent().nextAll().filter(":visible").first()).length&&(a=o.parent().parent().children(":visible").first()):n===i.UP?0===(a=o.parent().prevAll().filter(":visible").first()).length&&(a=o.parent().parent().children(":visible").last()):n===i.LEFT?(this._collapse(o.parent()),r=!0):n===i.RIGHT?(this._expand(o.parent()),r=!0):n!==i.SPACE&&n!==i.ENTER||(this._toggle(o.parent()),r=!0),r&&e.preventDefault(),a&&(a.children("."+s)[0].focus(),e.preventDefault()))},"focusin div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");a.addClass("is-active is-focused"),this._activate(a)},"focusout div.a-Property":function(e){t(e.target).closest("div.a-Property").removeClass("is-active is-focused")},"change div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");this._checkForChange(a)},"focusin div.a-PropertyEditor-propertyGroup-header":function(e){this._deactivate(),t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").addClass("is-focused")},"focusout div.a-PropertyEditor-propertyGroup-header":function(e){t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").removeClass("is-focused")}},_SearchEventHandlers:{"keyup input.a-Property-field--filter":function(e){27===e.which?(this.clearSearch(),this.expandAll()):this.search(t(e.target).val())},"click button.a-Button--stickyFilter":function(e){var a=this.options;t(e.currentTarget).toggleClass("is-active").hasClass("is-active")?a.pinSearch=!0:(a.pinSearch=!1,a.searchKey=null)}},_destroy:function(){this.element.removeClass("a-PropertyEditor "+u).empty()},_setOption:function(t,e){var a,r,i,n;if("data"===t)for(i=this.options.data.propertySet,a=0;a<i.length;a++)for(n=i[a],r=0;r<n.properties.length;r++)S[n.properties[r].metaData.type].destroy(this._getElement(n.properties[r]),n.properties[r]);if(this._super(t,e),"data"===t){if(!e.propertySet)throw"Missing required properties.";this.refresh()}else"showAll"===t?this.element.toggleClass(u,!!e):"labelsAlwaysAbove"===t&&(e?this.element.addClass("a-PropertyEditor--stacked"):this.element.hasClass("resize")?this.element.toggleClass("a-PropertyEditor--stacked",this.element.width()<this.options.stackLabelsWidth):this.element.removeClass("a-PropertyEditor--stacked"))},_callPropertyInit:function(t){var e=t.propertyName,a=this.element.find(x(e));S[t.metaData.type].init(a,t,this.options.data.lastComponents)},_renderLabel:function(t,a){var r=e.htmlBuilder(),i=a.errors.length>0,n=a.warnings.length>0,s=E(a),o="a-Property-label",l=[],p=this._getId(a)+"_label";l.push("a-Property-labelContainer"),S[a.metaData.type].labelVisible?(i||n||s)&&(o+=" a-Property-label--withIcon"):(o+=" u-vh",l.push("a-Property-labelContainer--hiddenLabel")),C(t,{class:l}),S[a.metaData.type].noLabel?t.markup("<span").attr("id",p).attr("class",o).markup(">"):t.markup("<label").attr("id",p).attr("for",this._getId(a)).attr("class",o).markup(">"),S[a.metaData.type].labelVisible&&(i&&b(r,"a-Icon icon-error"),n&&b(r,"a-Icon icon-warning"),s&&b(r,"a-Icon icon-variable")),t.markup(r.html),t.content(a.metaData.prompt),S[a.metaData.type].labelVisible&&(i&&t.markup("<span").attr("class","u-vh").markup(">").content(v("ERROR_POSTFIX")).markup("</span>"),n&&t.markup("<span").attr("class","u-vh").markup(">").content(v("WARNING_POSTFIX")).markup("</span>"),s&&t.markup("<span").attr("class","u-vh").markup(">").content(v("VALUE_VARIES_POSTFIX")).markup("</span>")),S[a.metaData.type].noLabel?t.markup("</span>"):t.markup("</label>"),P(t)},_countVisibleProperties:function(t){var e,a,r,i=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1;for(e=0,a=0;a<t.length;a++)r=t[a],i&&r.metaData.isUnique||this._isCommon(r)&&(e+=1);return e},_renderDisplayGroup:function(t,e,a){var r,i,l,p,d,c,h,m,y=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1,f=e.properties;if(p=f.length,m=n,this.options.hideDisplayGroups)for(r=0;r<p;r++)i=f[r],y&&i.metaData.isUnique||this._renderProperty(t,i);else{for(d=this._countVisibleProperties(f),(h=!e.collapsed)?(l="a-Icon icon-down-arrow",m+=" is-expanded"):l="a-Icon icon-right-arrow",0===d&&(m+=" "+u),c=this.baseId+"g_"+a,t.markup("<div role='group'").attr("class",m).attr("data-group-id",e.displayGroupId).attr("aria-labelledby",c+"_LABEL").markup(">"),t.markup("<div tabindex='0'").attr("class",s).attr("aria-controls",c).attr("aria-expanded",h?"true":"false").attr("aria-labelledby",c+"_LABEL").markup(">"),b(t,l),t.markup("<h2").attr("class","a-PropertyEditor-propertyGroup-title").attr("id",c+"_LABEL").markup(">").content(e.displayGroupTitle).markup("</h2>"),P(t),t.markup("<div").attr("id",c).attr("class",o),h||t.attr("style","display:none;"),t.markup(">"),r=0;r<p;r++)i=f[r],y&&i.metaData.isUnique||this._renderProperty(t,i);P(t),P(t)}},_renderDisplayGroups:function(t){var e,a=this.options.data.propertySet;for(e=0;e<a.length;e++)this._renderDisplayGroup(t,a[e],e)},_renderProperty:function(t,e){var a,r=this.options.data.lastComponents,i=[l];e.hasChanged&&i.push("is-changed"),S[e.metaData.type].stacked&&i.push("a-Property--stacked"),S[e.metaData.type].minHeight&&(a="min-height: "+S[e.metaData.type].minHeight+"px;"),S[e.metaData.type].maxHeight&&(a="max-height: "+S[e.metaData.type].maxHeight+"px;",i.push("a-Property--scrollable")),S[e.metaData.type].height&&(a="max-height: "+S[e.metaData.type].height+"px;",i.push("a-Property--scrollable")),e.errors.length>0&&i.push("is-error"),e.warnings.length>0&&i.push("is-warning"),E(e)&&i.push(c),this._isCommon(e)||i.push(u),C(t,{class:i,style:a}),e.metaData.isRequired&&b(t,"a-Icon icon-required"),this._renderLabel(t,e),S[e.metaData.type].render(t,this._getId(e),e,r),e.metaData.unit&&(t.markup("<div").attr("class","a-Property-unitContainer").markup(">"),t.markup("<span").attr("class","a-Property-unit").attr("id",this._getId(e)+"_unit").markup(">").content(e.metaData.unit).markup("</span>"),t.markup("</div>")),P(t)},_getProperty:function(t){return this.propMap[t]},_getId:function(t,e){var a;return(a=this.idMap[t.propertyName])||(a=this.baseId+this.nextId,this.nextId+=1,this.idMap[t.propertyName]=a),e&&(a+=e),a},_getElement:function(e,a){return t("#"+this._getId(e,a))},_isCommon:function(t){return t.metaData.isCommon||t.value!==t.metaData.defaultValue||t.errors.length>0||t.warnings.length>0},_activate:function(t){var e=this,a=t.find("[data-property-id]").attr("data-property-id"),r=this._getProperty(a);this.currentPropertyName!==a&&(this._deactivate(),this.currentPropertyName=a,setTimeout((function(){e._trigger("activate",{},r)}),0))},_deactivate:function(){var t=this;this.currentPropertyName=null,setTimeout((function(){t._trigger("deactivate")}),0)},_checkForChange:function(e){var r,i,s,o=e.find("[data-property-id]").attr("data-property-id"),p=this._getProperty(o),d=p.oldValue;if(a.info("propertyEditor _checkForChange",e),i=this.getValue(e,p),t("#"+this.idMap[o]).hasClass(c)&&""===i&&(i=f),i!==d){if(p.value=i,p.oldValue=i,this.options.showAll){e.toggleClass(u,!this._isCommon(p));var h=(s=e.closest("div."+n)).find("div."+l).filter(":not(."+u+")").length;s.toggleClass(u,0===h)}r={propertyName:o,property:this._getProperty(o),previousValue:d,property$:e},this._trigger("change",{},r),e.addClass("is-changed")}},_expand:function(t){t.hasClass("is-expanded")||(t.addClass("is-expanded").children("."+o).show(),t.children("."+s).attr("aria-expanded","true").children("."+h).removeClass("a-Icon icon-right-arrow").addClass("a-Icon icon-down-arrow"),this._trigger("expand",{},{displayGroupId:t.attr("data-group-id")}))},_collapse:function(t){t.hasClass("is-expanded")&&(t.removeClass("is-expanded").children("."+o).hide(),t.children("."+s).attr("aria-expanded","false").children("."+h).removeClass("a-Icon icon-down-arrow").addClass("a-Icon icon-right-arrow"),this._trigger("collapse",{},{displayGroupId:t.attr("data-group-id")}))},_toggle:function(t){t.hasClass("is-expanded")?this._collapse(t):this._expand(t)},refresh:function(){var t,r,i,n,s,o=e.htmlBuilder(),l=this.options,u=this.element,c=v("PIN_FILTER"),h=l.data.lastComponents?l.data.lastComponents.length:0,m=l.data.propertySet,y=l.externalEdit;if(this.nextId=1,this.idMap={},this.propMap={},a.info("propertyEditor refresh"),this._deactivate(),h>0&&0===m.length?s=v("NO_COMMON_PROPERTIES"):0===m.length&&(s=v("NO_COMPONENTS_SELECTED")),s)return o.markup("<div").attr("class","a-PropertyEditor-message").markup(">"),o.markup("<span").attr("class","a-Icon a-Icon--large icon-warning").markup(">"),o.markup("<span").attr("class","u-vh").markup(">").content(v("WARNING")).markup("</span>").markup("</span>"),o.markup("<p").attr("class","a-PropertyEditor-messageText").markup(">").content(s).markup("</p>"),o.markup("</div>"),u.html(o.toString()).addClass("is-empty"),void(l.searchable&&(u.prev().addClass("is-disabled").find(".a-Property-field--filter").prop("disabled",!0),l.pinSearch||this.clearSearch()));for(u.removeClass("is-empty"),y&&o.markup("<div").attr("class","a-PropertyEditor-editParent").markup(">").markup("<button").attr("type","button").attr("id",this.baseId+"externalEdit").attr("class",d+" a-Button--full a-Button--primary").markup(">").content(v("EDIT_COMPONENT")).markup("</button>").markup("</div>"),this._renderDisplayGroups(o),u.children().remove(),u.html('<div class="resize u-ScrollingViewport a-PropertyEditor-wrapper">'+o.toString()+"</div>"),l.searchable&&u.find(".a-PropertyEditor-wrapper").css("height",u.css("height")).css("width",u.css("width")),t=0;t<m.length;t++)for(i=m[t].properties,r=0;r<i.length;r++)n=i[r],this.propMap[n.propertyName]=n,this._callPropertyInit(n);l.focusPropertyName&&this.focus(l.focusPropertyName),l.searchable&&(this.hasSearchField?(l.pinSearch?this.search(l.searchKey):this.clearSearch(),u.prev().removeClass("is-disabled").find(".a-Property-field--filter").prop("disabled",!1)):(u.prev().find(".a-Toolbar-items--left").prepend('<div class="a-PropertyEditor-filter"><input aria-controls="pe" type="search" class="'+p+' a-Property-field--filter" aria-label="'+v("FILTER_PROPERTIES")+'" placeholder="'+v("FILTER")+'" /><span class="a-Icon icon-search a-PropertyEditor-filter-icon" aria-hidden="true"></span><button class="a-Button a-Button--noLabel a-Button--simple a-Button--stickyFilter" type="button" title="'+c+'" aria-label="'+c+'"><span class="a-Icon icon-pin" aria-hidden="true"></span></button></div>'),this.hasSearchField=!0))},getPropertyValue:function(t){var e=this._getProperty(t),a=this._getElement(e),r=e.metaData.type;return S[r].getValue(a.closest("div."+l))},updatePropertyValue:function(t,e,r){var i,n,s;a.info("propertyEditor updatePropertyValue: Property "+t+" to "+e),(i=this._getProperty(t))&&(n=this._getElement(i),s=i.metaData.type,e!==i.value&&(i.value=e,i.oldValue=e,e!==f?S[s].setValue(n,i,e,this.options.data.lastComponents):this.updateProperty(i),r||n.trigger("change")))},updateProperty:function(t){var r,i,n=this.options.data.propertySet,s=e.htmlBuilder();for(a.info("propertyEditor updateProperty: ",t),r=0;r<n.length;r++)for(i=0;i<n[r].properties.length;i++)n[r].properties[i].propertyName===t.propertyName&&(n[r].properties.splice(i,1),n[r].properties.splice(i,0,t));this._renderProperty(s,t),this._getElement(t).closest("div."+l).replaceWith(s.toString()),S[t.metaData.type].destroy(this._getElement(t),t),this._callPropertyInit(t)},addProperty:function(r){var i,n,s,p,d,c,h,m=e.htmlBuilder(),y=e.htmlBuilder(),f=this.options.data.propertySet,v=0,g=0,k=!1,C=!1,P=t.extend({property:{},prevPropertyName:null,displayGroup:{},prevDisplayGroupId:null},r);for(a.info("propertyEditor addProperty: ",P),i=0;i<f.length;i++)if(f[i].displayGroupId===P.property.metaData.displayGroupId){g=i,k=!0;break}if(!k){for(n=0;n<f.length;n++)if(f[n].displayGroupId===P.prevDisplayGroupId){g=n+1;break}f.splice(g,0,P.displayGroup)}for(d=f[g].properties,s=0;s<d.length;s++)if(d[s].propertyName===P.property.propertyName){v=s,C=!0;break}if(!C){for(p=0;p<d.length;p++)if(d[p].propertyName===P.prevPropertyName){v=p+1;break}f[g].properties.splice(v,0,P.property),this.propMap[P.property.propertyName]=P.property,k?(this._renderProperty(m,P.property),0===v?this.element.find(_(P.displayGroup.displayGroupId)).find("div."+o).prepend(m.toString()):t("#"+this.idMap[P.prevPropertyName]).closest("div."+l).after(m.toString()),c=this._countVisibleProperties(f[g].properties),h=this.element.find(_(P.displayGroup.displayGroupId)),c>0&&h.hasClass(u)&&h.removeClass(u)):(this._renderDisplayGroup(y,P.displayGroup,g),0===g?this.element.prepend(y.toString()):this.element.find(_(P.prevDisplayGroupId)).after(y.toString())),this._callPropertyInit(P.property)}},removeProperty:function(t){var e,r,i,s,o,p=!1,u=this.options.data.propertySet,d=!1;for(a.info("propertyEditor removeProperty: ",t),this.currentPropertyName===t&&this._deactivate(),e=0;e<u.length;e++)if(!d)for(p=1===u[e].properties.length,r=0;r<u[e].properties.length;r++)if(u[e].properties[r].propertyName===t){s=u[e].properties[r],o=(i=this._getElement(s)).closest("div."+n),p?(u.splice(e,1),o.remove()):(S[s.metaData.type].destroy(i,s),u[e].properties.splice(r,1),i.closest("div."+l).remove()),d=!0;break}},expand:function(t){var e=this.element.find("div."+n).filter(_(t));this._expand(e)},expandAll:function(){var e=this;this.element.find("div."+n).each((function(){e._expand(t(this))}))},collapseAll:function(){var e=this;this.element.find("div."+n).each((function(){e._collapse(t(this))}))},getValueVariesConstant:function(){return f},setValue:function(t,e,a,r){S[e.metaData.type].setValue(t,e,a,r)},getValue:function(t,e){return S[e.metaData.type].getValue(t,e)},focus:function(t){var e,a,r,i;i=t||(this.currentPropertyName?this.currentPropertyName:this.options.data.propertySet[0].properties[0].propertyName),(a=this._getProperty(i))&&((e=(r=this._getElement(a)).closest("div."+n)).hasClass("is-expanded")||this._expand(e),S[a.metaData.type].setFocus(r,a))},saveProperty:function(t){var e,a;t?e=t:this.currentPropertyName&&(e=this.currentPropertyName),e&&(a=this._getProperty(e),this._getElement(a).trigger("change"))},goToGroup:function(t){var e=this.options,a=this.element.find("div."+n).filter(_(t)).find("[data-property-id]").first().attr("data-property-id");e.searchable&&this.clearSearch(),this.collapseAll(),this.expand(t),this.focus(a)},search:function(e){var a,r=this.element,i=r.prev();if(r.find("."+m+", .a-Property-highlight").removeClass(m+" a-Property-highlight"),r.find(".a-Property-notFound").remove(),i.removeClass("has-active-filter"),!e||e.length<2)this.options.searchKey=null;else{a=e.trim().toLowerCase(),this.options.searchKey=a,i.addClass("has-active-filter");var n=[],s=[],o={},l=[],p=[],u=this,d=(r.find(".a-PropertyEditor-propertyGroup-title").each((function(e){var a=t(this),r=a.text().toLowerCase(),i=a.attr("id"),s=[];l.push(i),n[e]={pe_id:i,pe_title:r,pe_children:[]},s=n[e].pe_children,a.parent().next().find(".a-Property-label").each((function(){var e,a,r,n=t(this),l=n.attr("id");s.push({pe_label_id:l,pe_label:n.text().toLowerCase(),pe_value:(e=l.slice(0,-6),a=t("#"+e),r=a.get(0).tagName.toUpperCase(),("INPUT"===r||"TEXTAREA"===r?$v(e):"SELECT"===r?t("#"+e+" option:selected").text():"BUTTON"===r?a.text():"DIV"===r?a.find("input:checked").next().text():"").toLowerCase())}),p.push(l),o[l]=i}))})),function(e){var i,n,s,d,c,h,y,f,g=[],k=e.length,C=l.length,P=p.length;0===k&&r.find(".a-PropertyEditor-wrapper").append('<div class="a-Property-notFound"> <span class="a-Icon icon-search" aria-hidden="true"></span><br />'+v("FILTER_NO_MATCH")+"</div>");var b,D,E,_;for(n=0;n<C;n++)t("#"+l[n]).parent().parent().addClass(m);for(s=0;s<P;s++)t("#"+p[s]).parent().parent().addClass(m);for(i=0;i<k;i++)c=e[i],y=t("#"+c),(f=y.parent().parent()).removeClass(m),-1!==c.indexOf("_g_")&&f.find("."+m).removeClass(m),E=a,_=void 0,_=(D=y).text().replace(new RegExp("("+E+")","gi"),'<span class="a-Property-highlight">$1</span>'),D.html(_),g.push(-1!==(b=c).indexOf("_g_")?b:o[b]);for(h=(g=t.unique(g)).length,d=0;d<h;d++)y=t("#"+g[d]),f=y.parent().next(),u._expand(f.parent().removeClass(m))});!function(t){var e,a,r,i,o,l=n.length;for(e=0;e<l;e++)for(-1!=(r=n[e]).pe_title.indexOf(t)&&s.push(r.pe_id),o=r.pe_children.length,a=0;a<o;a++)-1==(i=r.pe_children[a]).pe_label.indexOf(t)&&-1==i.pe_value.indexOf(t)||s.push(i.pe_label_id);d(s)}(a)}},clearSearch:function(){this.options.searchKey=null,this.element.prev().removeClass("has-active-filter").find(".a-Property-field--filter").val("").trigger("keyup").siblings(".a-Button--stickyFilter").removeClass("is-active")}}),t.apex.propertyEditor.PROP_TYPE=y,t.apex.propertyEditor.addPropertyType=I}(apex.jQuery,apex.util,apex.debug,apex.locale,apex.lang);
!function(t,e,i,r){"use strict";var a="a-PopupLOV",s="a-Button";function l(t){return r.getMessage("LOV_DIALOG."+t)}t.widget("apex.lovDialog",t.ui.dialog,{version:"5.2",widgetEventPrefix:"lovdialog",baseId:null,filterHasSubFilter:[],filterIsSearch:[],filterFiltersOnChange:[],currentFilters:{},deferredFilterLov:t.Deferred(),options:{filterLov:null,idPrefix:null,multiValue:!1,filters:[],columnDefinitions:[],resultsDisplay:"table"},_create:function(){var e,i=this.options;if(!t.isFunction(i.filterLov))throw"Missing required 'filterLov' option.";if(0===i.columnDefinitions.length)throw"Missing required 'columnDefinitions' option.";this.baseId=(i.idPrefix||this.element[0].id||"lovDialog")+"_",this.element.addClass(a);for(var s=0;s<this.options.columnDefinitions.length;s++)this.options.columnDefinitions[s]=t.extend({alignment:"left",escape:!0},this.options.columnDefinitions[s]);return this.filterHasSubFilter=[],this.filterIsSearch=[],this.filterFiltersOnChange=[],this.currentFilters={},this.resultsDisplayTableMode="table"===this.options.resultsDisplay,this.options.closeText=r.getMessage("APEX.DIALOG.CLOSE"),e=this._super(),this.element.closest(".ui-dialog").attr("aria-modal",this.options.modal),this._renderLovDialog(),e},_renderLovDialog:function(){var i,r,s,n,o,u,p=this,m=e.htmlBuilder();if(m.markup("<div").attr("class",a).markup(">"),this._renderFilters(m,this.options.filters),m.markup("<div").attr("class","a-PopupLOV-results").markup(">"),this.resultsDisplayTableMode){for(m.markup("<table").attr("class","a-PopupLOV-resultsSet").attr("id",p.baseId+"lovEntries").markup(">").markup("<caption").attr("class","visuallyhidden").markup(">").content(l("LOV_ENTRIES")).markup("</caption>"),m.markup("<tr>"),this.options.multiValue&&m.markup("<th>").content(l("SELECT")).markup("</th>"),i=0;i<this.options.columnDefinitions.length;i++)u=this.options.columnDefinitions[i].title,o="left"===this.options.columnDefinitions[i].alignment?"u-textLeft":"u-textCenter",m.markup("<th").attr("class",o).optionalAttr("width",this.options.columnDefinitions[i].width).markup(">"),this.options.columnDefinitions[i].escape?m.content(u):m.markup(u),m.markup("</th>");m.markup("</tr>"),m.markup("</table>")}else m.markup("<div").attr("class","a-PopupLOV-resultsGrid-wrap").markup("><ul").attr("class","a-PopupLOV-resultsGrid").markup("></ul></div>");for(m.markup("</div>"),this.element.empty().append(m.toString()),this._lovEntries$=t("#"+this.baseId+"lovEntries"),this._filterLov(this.options.filters),this._on({click:this._resultsLinkClick}),r=0;r<this.filterIsSearch.length;r++)this._on("#"+this.filterIsSearch[r]+"_button",{click:this._doSearch}),this._on("#"+this.filterIsSearch[r],{keypress:function(t){13===t.which&&(p._doSearch(t),t.preventDefault())}});for(n=0;n<this.filterFiltersOnChange.length;n++)this._on("#"+this.filterFiltersOnChange[n],{change:this._doSearch});for(s=0;s<this.filterHasSubFilter.length;s++)this._on("#"+this.filterHasSubFilter[s],{change:this._filterHasSubFilterChange})},_resultsLinkClick:function(e){var i,r,a,s,l=t(e.target),n=!1;if(l.hasClass("a-PopupLOV-resultsSet-link")){for(var o in i=this.lovEntries[l.data("lov-entry-idx")],this.currentFilters){for(r=0;r<this.options.filters.length;r++)if(this.options.filters[r].name===o){if(n=!0,this.options.filters[r].lov)for(a=0;a<this.options.filters[r].lov.length;a++)if(this.options.filters[r].lov[a].value===this.currentFilters[o]){this.options.filters[r].lov[a].valueFormatting&&(s=this.options.filters[r].lov[a].valueFormatting);break}break}if(n)break}s&&t.extend(i,{valueFormatting:s}),this._trigger("valueSelected",{},i),!1===this.options.multiValue&&this.close()}},_doSearch:function(t){this._filterLov(this.options.filters)},_filterHasSubFilterChange:function(i){for(var r=e.htmlBuilder(),a=this.options.filters,s=t(i.target),l=s.data("filter-name"),n=0;n<a.length;n++)if(a[n].name===l)for(var o=0;o<a[n].lov.length;o++)if(a[n].lov[o].filters)if(s.val()===a[n].lov[o].value)this._renderFilters(r,a[n].lov[o].filters,!0),s.closest("div.a-PopupLOV-filterGroup").after(r.toString());else for(var u=0;u<a[n].lov[o].filters.length;u++)this.element.find("[data-filter-name="+a[n].lov[o].filters[u].name+"]").closest("div.a-PopupLOV-filterGroup").remove()},_filterLovEntries:function(t){var e,i,r,a=[];if(""!==t){for(r=t instanceof RegExp?t:new RegExp(t,"i"),e=0;e<this.lovEntries.length;e++)for(i=0;i<this.options.columnDefinitions.length;i++)if((this.lovEntries[e][this.options.columnDefinitions[i].name]+"").match(r)){a.push(this.lovEntries[e]);break}this.lovEntries=a}},_renderLovEntries:function(t,i){var r,a,s,n,o,u,p=e.htmlBuilder(),m=this;if(this.lovEntries=t.slice(),i&&this._filterLovEntries(i),this.resultsDisplayTableMode){for(r=0;r<this.lovEntries.length;r++){for(p.markup("<tr>"),this.options.multiValue&&p.markup("<td>").markup("<input").attr("type","checkbox").attr("title",l("SELECT")).attr("data-lov-row",r).markup(" />").markup("</td>"),a=0;a<this.options.columnDefinitions.length;a++)o=this.options.columnDefinitions[a].cellFormatting?function(t){p.markup(m.options.columnDefinitions[a].cellFormatting(t))}:this.options.columnDefinitions[a].escape?function(t){p.content(t)}:function(t){p.markup(t)},n=0!==(n=this.lovEntries[r][this.options.columnDefinitions[a].name])?n||"":n,"left"===this.options.columnDefinitions[a].alignment?s="u-textLeft":"right"===this.options.columnDefinitions[a].alignment?s="u-textRight":"center"===this.options.columnDefinitions[a].alignment&&(s="u-textCenter"),p.markup("<td").attr("class",s).markup(">"),0===a?(p.markup("<a").attr("class","a-PopupLOV-resultsSet-link").attr("href","#").attr("data-lov-entry-idx",r).markup(">"),o(n),p.markup("</a>")):o(n),p.markup("</td>");p.markup("</tr>")}this._lovEntries$.find("tr").after(p.toString())}else{for(r=0;r<this.lovEntries.length;r++)p.markup("<li").attr("class","a-PopupLOV-iconGrid-item").markup(">"),n=this.lovEntries[r].r,u=this.lovEntries[r].d,n=0!==n?n||"":n,p.markup("<a").attr("class","a-PopupLOV-resultsSet-link").attr("href","#").attr("data-lov-entry-idx",r).markup(">"),p.markup("<span").attr("class","fa "+n).attr("aria-hidden","true").markup("></span>"),p.content(u),p.markup("</a>"),p.markup("</li>");this.element.find(".a-PopupLOV-resultsGrid").append(p.toString())}},_updateCurrentFilters:function(e){var i,r,a,s;for(i=0;i<e.length;i++)if(r=e[i].name,t("#"+this.baseId+r).length>0&&(a=t("#"+this.baseId+e[i].name),t.inArray(e[i].type,["text","select","search"])>-1?s=a.val():"buttonset"===e[i].type&&(s=a.find("input:checked").val()),this.currentFilters[r]=s,e[i].lov))for(var l=0;l<e[i].lov.length;l++)e[i].lov[l].value===s&&e[i].lov[l].filters&&this._updateCurrentFilters(e[i].lov[l].filters)},_filterLov:function(i){var r,a=this;a.deferredFilterLov.reject({status:0},"superseded",null),a.deferredFilterLov=t.Deferred().always((function(){e.delayLinger.finish("lovDialog",(function(){r.remove()}))})).done((function(t,e){a._renderLovEntries(t,e)})),this.resultsDisplayTableMode?this._lovEntries$.find("tr").not(":first").remove():this.element.find(".a-PopupLOV-resultsGrid").empty(),this._updateCurrentFilters(i),e.delayLinger.start("lovDialog",(function(){r=e.showSpinner(t(".a-PopupLOV-results"))})),this.options.filterLov(this.currentFilters,(function(t,e){a.deferredFilterLov.resolve(t,e)}))},_renderSearch:function(t,e){t.markup("<div").attr("class","a-PopupLOV-search").markup(">"),t.markup("<div").attr("class","a-SearchBox").markup(">"),t.markup("<div").attr("class","a-SearchBox-field").markup(">"),t.markup("<span").attr("class","a-SearchBox-icon").markup(">"),t.markup("<span").attr("class","a-Icon icon-search").markup(">").markup("</span>"),t.markup("</span>"),t.markup("<input").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("type","text").attr("class","a-SearchBox-input").attr("title",e.title).attr("placeholder",e.title).attr("aria-controls",this.baseId+"lovEntries").attr("value",e.defaultValue?e.defaultValue:"").optionalBoolAttr("aria-required",e.isRequired).markup(" />"),t.markup("</div>"),t.markup("<button").attr("class",s+" a-Button--noLabel a-Button--withIcon a-Button--slim a-Button--pillEnd a-Button--primary").attr("value",l("GO")).attr("type","button").attr("id",this.baseId+e.name+"_button").attr("title",l("GO")).attr("aria-controls",this.baseId+"lovEntries").markup(">"),t.markup("<span").attr("class","a-Icon icon-right-chevron").markup(">").markup("</span>"),t.markup("<span").attr("class","visuallyhidden").markup(">").content("Go").markup("</span>"),t.markup("</button>"),t.markup("</div>"),t.markup("</div>"),this.filterIsSearch.push(this.baseId+e.name)},_renderText:function(t,e){t.markup("<div").attr("class","a-PopupLOV-filterGroup a-PopupLOV-filterGroup--lineFilter").markup(">"),t.markup("<span").attr("class","a-PopupLOV-filterLabel").markup(">"),t.markup("<label").attr("for",this.baseId+e.name).attr("class","a-Form-label a-PopupLOV-filterItem-label").markup(">").content(e.title).markup("</label>"),t.markup("</span>"),t.markup("<span").attr("class","a-PopupLOV-filterItem").markup(">"),t.markup("<input").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("type","text").attr("class","a-Form-field a-PopupLOV-filterItem-text").attr("value",e.defaultValue?e.defaultValue:"").optionalBoolAttr("aria-required",e.isRequired).markup(" />"),t.markup("</span>"),t.markup("</div>")},_renderSelect:function(t,e){var i,r=[];function a(i){var a=e.defaultValue===i.value;t.markup("<option").attr("value",i.value).optionalAttr("selected",a).markup(">").content(i.display).markup("</option>"),i.filters&&(this.filterHasSubFilter.push(this.baseId+e.name),a&&(r=i.filters))}for(this.filterFiltersOnChange.push(this.baseId+e.name),t.markup("<div").attr("class","a-PopupLOV-filterGroup a-PopupLOV-filterGroup--lineFilter").markup(">"),t.markup("<span").attr("class","a-PopupLOV-filterLabel").markup(">"),t.markup("<label").attr("for",this.baseId+e.name).attr("class","a-Form-label a-PopupLOV-filterItem-label").markup(">").content(e.title).markup("</label>"),t.markup("</span>"),t.markup("<span").attr("class","a-PopupLOV-filterItem").markup(">"),t.markup("<select").attr("id",this.baseId+e.name).attr("data-filter-name",e.name).attr("size","1").attr("class","a-Form-field a-Form-select a-PopupLOV-filterItem-select").attr("aria-controls",this.baseId+"lovEntries").optionalBoolAttr("aria-required",e.isRequired).markup(">"),e.isRequired||a({display:l("SELECT_VALUE"),value:""}),i=0;i<e.lov.length;i++)a(e.lov[i]);return t.markup("</select>"),t.markup("</span>"),t.markup("</div>"),r},_renderButtonSet:function(t,e){var i,r,a=[];for(this.filterFiltersOnChange.push(this.baseId+e.name),t.markup("<div").attr("class","a-PopupLOV-filterGroup a-PopupLOV-filterGroup--lineFilter").markup(">"),t.markup("<span").attr("class","a-PopupLOV-filterItem apex-button-group").attr("id",this.baseId+e.name).attr("role","group").attr("aria-label",e.title).attr("aria-controls",this.baseId+"lovEntries").markup(">"),t.markup("<div").attr("class","apex-item-grid-row").markup(">"),i=0;i<e.lov.length;i++)r=e.defaultValue===e.lov[i].value,t.markup("<div").attr("class","apex-item-option").markup(">"),t.markup("<input").attr("id",this.baseId+e.name+"_"+e.lov[i].value).attr("type","radio").optionalAttr("checked",r).attr("value",e.lov[i].value).attr("name",this.baseId+e.name).attr("data-filter-name",e.name).markup(" />"),t.markup("<label").attr("for",this.baseId+e.name+"_"+e.lov[i].value).markup(">").content(e.lov[i].display).markup("</label>"),t.markup("</div>"),e.lov[i].filters&&(this.filterHasSubFilter.push(this.baseId+e.name),r&&(a=e.lov[i].filters));return t.markup("</div>"),t.markup("</span>"),t.markup("</div>"),a},_renderFilters:function(t,e,i){var r,a=[];for(e.length>0&&!i&&t.markup("<div").attr("class","a-PopupLOV-filters").markup(">"),r=0;r<e.length;r++){switch(a=[],e[r].type){case"search":this._renderSearch(t,e[r]);break;case"text":this._renderText(t,e[r]);break;case"select":a=this._renderSelect(t,e[r]);break;case"buttonset":a=this._renderButtonSet(t,e[r])}a.length>0&&this._renderFilters(t,a,!0)}e.length>0&&!i&&t.markup("</div>")},close:function(){return this.element.removeClass(a).empty(),this._super()}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
!function(a,e,t,r,o,i,l,f,n){"use strict";var s,p="a-Property",c="a-Button",u="CSS",d="JAVASCRIPT",m="HTML",h="COMPONENT",y="LINK",g="ITEM",E="FACET",P="PAGE",_="CODE LANGUAGE",T="MLE JAVASCRIPT",v="MLE JAVASCRIPT EXPRESSION VARCHAR2",I="MLE JAVASCRIPT EXPRESSION BOOLEAN",b="MLE JAVASCRIPT FUNCTION BODY VARCHAR2",A="MLE JAVASCRIPT FUNCTION BODY BOOLEAN",O="MLE JAVASCRIPT FUNCTION BODY SQL",w="PLSQL",R="PLSQL EXPRESSION VARCHAR2",C="PLSQL EXPRESSION BOOLEAN",k="PLSQL FUNCTION BODY VARCHAR2",S="PLSQL FUNCTION BODY BOOLEAN",N="PLSQL FUNCTION BODY SQL",L="SQL",D="SQL EXPRESSION",x="SQL EXPRESSION BOOLEAN",G="SUBSCRIPTION",M="SUPPORTED UI",V="OWNER",U="TABLE",Y="COLUMN",q="REGION COLUMN",B="WHERE CLAUSE",H="ORDER BY CLAUSE",F="ICON",j="LINK SET ITEMS",K="TEXT EDITOR",X="HIDDEN",Q="XML",W="TEMPLATE OPTIONS",z="TEMPLATE OPTIONS GENERAL",J="STATIC LOV",$="STATIC LOV VALUES",Z="CHECKBOXES",aa="SELECT LIST",ea=[X,m,y,J,V,"POPUP LOV","RADIOS",U],ta={TYPE:"linkType",APPLICATION:"linkApp",PAGE:"linkPage",URL:"linkUrl",SET_ITEMS:"linkSetItems",CLEAR_CACHE:"linkClearCache",CLEAR_ACTION:"linkClearAction",RESET_PAGE_REGIONS:"linkResetPageRegion",RESET_PAGINATION:"linkResetPagination",REQUEST:"linkRequest",ANCHOR:"linkAnchor",SUCCESS_MESSAGE:"linkSuccessMessage"},ra={TARGET:"TARGET",SET_ITEMS:"SET_ITEMS",CLEAR_SESSION:"CLEAR_SESSION_STATE",ADVANCED:"ADVANCED"},oa={PAGE_IN_THIS_APP:"PAGE_IN_THIS_APP",PAGE_IN_DIFF_APP:"PAGE_IN_DIFF_APP",URL:"URL"},ia={PROP:{VALUES:"staticLovValues",SORT:"staticLovSort"},GROUP:{VALUES:"VALUES"}},la={};function fa(a){return r.getMessage("PD.PE."+a)}function na(a){var e=fa(a),t=[e].concat(Array.prototype.slice.call(arguments,1));return r.format.apply(this,t)}function sa(a){var e=fa(a),t=[e].concat(Array.prototype.slice.call(arguments,1));return r.formatNoEscape.apply(this,t)}e.widget("apex.pdPropertyEditor",{version:"20.2",widgetEventPrefix:"pdpropertyeditor",widgetName:"",lastComponents:null,options:{mode:""},_create:function(){var X=this,Z=this.options;e.apex.propertyEditor.addPropertyType(M,{init:function(a,t,r){var i,l=":not([value='"+o.escapeCSS(a.val())+"'])";this.super("init",a,t),i=a.html(),a.find("[data-is-supported=false],[data-is-legacy=true]").filter(l).remove(),a.append(e("<option>").attr("value","$LEGACY$").text(fa("SHOW_LEGACY"))),a.change((function(){"$LEGACY$"===a.val()&&a.empty().append(i)}))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(h,{render:function(t,r,o,i){var l,f=[a.COMP_TYPE.LOV,a.COMP_TYPE.LIST,a.COMP_TYPE.BREADCRUMB,a.COMP_TYPE.PAGE_TEMPLATE,a.COMP_TYPE.FIELD_TEMPLATE,a.COMP_TYPE.BUTTON_TEMPLATE,a.COMP_TYPE.REGION_TEMPLATE,a.COMP_TYPE.LIST_TEMPLATE,a.COMP_TYPE.BREADCRUMB_TEMPLATE,a.COMP_TYPE.CALENDAR_TEMPLATE,a.COMP_TYPE.REPORT_TEMPLATE,a.COMP_TYPE.AUTHORIZATION,a.COMP_TYPE.BUILD_OPTION,a.COMP_TYPE.DATA_LOAD_TABLE,a.COMP_TYPE.WS_REF],n=a.getComponentType(o.metaData.lovComponentTypeId);(n.isPageComponent||-1!==e.inArray(o.metaData.lovComponentTypeId,f))&&(l={icon:"a-Icon icon-go-to-component",text:sa("GO_TO_COMPONENT",n.title.singular)}),this.super("render",t,r,o,i,l)},init:function(t,r,o){var l=e("#"+t.attr("id")+"_btn");function f(){""!==t.val()&&/^[-!]?[0-9]*$/.test(t.val())?l.attr("disabled",!1):l.attr("disabled",!0)}this.super("init",t,r,o),l.length>0&&(t.change(f),f(),l.on("click",(function(){var e,t=r.value;""!==t&&(r.metaData.lovComponentTypeId!==a.COMP_TYPE.BUILD_OPTION&&r.metaData.lovComponentTypeId!==a.COMP_TYPE.AUTHORIZATION||!/^[-!]/.test(t)||(t=t.substr(1)),e=a.getComponents(r.metaData.lovComponentTypeId,{id:t})[0],i.goToComponent(e.typeId,e.id))})))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(y,{_getButtonText:function(a){var e=fa("LINK.NO_LINK_DEFINED");return a&&(e=a!==X.element.propertyEditor("getValueVariesConstant")?i.splitApexUrl(a).display:""),e},_getDisplayGroupTarget:function(a){return{displayGroupId:ra.TARGET,displayGroupTitle:fa("LINK.DG.TARGET"),properties:a||[]}},_getDisplayGroupSetItems:function(a){return{displayGroupId:ra.SET_ITEMS,displayGroupTitle:fa("LINK.DG.SET_ITEMS"),properties:a||[]}},_getDisplayGroupClearSessionState:function(a){return{displayGroupId:ra.CLEAR_SESSION,displayGroupTitle:fa("LINK.DG.CLEAR_SESSION"),properties:a||[]}},_getDisplayGroupAdvanced:function(a){var e,t=!0;if(a)for(e=0;e<a.length;e++)if(a[e].value){t=!1;break}return{displayGroupId:ra.ADVANCED,displayGroupTitle:fa("LINK.DG.ADVANCED"),collapsed:t,properties:a||[]}},_getPropertyLinkType:function(a){return e.extend(!0,{propertyName:ta.TYPE,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.SELECT_LIST,prompt:fa("TYPE"),isRequired:!0,lovValues:[{d:fa("LINK.TYPE.PAGE_IN_THIS_APP"),r:oa.PAGE_IN_THIS_APP},{d:fa("LINK.TYPE.PAGE_IN_DIFF_APP"),r:oa.PAGE_IN_DIFF_APP},{d:fa("LINK.URL"),r:oa.URL}],displayGroupId:ra.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkApp:function(a){return e.extend(!0,{propertyName:ta.APPLICATION,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:fa("APPLICATION"),isRequired:!0,displayGroupId:ra.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkPage:function(a){return e.extend(!0,{propertyName:ta.PAGE,value:"",metaData:{type:P,prompt:fa("LINK.PAGE"),isRequired:!0,displayGroupId:ra.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkUrl:function(a){return e.extend(!0,{propertyName:ta.URL,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:fa("LINK.URL"),isRequired:!0,displayGroupId:ra.TARGET},errors:[],warnings:[]},a)},_getPropertyLinkSetItems:function(a,t){return e.extend(!0,{propertyName:ta.SET_ITEMS,value:{names:[],values:[]},metaData:{type:j,prompt:fa("LINK.DG.SET_ITEMS"),displayGroupId:ra.SET_ITEMS,originalProperty:t},errors:[],warnings:[]},a)},_getPropertyLinkClearCache:function(a){return e.extend(!0,{propertyName:ta.CLEAR_CACHE,value:"",metaData:{prompt:fa("LINK.CLEAR_CACHE"),type:P,multiValueDelimiter:",",displayGroupId:ra.CLEAR_SESSION},errors:[],warnings:[]},a)},_getPropertyLinkClearAction:function(a){return e.extend(!0,{propertyName:ta.CLEAR_ACTION,value:"Y",metaData:{prompt:fa("LINK.CLEAR_ACTION"),type:e.apex.propertyEditor.PROP_TYPE.PILL_BUTTONS,lovValues:[{d:fa("LINK.CLEAR_ACTION.NONE"),r:"NONE"},{d:fa("LINK.CLEAR_ACTION.CLEAR_REGIONS"),r:"CR"},{d:fa("LINK.CLEAR_ACTION.RESET_REGIONS"),r:"RR"},{d:fa("LINK.CLEAR_ACTION.RESET_PAGINATION"),r:"RP"}],displayGroupId:ra.CLEAR_SESSION,isRequired:!0},errors:[],warnings:[]},a)},_getPropertyLinkRequest:function(a){return e.extend(!0,{propertyName:ta.REQUEST,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:fa("LINK.REQUEST"),displayGroupId:ra.ADVANCED},errors:[],warnings:[]},a)},_getPropertyLinkAnchor:function(a){return e.extend(!0,{propertyName:ta.ANCHOR,value:"",metaData:{type:e.apex.propertyEditor.PROP_TYPE.TEXT,prompt:fa("LINK.ANCHOR"),displayGroupId:ra.ADVANCED},errors:[],warnings:[]},a)},_getPropertyLinkSuccessMessage:function(a){return e.extend(!0,{propertyName:ta.SUCCESS_MESSAGE,value:"Y",metaData:{prompt:fa("LINK.SUCCESS_MESSAGE"),type:e.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ra.ADVANCED,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t,r){var o=e+"_label";this.renderDivOpen(a,{class:"a-Property-fieldContainer"}),a.markup("<button").attr("type","button").attr("id",e).attr("aria-describedby",o).attr("class",c+" a-Property-button a-Button--forceWrap").attr("data-property-id",t.propertyName).attr("value",t.value).markup(">").content(this._getButtonText(t.value)).markup("</button>"),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.html(o).attr("title",o)},init:function(t,l,f){var n,s,c=[],u=this,d=a.getComponentType(f[0].typeId).id,m=[a.COMP_TYPE.IR_ATTRIBUTES,a.COMP_TYPE.IR_COLUMN,a.COMP_TYPE.CLASSIC_RPT_COLUMN,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.CHART_SERIES,a.COMP_TYPE.MAP_CHART_SERIES];if(this.addLabelClickHandler(t,l),this.addTooltipsForErrors(t,l),e.inArray(d,m)>-1)for(s=a.getItemsLov({type:"columns",component:f[0]}),n=0;n<s.length;n++)c.push(s[n].name);t.closest("div."+p).on("click","#"+t.attr("id"),(function(){var n,s,p=o.htmlBuilder(),d=i.splitApexUrl(t.val(),null,c),m=[],h=!1,y=!1,g=!1,E=l.metaData.isRequired,P=l.metaData.isReadOnly;switch(a.getComponentType(f[0].typeId).id){case a.COMP_TYPE.BRANCH:h=!0;break;case a.COMP_TYPE.BUTTON:y=!0;break;case a.COMP_TYPE.CARD_ACTION:g=!0}if(y)switch(f[0].getProperty(a.PROP.BUTTON_ACTION).getValue()){case"REDIRECT_URL":s=i.LINK_TYPE.URL;break;case"REDIRECT_PAGE":s=i.LINK_TYPE.PAGE_IN_THIS_APP;break;case"REDIRECT_APP":s=i.LINK_TYPE.PAGE_IN_DIFF_APP}else if(g)switch(f[0].getProperty(a.PROP.CARD_LINK_TARGET_TYPE).getValue()){case"REDIRECT_URL":s=i.LINK_TYPE.URL;break;case"REDIRECT_PAGE":s=i.LINK_TYPE.PAGE_IN_THIS_APP;break;case"REDIRECT_APP":s=i.LINK_TYPE.PAGE_IN_DIFF_APP}else s=d.type;function _(a){var e,t,r;for(e=0;e<m.length;e++)for(t=0;t<m[e].properties.length;t++)if(m[e].properties[t].propertyName===a){r=m[e].properties[t];break}return r}m.push(u._getDisplayGroupTarget([u._getPropertyLinkType({value:s,metaData:{isReadOnly:P||y||g,isRequired:E}}),u._getPropertyLinkApp({value:s===i.LINK_TYPE.PAGE_IN_DIFF_APP?d.appId:"",metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkPage({value:d.pageId,metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkUrl({value:d.url,metaData:{isReadOnly:l.metaData.isReadOnly}})])),m.push(u._getDisplayGroupSetItems([u._getPropertyLinkSetItems({value:{names:d.itemNames,values:d.itemValues},metaData:{isReadOnly:l.metaData.isReadOnly}},l)])),m.push(u._getDisplayGroupClearSessionState([u._getPropertyLinkClearCache({value:d.clearCache,metaData:{isReadOnly:l.metaData.isReadOnly}}),u._getPropertyLinkClearAction({value:d.clearAction,metaData:{isReadOnly:l.metaData.isReadOnly}})]));var T=[];T.push(u._getPropertyLinkRequest({value:d.request,metaData:{isReadOnly:l.metaData.isReadOnly}})),T.push(u._getPropertyLinkAnchor({value:d.anchor,metaData:{isReadOnly:l.metaData.isReadOnly}})),h&&T.push(u._getPropertyLinkSuccessMessage({value:d.successMessage,metaData:{isReadOnly:l.metaData.isReadOnly}})),m.push(u._getDisplayGroupAdvanced(T)),p.markup("<div").attr("id","linkDlg").attr("title",sa("LINK.TITLE",l.metaData.prompt)).markup(">").markup("<div").attr("id","linkDlgPE").markup(">").markup("</div>").markup("</div>"),n=e(p.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:"ui-dialog-flushBody",create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#linkDlgPE").propertyEditor("destroy"),n.dialog("destroy")},open:function(){function a(a){var e={metaData:{isReadOnly:l.metaData.isReadOnly}};switch(a){case oa.PAGE_IN_THIS_APP:t.propertyEditor("removeProperty",ta.URL),t.propertyEditor("removeProperty",ta.APPLICATION),t.propertyEditor("addProperty",{property:u._getPropertyLinkPage(e),prevPropertyName:ta.TYPE,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkSetItems(e,l),displayGroup:u._getDisplayGroupSetItems(),prevDisplayGroupId:ra.TARGET}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearCache(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:ra.SET_ITEMS}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearAction(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:ra.SET_ITEMS}),t.propertyEditor("addProperty",{property:u._getPropertyLinkRequest(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION}),t.propertyEditor("addProperty",{property:u._getPropertyLinkAnchor(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION}),h&&t.propertyEditor("addProperty",{property:u._getPropertyLinkSuccessMessage(e),prevPropertyName:ta.RESET_PAGINATION,displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION});break;case oa.PAGE_IN_DIFF_APP:t.propertyEditor("removeProperty",ta.URL),t.propertyEditor("addProperty",{property:u._getPropertyLinkApp(e),prevPropertyName:ta.TYPE,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkPage(e),prevPropertyName:ta.APPLICATION,displayGroup:u._getDisplayGroupTarget()}),t.propertyEditor("addProperty",{property:u._getPropertyLinkSetItems(e,l),displayGroup:u._getDisplayGroupSetItems(),prevDisplayGroupId:ra.TARGET}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearCache(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:ra.SET_ITEMS}),t.propertyEditor("addProperty",{property:u._getPropertyLinkClearAction(e),displayGroup:u._getDisplayGroupClearSessionState(),prevDisplayGroupId:ra.SET_ITEMS}),t.propertyEditor("addProperty",{property:u._getPropertyLinkRequest(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION}),t.propertyEditor("addProperty",{property:u._getPropertyLinkAnchor(e),displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION}),h&&t.propertyEditor("addProperty",{property:u._getPropertyLinkSuccessMessage(e),prevPropertyName:ta.RESET_PAGINATION,displayGroup:u._getDisplayGroupAdvanced(),prevDisplayGroupId:ra.CLEAR_SESSION});break;case oa.URL:t.propertyEditor("removeProperty",ta.APPLICATION),t.propertyEditor("removeProperty",ta.PAGE),t.propertyEditor("removeProperty",ta.SET_ITEMS),t.propertyEditor("removeProperty",ta.REQUEST),t.propertyEditor("removeProperty",ta.ANCHOR),t.propertyEditor("removeProperty",ta.CLEAR_CACHE),t.propertyEditor("removeProperty",ta.CLEAR_ACTION),t.propertyEditor("removeProperty",ta.SUCCESS_MESSAGE),t.propertyEditor("addProperty",{property:u._getPropertyLinkUrl(e),prevPropertyName:ta.TYPE,displayGroup:u._getDisplayGroupTarget()});break;default:t.propertyEditor("removeProperty",ta.APPLICATION),t.propertyEditor("removeProperty",ta.PAGE),t.propertyEditor("removeProperty",ta.SET_ITEMS),t.propertyEditor("removeProperty",ta.REQUEST),t.propertyEditor("removeProperty",ta.ANCHOR),t.propertyEditor("removeProperty",ta.CLEAR_CACHE),t.propertyEditor("removeProperty",ta.CLEAR_ACTION),t.propertyEditor("removeProperty",ta.SUCCESS_MESSAGE),t.propertyEditor("removeProperty",ta.URL)}}var t=e("#linkDlgPE");t.propertyEditor({focusPropertyName:ta.TYPE,data:{propertySet:m,multiEdit:!1,lastComponents:f},change:function(e,t){t.propertyName===ta.TYPE&&a(_(ta.TYPE).value),_(t.propertyName).value=t.property.value}}),a(_(ta.TYPE).value),e("#linkDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:fa("CANCEL"),click:function(){n.dialog("close")}},{text:fa("CLEAR"),disabled:E||P,click:function(){e("#linkDlgPE").propertyEditor("updatePropertyValue",ta.TYPE,""),u.setValue(t,l,""),t.trigger("change"),u.setFocus(t),n.dialog("close")}},{text:fa("OK"),class:"a-Button--hot",disabled:P,click:function(){var a,r,o,i,f=[];function s(a,e){var t=_(a);return t.errors.push(e),t}if((a=_(ta.TYPE).value)===oa.PAGE_IN_THIS_APP||a===oa.PAGE_IN_DIFF_APP?(a===oa.PAGE_IN_DIFF_APP&&""===_(ta.APPLICATION).value&&f.push(s(ta.APPLICATION,fa("IS_REQUIRED"))),""===_(ta.PAGE).value&&f.push(s(ta.PAGE,fa("IS_REQUIRED"))),0===f.length&&(r="f?p="+(a===oa.PAGE_IN_THIS_APP?"&APP_ID.":_(ta.APPLICATION).value)+":"+_(ta.PAGE).value+":&SESSION.:"+_(ta.REQUEST).value+":&DEBUG.:"+(o=_(ta.CLEAR_CACHE).value,("NONE"===(i=_(ta.CLEAR_ACTION).value)?o:i+","+o)+":")+(_(ta.SET_ITEMS).value.names||[]).join(",")+":"+(_(ta.SET_ITEMS).value.values||[]).join(","),_(ta.ANCHOR).value&&(r+="#"+_(ta.ANCHOR).value),h&&"Y"===_(ta.SUCCESS_MESSAGE).value&&(r+="&success_msg=#SUCCESS_MSG#"))):a===oa.URL&&(""===_(ta.URL).value&&f.push(s(ta.URL,fa("IS_REQUIRED"))),0===f.length&&(r=_(ta.URL).value)),0===f.length)u.setValue(t,l,r),t.trigger("change"),u.setFocus(t),n.dialog("close");else for(var p=0;p<f.length;p++)e("#linkDlgPE").propertyEditor("updateProperty",f[p])}}]})}))}}),e.apex.propertyEditor.addPropertyType(j,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:85,maxHeight:122,render:function(a,e,t,r){var o=e+"_label";a.markup("<div").attr("id",e).attr("class","a-Property-fieldContainer").attr("aria-labelledby",o).attr("role","group").attr("data-property-id",t.propertyName).markup(">"),a.markup("<table").attr("class","a-Property-setItemsTable").markup(">").markup("<caption").attr("class","u-vh").markup(">").content(fa("LINK.DG.SET_ITEMS")).markup("</caption>").markup("<tr>").markup("<th").attr("scope","col").attr("class","a-Property-setItemsHeader-header").markup(">").content(fa("NAME")).markup("</th>").markup("<th").attr("scope","col").attr("class","u-vh").markup(">").content(fa("LINK.NAME_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("scope","col").attr("class","a-Property-setItemsHeader-header").markup(">").content(fa("LINK.VALUE")).markup("</th>").markup("<th").attr("scope","col").attr("class","u-vh").markup(">").content(fa("LINK.VALUE_LIST_OF_VALUES")).markup(">").markup("</th>").markup("<th").attr("class","u-vh").markup(">").content(fa("LINK.REMOVE")).markup("</th>").markup("</tr>");for(var i=0;i<t.value.names.length;i++)this._renderLinkItemsRow(a,{rowId:i+1,idPrefix:e,name:t.value.names[i],value:t.value.values[i],readOnly:t.metaData.isReadOnly});t.metaData.isReadOnly||this._renderLinkItemsRow(a,{rowId:t.value.names.length+1,idPrefix:e}),a.markup("</table>"),this.renderDivClose(a)},init:function(t,r,i){var l={columnDefinitions:[{name:"name",title:fa("NAME"),alignment:"left"},{name:"label",title:fa("LABEL"),alignment:"left"}],filterLov:function(t,r){var o,l="page";switch(t.scope){case"application":l="application",o="";break;case"current_page":o=a.getCurrentPageId();break;case"global_page":o=a.getGlobalPageId();break;case"target_page":o=e("#linkDlg").find("[data-property-id="+ta.PAGE+"]").val();break;case"custom_page":o=t.customPageNumber;break;case"columns":l="columns"}a.getItemsLov({type:l,component:i[0],pageId:o},(function(a){r(a,t.search)}))},multiValue:!1,dialogTitle:sa("PICK",r.metaData.prompt)};function f(a){var t=o.htmlBuilder(),r=l.filters;t.markup("<div").attr("id","lovDlg").attr("title",l.dialogTitle).markup(">").markup("</div>"),e(t.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:r,columnDefinitions:l.columnDefinitions,filterLov:l.filterLov,dialogClass:"ui-dialog-flushBody",resizable:!1,multiValue:l.multiValue,valueSelected:function(t,r){var o=r[l.columnDefinitions[0].name],i=e("#"+a);r.valueFormatting&&e.isFunction(r.valueFormatting)&&(o=r.valueFormatting(o)),i.val(o).trigger("change")}})}var n=this,s=t.closest("div."+p),c=t.attr("id");r.metaData.isReadOnly||s.on("change","input.linkDlgItemName:last",(function(){var a=o.htmlBuilder(),t=o.htmlBuilder(),r=e(this);if(r.val()){var i=e("input.linkDlgItemName").length;n._renderLinkItemsRow(a,{rowId:i+1,idPrefix:c}),n.renderIconButton(t,{id:c+"_rowRemove_"+i,icon:"a-Icon icon-remove",text:na("LINK.REMOVE_ITEM_N",i)}),r.closest("tr").find("td:last").html(t.toString()).end().after(a.toString())}})).on("click","button[id^="+c+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr").find(":input:first");e(this).closest("tr").remove(),a.trigger("change").focus()})).on("click","button[id^="+c+"_nameLovBtn_]",(function(){l.filters=[{name:"scope",title:fa("ITEM_SCOPE"),type:"buttonset",defaultValue:"target_page",lov:[{display:fa("TARGET_PAGE"),value:"target_page"},{display:fa("CURRENT_PAGE"),value:"current_page"},{display:fa("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:fa("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:fa("GLOBAL_PAGE"),value:"global_page"},{display:fa("APPLICATION"),value:"application"}]},{name:"search",title:fa("SEARCH"),type:"search"}],f(e(this).data("for"))})).on("click","button[id^="+c+"_valueLovBtn_]",(function(){var t,o,n,s=r.metaData.originalProperty;function p(e){return"&"+a.enquoteIdentifier(e)+"."}for(l.filters=[{name:"scope",title:fa("ITEM_SCOPE"),type:"buttonset",defaultValue:"current_page",lov:[{display:fa("TARGET_PAGE"),value:"target_page",valueFormatting:function(a){return p(a)}},{display:fa("CURRENT_PAGE"),value:"current_page",valueFormatting:function(a){return p(a)}},{display:fa("CUSTOM_PAGE"),value:"custom_page",valueFormatting:function(a){return p(a)},filters:[{name:"customPageNumber",title:fa("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:fa("GLOBAL_PAGE"),value:"global_page",valueFormatting:function(a){return p(a)}},{display:fa("APPLICATION"),value:"application",valueFormatting:function(a){return p(a)}}]},{name:"search",title:fa("SEARCH"),type:"search"}],t=0;t<l.filters.length;t++)if("scope"===(n=l.filters[t]).name&&"ROW"===s.metaData.referenceScope)for(n.defaultValue="columns",o=0;o<n.lov.length;o++)if("target_page"===n.lov[o].value){n.lov[o]={display:fa("COLUMNS"),value:"columns",valueFormatting:function(t){var r,o=[a.COMP_TYPE.IR_ATTRIBUTES,a.COMP_TYPE.IR_COLUMN,a.COMP_TYPE.CLASSIC_RPT_COLUMN,a.COMP_TYPE.TAB_FORM_COLUMN,a.COMP_TYPE.CHART_SERIES,a.COMP_TYPE.MAP_CHART_SERIES];return r=a.getComponentType(i[0].typeId).id,-1!==e.inArray(r,o)?"#"+t+"#":p(t)}};break}f(e(this).data("for"))})),this.addLabelClickHandler(t,r)},setFocus:function(a){a.find(":input:first").focus()},getValue:function(a){var t,r,o=[],i=[];return a.find("tr.linkDlgSetItemsRowData").each((function(){t=e(this).find(":input.linkDlgItemName"),r=e(this).find(":input.linkDlgItemValue"),""!==t.val()&&(o.push(t.val()),i.push(r.val()))})),{names:o,values:i}},_renderLinkItemsRow:function(a,t){var r,o,i=e.extend({rowId:"",idPrefix:"",name:"",value:"",readOnly:!1},t);r=i.idPrefix+"_name_"+i.rowId,o=i.idPrefix+"_value_"+i.rowId,a.markup("<tr").attr("class","linkDlgSetItemsRowData").markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:r,value:i.name,inputClass:["linkDlgItemName","a-Property-field","a-Property-field--text"],readonly:i.readOnly,attributes:{"aria-label":na("LINK.ITEM_N_NAME",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:i.idPrefix+"_nameLovBtn_"+i.rowId,icon:"a-Icon icon-popup-lov",text:na("LINK.ITEM_N_NAME_LOV",i.rowId),dataFor:r,disabled:i.readOnly}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:o,value:i.value,inputClass:["linkDlgItemValue","a-Property-field","a-Property-field--text"],readonly:i.readOnly,attributes:{"aria-label":na("LINK.ITEM_N_VALUE",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderIconButton(a,{id:i.idPrefix+"_valueLovBtn_"+i.rowId,icon:"a-Icon icon-popup-lov",text:na("LINK.ITEM_N_VALUE_LOV",i.rowId),dataFor:o,disabled:i.readOnly}),a.markup("</td>"),a.markup("<td").attr("class","a-Property-setItemsTable-removeCol").markup(">"),i.name&&this.renderIconButton(a,{id:i.idPrefix+"_rowRemove_"+i.rowId,icon:"a-Icon icon-remove",text:na("LINK.REMOVE_ITEM_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("</tr>")}});var aa,ea,pa,ca=-1;e.apex.propertyEditor.addPropertyType(K,{render:function(a,e,t,r){this.super("render",a,e,t,r,!0)},init:function(n,s,c){var u,d=this,m=e("#"+n.attr("id")+"_modalBtn");this.super("init",n,s,c),m.on("click",(function(){var p,m,h,y,g,E,P="plaintext",_={allowNamelessFunctions:!1},T=!1,v=[],I=c[0].getProperty(s.propertyName),b=o.htmlBuilder();function A(){ca=m.codeEditor("changeGeneration"),t.trace("Editor: update change generation: "+ca)}switch(s.metaData.type){case a.PROP_TYPE.CSS:P="css";break;case a.PROP_TYPE.HTML:P="html";break;case a.PROP_TYPE.JAVASCRIPT:P="javascript",s.propertyName!==a.PROP.INIT_JAVASCRIPT_CODE&&s.propertyName!==a.PROP.PLUGIN_INIT_JAVASCRIPT_CODE||(_.allowNamelessFunctions=!0);break;case a.PROP_TYPE.MLE_JS:case a.PROP_TYPE.MLE_JS_EXPR_VARCHAR:case a.PROP_TYPE.MLE_JS_EXPR_BOOLEAN:case a.PROP_TYPE.MLE_JS_FUNC_VARCHAR:case a.PROP_TYPE.MLE_JS_FUNC_BOOLEAN:case a.PROP_TYPE.MLE_JS_FUNC_SQL:P="mle-javascript";break;case a.PROP_TYPE.XML:P="xml";break;case a.PROP_TYPE.SQL:case a.PROP_TYPE.SQL_EXPR:case a.PROP_TYPE.SQL_EXPR_BOOLEAN:case a.PROP_TYPE.WHERE_CLAUSE:case a.PROP_TYPE.PLSQL:case a.PROP_TYPE.PLSQL_EXPR_VARCHAR:case a.PROP_TYPE.PLSQL_EXPR_BOOLEAN:case a.PROP_TYPE.PLSQL_FUNC_VARCHAR:case a.PROP_TYPE.PLSQL_FUNC_BOOLEAN:case a.PROP_TYPE.PLSQL_FUNC_SQL:P="sql"}v.push({text:fa("CANCEL"),click:function(){p.dialog("close")}}),s.metaData.type===a.PROP_TYPE.SQL&&(E=function(e,t){l.popup({url:o.makeApplicationUrl({appId:4500,pageId:1002,clearCache:1002,itemNames:["P1002_RETURN_INTO","P1002_POPUP","P1002_SCHEMA"],itemValues:[e.baseId,"1",a.getParsingSchema()]}),width:950,height:720})}),"sql"!==P||s.metaData.isReadOnly||(g=function(a,e){e(I.validate(a))}),v.push({text:fa("OK"),class:"a-Button--hot",click:function(){d.super("setValue",n,s,m.codeEditor("getValue")),n.trigger("change"),A(),d.super("setFocus",n),p.dialog("close")}}),b.markup("<div").attr("id","editorDlg").attr("title",sa("CODE_EDITOR.TITLE",s.metaData.prompt)).markup(">").markup("<div").attr("id","editorDlg-codeEditor").markup("class='resize'>").markup("</div>").markup("</div>"),h=ea,(y=aa)>e(window).width()-40&&(y=e(window).width()-40),h>e(window).height()-40&&(h=e(window).height()-40),p=e(b.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),width:y,height:h,minWidth:680,minHeight:400,create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},beforeClose:function(a){var e=!0;m.codeEditor("isClean",ca)||(e=confirm(fa("EDITOR.UNSAVED_CHANGES"))),e||a.preventDefault()},close:function(){var a=p.closest(".ui-dialog");T&&(pa=m.codeEditor("getPreferencesString"),window.gPreferences.CODE_EDITOR_SETTINGS=pa,f.process("setPreference",{x01:"CODE_EDITOR_SETTINGS",x02:pa},{dataType:""})),aa!==a.outerWidth()&&(aa=a.outerWidth(),i.savePreference("PE_CODE_EDITOR_DLG_W",aa)),ea!==a.outerHeight()&&(ea=a.outerHeight(),i.savePreference("PE_CODE_EDITOR_DLG_H",ea)),p.dialog("destroy").remove()},open:function(){var t=d.super("getValue",u);t=e.isEmptyObject(t)?"":t,(m=e("#editorDlg-codeEditor").codeEditor(e.extend({language:P,javascriptOptions:_,autofocus:!0,readOnly:s.metaData.isReadOnly,errors:I.errors,warnings:I.warnings,value:t,codeComplete:function(a,e){f.process("getCodeCompleteList",{p_widget_name:a.type,x01:a.search,x02:a.parent,x03:a.grantParent},{success:e})},suggestions:function(e){const t=a.getComponentType(a.COMP_TYPE.PAGE_ITEM).title.plural;var r,o,i=a.getComponents(a.COMP_TYPE.PAGE_ITEM,{},!0),l=[];for(let e=0;e<i.length;e++)r=i[e].getProperty(a.PROP.ITEM_NAME).getValue(),o=i[e].getProperty(a.PROP.ITEM_LABEL),l.push({label:r+(o?" ("+o.getValue()+")":""),insertText:r,detail:t});return l},validateCode:g,queryBuilder:E,preferencesChanged:function(){T=!0}},e.apex.codeEditor.preferencesObjectFromString(pa)))).height(e(this).height()).width(e(this).closest(".ui-dialog").width()-2).trigger("resize"),A()},resizeStop:function(a,e){m.height(p.height()).width(e.size.width-2).trigger("resize")},buttons:v})})),u=n.closest("div."+p)}},e.apex.propertyEditor.PROP_TYPE.TEXTAREA),e.apex.propertyEditor.addPropertyType(g,{init:function(t,r,o){var i,l,f,n,s={columnDefinitions:[{name:"name",title:fa("NAME"),alignment:"left"},{name:"label",title:fa("LABEL"),alignment:"left"}],filters:[{name:"scope",title:fa("ITEM_SCOPE"),type:"buttonset",defaultValue:"current_page",lov:[{display:fa("COLUMNS"),value:"column"},{display:fa("CURRENT_PAGE"),value:"current_page"},{display:fa("CUSTOM_PAGE"),value:"custom_page",filters:[{name:"customPageNumber",title:fa("PAGE_NUMBER"),type:"text",isRequired:!0}]},{display:fa("GLOBAL_PAGE"),value:"global_page"},{display:fa("APPLICATION"),value:"application"}]},{name:"search",title:fa("SEARCH"),type:"search"}],filterLov:function(e,t){var o,i="page";switch(e.scope){case"application":i="application",o="";break;case"current_page":o=a.getCurrentPageId();break;case"global_page":o=a.getGlobalPageId();break;case"custom_page":o=e.customPageNumber}void 0===e.scope||"column"===e.scope?t(r.metaData.lovValues(),e.search):a.getItemsLov({type:i,pageId:o},(function(a){t(a,e.search)}))}};if("PAGE_AND_GLOBAL"===r.metaData.lovComponentScope)for(f=s.filters,i=0;i<f.length;i++)if("scope"===f[i].name)for(n=f[i].lov,l=0;l<n.length;l++)e.inArray(n[l].value,["application","custom_page"])>-1&&(n.splice(l,1),l-=1);if("PAGE"===r.metaData.lovComponentScope)for(f=s.filters,i=0;i<f.length;i++)if("scope"===f[i].name)for(n=f[i].lov,l=0;l<n.length;l++)e.inArray(n[l].value,["application","custom_page","global_page"])>-1&&(n.splice(l,1),l-=1);if("COLUMN"===r.metaData.lovComponentScope){for(f=s.filters,i=0;i<f.length;i++)if("scope"===f[i].name){f.splice(i,1);break}}else if("ROW"===r.metaData.referenceScope){for(f=s.filters,i=0;i<f.length;i++)if("scope"===f[i].name){f[i].defaultValue="column";break}}else for(f=s.filters,i=0;i<f.length;i++)if("scope"===f[i].name)for(n=f[i].lov,l=0;l<n.length;l++)if("column"===n[l].value){n.splice(l,1);break}this.super("init",t,r,o,s)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(E,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:fa("NAME"),alignment:"left"},{name:"label",title:fa("LABEL"),alignment:"left"}],filters:[{name:"search",title:fa("SEARCH"),type:"search"}],filterLov:function(a,t){t(e.metaData.lovValues(),a.search)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(P,{init:function(e,t,r){var o={columnDefinitions:[{name:"id",title:fa("PAGE_NUMBER"),alignment:"left"},{name:"name",title:fa("PAGE_NAME"),alignment:"left"},{name:"alias",title:fa("PAGE_ALIAS"),alignment:"left"}],filters:[{name:"search",title:fa("SEARCH"),type:"search"}],filterLov:function(e,t){a.getPagesLov(e,(function(a){t(a,e.search)}))}};this.super("init",e,t,r,o)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(U,{init:function(a,e,t){var r={columnDefinitions:[{name:"name",title:fa("NAME"),alignment:"left"},{name:"comment",title:fa("COMMENT"),alignment:"left"}],filters:[{name:"type",title:fa("TYPE"),type:"buttonset",defaultValue:"TABLE",lov:[{display:fa("TABLES"),value:"TABLE"},{display:fa("VIEWS"),value:"VIEW"}]},{name:"search",title:fa("SEARCH"),type:"search"}],filterLov:function(a,t){e.metaData.lovValues((function(e){t(e,a.search)}),a)}};this.super("init",a,e,t,r)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(F,{init:function(t,r,i){var l,f,n,p,c,u=function(a){return"FONTAPEX"===a||"FONTAPEX_LATEST"===a},d=function(a){return"FONTAWESOME"===a},m=a.getThemeIcons(),h={ACCESSIBILITY:"fa-american-sign-language-interpreting,fa-asl-interpreting,fa-assistive-listening-systems,fa-audio-description,fa-blind,fa-braille,fa-deaf,fa-deafness,fa-hard-of-hearing,fa-low-vision,fa-sign-language,fa-signing,fa-universal-access,fa-volume-control-phone,fa-wheelchair-alt".split(","),CALENDAR:"fa-calendar-alarm,fa-calendar-arrow-down,fa-calendar-arrow-up,fa-calendar-ban,fa-calendar-chart,fa-calendar-clock,fa-calendar-edit,fa-calendar-heart,fa-calendar-lock,fa-calendar-pointer,fa-calendar-search,fa-calendar-user,fa-calendar-wrench".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-bar-chart-horizontal,fa-box-plot-chart,fa-bubble-chart,fa-combo-chart,fa-dial-gauge-chart,fa-donut-chart,fa-funnel-chart,fa-gantt-chart,fa-line-area-chart,fa-line-chart,fa-pie-chart,fa-pie-chart-0,fa-pie-chart-10,fa-pie-chart-100,fa-pie-chart-15,fa-pie-chart-20,fa-pie-chart-25,fa-pie-chart-30,fa-pie-chart-35,fa-pie-chart-40,fa-pie-chart-45,fa-pie-chart-5,fa-pie-chart-50,fa-pie-chart-55,fa-pie-chart-60,fa-pie-chart-65,fa-pie-chart-70,fa-pie-chart-75,fa-pie-chart-80,fa-pie-chart-85,fa-pie-chart-90,fa-pie-chart-95,fa-polar-chart,fa-pyramid-chart,fa-radar-chart,fa-range-chart-area,fa-range-chart-bar,fa-scatter-chart,fa-stock-chart,fa-x-axis,fa-y-axis,fa-y1-axis,fa-y2-axis".split(","),CURRENCY:"fa-bitcoin,fa-btc,fa-cny,fa-dollar,fa-eur,fa-euro,fa-gbp,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rmb,fa-rub,fa-try,fa-usd,fa-yen".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-down-alt,fa-arrow-down-left-alt,fa-arrow-down-right-alt,fa-arrow-left,fa-arrow-left-alt,fa-arrow-right,fa-arrow-right-alt,fa-arrow-up,fa-arrow-up-alt,fa-arrow-up-left-alt,fa-arrow-up-right-alt,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-box-arrow-in-east,fa-box-arrow-in-ne,fa-box-arrow-in-north,fa-box-arrow-in-nw,fa-box-arrow-in-se,fa-box-arrow-in-south,fa-box-arrow-in-sw,fa-box-arrow-in-west,fa-box-arrow-out-east,fa-box-arrow-out-ne,fa-box-arrow-out-north,fa-box-arrow-out-nw,fa-box-arrow-out-se,fa-box-arrow-out-south,fa-box-arrow-out-sw,fa-box-arrow-out-west,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-circle-arrow-in-east,fa-circle-arrow-in-ne,fa-circle-arrow-in-north,fa-circle-arrow-in-nw,fa-circle-arrow-in-se,fa-circle-arrow-in-south,fa-circle-arrow-in-sw,fa-circle-arrow-in-west,fa-circle-arrow-out-east,fa-circle-arrow-out-ne,fa-circle-arrow-out-north,fa-circle-arrow-out-nw,fa-circle-arrow-out-se,fa-circle-arrow-out-south,fa-circle-arrow-out-sw,fa-circle-arrow-out-west,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up,fa-page-bottom,fa-page-first,fa-page-last,fa-page-top".split(","),EMOJI:"fa-awesome-face,fa-emoji-angry,fa-emoji-astonished,fa-emoji-big-eyes-smile,fa-emoji-big-frown,fa-emoji-cold-sweat,fa-emoji-confounded,fa-emoji-confused,fa-emoji-cool,fa-emoji-cringe,fa-emoji-cry,fa-emoji-delicious,fa-emoji-disappointed,fa-emoji-disappointed-relieved,fa-emoji-expressionless,fa-emoji-fearful,fa-emoji-frown,fa-emoji-grimace,fa-emoji-grin-sweat,fa-emoji-happy-smile,fa-emoji-hushed,fa-emoji-laughing,fa-emoji-lol,fa-emoji-love,fa-emoji-mean,fa-emoji-nerd,fa-emoji-neutral,fa-emoji-no-mouth,fa-emoji-open-mouth,fa-emoji-pensive,fa-emoji-persevere,fa-emoji-pleased,fa-emoji-relieved,fa-emoji-rotfl,fa-emoji-scream,fa-emoji-sleeping,fa-emoji-sleepy,fa-emoji-slight-frown,fa-emoji-slight-smile,fa-emoji-smile,fa-emoji-smirk,fa-emoji-stuck-out-tounge,fa-emoji-stuck-out-tounge-closed-eyes,fa-emoji-stuck-out-tounge-wink,fa-emoji-sweet-smile,fa-emoji-tired,fa-emoji-unamused,fa-emoji-upside-down,fa-emoji-weary,fa-emoji-wink,fa-emoji-worry,fa-emoji-zipper-mouth,fa-hipster".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-sql,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o,fa-square-selected-o,fa-times-square,fa-times-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-grab-o,fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair".split(","),NUMBERS:"fa-number-0,fa-number-0-o,fa-number-1,fa-number-1-o,fa-number-2,fa-number-2-o,fa-number-3,fa-number-3-o,fa-number-4,fa-number-4-o,fa-number-5,fa-number-5-o,fa-number-6,fa-number-6-o,fa-number-7,fa-number-7-o,fa-number-8,fa-number-8-o,fa-number-9,fa-number-9-o".split(","),PAYMENT:"fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal".split(","),SPINNER:"fa-circle-o-notch,fa-gear,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-clipboard,fa-clipboard-arrow-down,fa-clipboard-arrow-up,fa-clipboard-ban,fa-clipboard-bookmark,fa-clipboard-chart ,fa-clipboard-check,fa-clipboard-check-alt,fa-clipboard-clock,fa-clipboard-edit,fa-clipboard-heart,fa-clipboard-list,fa-clipboard-lock,fa-clipboard-new,fa-clipboard-plus,fa-clipboard-pointer,fa-clipboard-search,fa-clipboard-user,fa-clipboard-wrench,fa-clipboard-x,fa-columns,fa-copy,fa-cut,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-paste,fa-repeat,fa-rotate-left,fa-rotate-right,fa-save,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo,fa-unlink".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o".split(","),WEB_APPLICATION:"fa-address-book,fa-address-book-o,fa-address-card,fa-address-card-o,fa-adjust,fa-alert,fa-american-sign-language-interpreting,fa-anchor,fa-apex,fa-apex-square,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asl-interpreting,fa-assistive-listening-systems,fa-asterisk,fa-at,fa-audio-description,fa-badge-list,fa-badges,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-bath,fa-battery-0,fa-battery-1,fa-battery-2,fa-battery-3,fa-battery-4,fa-battleship,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-blind,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-braille,fa-breadcrumb,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-button,fa-button-container,fa-button-group,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-cards,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-carousel,fa-cart-arrow-down,fa-cart-arrow-up,fa-cart-check,fa-cart-edit,fa-cart-empty,fa-cart-full,fa-cart-heart,fa-cart-lock,fa-cart-magnifying-glass,fa-cart-plus,fa-cart-times,fa-cc,fa-certificate,fa-change-case,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-0-8,fa-circle-1-8,fa-circle-2-8,fa-circle-3-8,fa-circle-4-8,fa-circle-5-8,fa-circle-6-8,fa-circle-7-8,fa-circle-8-8,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-arrow-down,fa-cloud-arrow-up,fa-cloud-ban,fa-cloud-bookmark,fa-cloud-chart,fa-cloud-check,fa-cloud-clock,fa-cloud-cursor,fa-cloud-download,fa-cloud-edit,fa-cloud-file,fa-cloud-heart,fa-cloud-lock,fa-cloud-new,fa-cloud-play,fa-cloud-plus,fa-cloud-pointer,fa-cloud-search,fa-cloud-upload,fa-cloud-user,fa-cloud-wrench,fa-cloud-x,fa-code,fa-code-fork,fa-code-group,fa-coffee,fa-collapsible,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-contacts,fa-copyright,fa-creative-commons,fa-credit-card,fa-credit-card-alt,fa-credit-card-terminal,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-dashboard,fa-database,fa-database-arrow-down,fa-database-arrow-up,fa-database-ban,fa-database-bookmark,fa-database-chart,fa-database-check,fa-database-clock,fa-database-cursor,fa-database-edit,fa-database-file,fa-database-heart,fa-database-lock,fa-database-new,fa-database-play,fa-database-plus,fa-database-pointer,fa-database-search,fa-database-user,fa-database-wrench,fa-database-x,fa-deaf,fa-deafness,fa-design,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-download-alt,fa-dynamic-content,fa-edit,fa-ellipsis-h,fa-ellipsis-h-o,fa-ellipsis-v,fa-ellipsis-v-o,fa-envelope,fa-envelope-arrow-down,fa-envelope-arrow-up,fa-envelope-ban,fa-envelope-bookmark,fa-envelope-chart,fa-envelope-check,fa-envelope-clock,fa-envelope-cursor,fa-envelope-edit,fa-envelope-heart,fa-envelope-lock,fa-envelope-o,fa-envelope-open,fa-envelope-open-o,fa-envelope-play,fa-envelope-plus,fa-envelope-pointer,fa-envelope-search,fa-envelope-square,fa-envelope-user,fa-envelope-wrench,fa-envelope-x,fa-eraser,fa-exception,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-circle-o,fa-exclamation-diamond,fa-exclamation-diamond-o,fa-exclamation-square,fa-exclamation-square-o,fa-exclamation-triangle,fa-exclamation-triangle-o,fa-expand-collapse,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-feed,fa-female,fa-fighter-jet,fa-fighter-jet-alt,fa-file-archive-o,fa-file-arrow-down,fa-file-arrow-up,fa-file-audio-o,fa-file-ban,fa-file-bookmark,fa-file-chart,fa-file-check,fa-file-clock,fa-file-code-o,fa-file-cursor,fa-file-edit,fa-file-excel-o,fa-file-heart,fa-file-image-o,fa-file-lock,fa-file-new,fa-file-pdf-o,fa-file-play,fa-file-plus,fa-file-pointer,fa-file-powerpoint-o,fa-file-search,fa-file-sql,fa-file-user,fa-file-video-o,fa-file-word-o,fa-file-wrench,fa-file-x,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-fit-to-height,fa-fit-to-size,fa-fit-to-width,fa-flag,fa-flag-checkered,fa-flag-o,fa-flashlight,fa-flask,fa-folder,fa-folder-arrow-down,fa-folder-arrow-up,fa-folder-ban,fa-folder-bookmark,fa-folder-chart,fa-folder-check,fa-folder-clock,fa-folder-cloud,fa-folder-cursor,fa-folder-edit,fa-folder-file,fa-folder-heart,fa-folder-lock,fa-folder-network,fa-folder-new,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-folder-play,fa-folder-plus,fa-folder-pointer,fa-folder-search,fa-folder-user,fa-folder-wrench,fa-folder-x,fa-folders,fa-font-size,fa-font-size-decrease,fa-font-size-increase,fa-format,fa-forms,fa-frown-o,fa-function,fa-futbol-o,fa-gamepad,fa-gavel,fa-gear,fa-gears,fa-gift,fa-glass,fa-glasses,fa-globe,fa-graduation-cap,fa-hand-grab-o,fa-hand-lizard-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hand-stop-o,fa-handshake-o,fa-hard-of-hearing,fa-hardware,fa-hashtag,fa-hdd-o,fa-headphones,fa-headset,fa-heart,fa-heart-o,fa-heartbeat,fa-helicopter,fa-hero,fa-history,fa-home,fa-hourglass,fa-hourglass-1,fa-hourglass-2,fa-hourglass-3,fa-hourglass-o,fa-i-cursor,fa-id-badge,fa-id-card,fa-id-card-o,fa-image,fa-inbox,fa-index,fa-industry,fa-info,fa-info-circle,fa-info-circle-o,fa-info-square,fa-info-square-o,fa-key,fa-key-alt,fa-keyboard-o,fa-language,fa-laptop,fa-layers,fa-layout-1col-2col,fa-layout-1col-3col,fa-layout-1row-2row,fa-layout-2col,fa-layout-2col-1col,fa-layout-2row,fa-layout-2row-1row,fa-layout-3col,fa-layout-3col-1col,fa-layout-3row,fa-layout-blank,fa-layout-footer,fa-layout-grid-3x,fa-layout-header,fa-layout-header-1col-3col,fa-layout-header-2row,fa-layout-header-footer,fa-layout-header-nav-left-cards,fa-layout-header-nav-left-right-footer,fa-layout-header-nav-right-cards,fa-layout-header-sidebar-left,fa-layout-header-sidebar-right,fa-layout-list-left,fa-layout-list-right,fa-layout-modal-blank,fa-layout-modal-columns,fa-layout-modal-grid-2x,fa-layout-modal-header,fa-layout-modal-nav-left,fa-layout-modal-nav-right,fa-layout-modal-rows,fa-layout-nav-left,fa-layout-nav-left-cards,fa-layout-nav-left-hamburger,fa-layout-nav-left-hamburger-header,fa-layout-nav-left-header-cards,fa-layout-nav-left-header-header,fa-layout-nav-left-right,fa-layout-nav-left-right-header-footer,fa-layout-nav-right,fa-layout-nav-right-cards,fa-layout-nav-right-hamburger,fa-layout-nav-right-hamburger-header,fa-layout-nav-right-header,fa-layout-nav-right-header-cards,fa-layout-sidebar-left,fa-layout-sidebar-right,fa-layouts-grid-2x,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow,fa-lock,fa-lock-check,fa-lock-file,fa-lock-new,fa-lock-password,fa-lock-plus,fa-lock-user,fa-lock-x,fa-low-vision,fa-magic,fa-magnet,fa-mail-forward,fa-male,fa-map,fa-map-marker,fa-map-o,fa-map-pin,fa-map-signs,fa-materialized-view,fa-media-list,fa-meh-o,fa-microchip,fa-microphone,fa-microphone-slash,fa-military-vehicle,fa-minus,fa-minus-circle,fa-minus-circle-o,fa-minus-square,fa-minus-square-o,fa-missile,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-navicon,fa-network-hub,fa-network-triangle,fa-newspaper-o,fa-notebook,fa-object-group,fa-object-ungroup,fa-office-phone,fa-package,fa-padlock,fa-padlock-unlock,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-photo,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-circle-o,fa-plus-square,fa-plus-square-o,fa-podcast,fa-power-off,fa-pragma,fa-print,fa-procedure,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-question-circle-o,fa-question-square,fa-question-square-o,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-redo-alt,fa-redo-arrow,fa-refresh,fa-registered,fa-remove,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-save-as,fa-search,fa-search-minus,fa-search-plus,fa-send,fa-send-o,fa-sequence,fa-server,fa-server-arrow-down,fa-server-arrow-up,fa-server-ban,fa-server-bookmark,fa-server-chart,fa-server-check,fa-server-clock,fa-server-edit,fa-server-file,fa-server-heart,fa-server-lock,fa-server-new,fa-server-play,fa-server-plus,fa-server-pointer,fa-server-search,fa-server-user,fa-server-wrench,fa-server-x,fa-shapes,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-share2,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-shower,fa-sign-in,fa-sign-language,fa-sign-out,fa-signal,fa-signing,fa-sitemap,fa-sitemap-horizontal,fa-sitemap-vertical,fa-sliders,fa-smile-o,fa-snowflake,fa-soccer-ball-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-square-selected-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-support,fa-synonym,fa-table-arrow-down,fa-table-arrow-up,fa-table-ban,fa-table-bookmark,fa-table-chart,fa-table-check,fa-table-clock,fa-table-cursor,fa-table-edit,fa-table-file,fa-table-heart,fa-table-lock,fa-table-new,fa-table-play,fa-table-plus,fa-table-pointer,fa-table-search,fa-table-user,fa-table-wrench,fa-table-x,fa-tablet,fa-tabs,fa-tachometer,fa-tag,fa-tags,fa-tank,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thermometer-0,fa-thermometer-1,fa-thermometer-2,fa-thermometer-3,fa-thermometer-4,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-tiles-2x2,fa-tiles-3x3,fa-tiles-8,fa-tiles-9,fa-times,fa-times-circle,fa-times-circle-o,fa-times-rectangle,fa-times-rectangle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-tools,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-tree-org,fa-trigger,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-undo-alt,fa-undo-arrow,fa-universal-access,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-upload-alt,fa-user,fa-user-arrow-down,fa-user-arrow-up,fa-user-ban,fa-user-chart,fa-user-check,fa-user-circle,fa-user-circle-o,fa-user-clock,fa-user-cursor,fa-user-edit,fa-user-graduate,fa-user-headset,fa-user-heart,fa-user-lock,fa-user-magnifying-glass,fa-user-man,fa-user-play,fa-user-plus,fa-user-pointer,fa-user-secret,fa-user-woman,fa-user-wrench,fa-user-x,fa-users,fa-users-chat,fa-variable,fa-video-camera,fa-volume-control-phone,fa-volume-down,fa-volume-off,fa-volume-up,fa-warning,fa-wheelchair,fa-wheelchair-alt,fa-wifi,fa-window,fa-window-alt,fa-window-alt-2,fa-window-arrow-down,fa-window-arrow-up,fa-window-ban,fa-window-bookmark,fa-window-chart,fa-window-check,fa-window-clock,fa-window-close,fa-window-close-o,fa-window-cursor,fa-window-edit,fa-window-file,fa-window-heart,fa-window-lock,fa-window-maximize,fa-window-minimize,fa-window-new,fa-window-play,fa-window-plus,fa-window-pointer,fa-window-restore,fa-window-search,fa-window-terminal,fa-window-user,fa-window-wrench,fa-window-x,fa-wizard,fa-wrench".split(",")},y={BRAND:"fa-500px,fa-adn,fa-amazon,fa-android,fa-angellist,fa-apple,fa-behance,fa-behance-square,fa-bitbucket,fa-bitbucket-square,fa-black-tie,fa-bluetooth,fa-bluetooth-b,fa-btc,fa-buysellads,fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-chrome,fa-codepen,fa-codiepie,fa-connectdevelop,fa-contao,fa-credit-card-alt,fa-css3,fa-dashcube,fa-delicious,fa-deviantart,fa-digg,fa-dribbble,fa-dropbox,fa-drupal,fa-edge,fa-empire,fa-expeditedssl,fa-facebook,fa-facebook-official,fa-facebook-square,fa-firefox,fa-flickr,fa-fonticons,fa-fort-awesome,fa-forumbee,fa-foursquare,fa-get-pocket,fa-gg,fa-gg-circle,fa-git,fa-git-square,fa-github,fa-github-alt,fa-github-square,fa-google,fa-google-plus,fa-google-plus-square,fa-google-wallet,fa-gratipay,fa-hacker-news,fa-houzz,fa-html5,fa-instagram,fa-internet-explorer,fa-ioxhost,fa-joomla,fa-jsfiddle,fa-lastfm,fa-lastfm-square,fa-leanpub,fa-linkedin,fa-linkedin-square,fa-linux,fa-maxcdn,fa-meanpath,fa-medium,fa-mixcloud,fa-modx,fa-odnoklassniki,fa-odnoklassniki-square,fa-opencart,fa-openid,fa-opera,fa-optin-monster,fa-pagelines,fa-paypal,fa-pied-piper,fa-pied-piper-alt,fa-pinterest,fa-pinterest-p,fa-pinterest-square,fa-product-hunt,fa-qq,fa-rebel,fa-reddit,fa-reddit-alien,fa-reddit-square,fa-renren,fa-safari,fa-scribd,fa-sellsy,fa-share-alt,fa-share-alt-square,fa-shirtsinbulk,fa-simplybuilt,fa-skyatlas,fa-skype,fa-slack,fa-slideshare,fa-soundcloud,fa-spotify,fa-stack-exchange,fa-stack-overflow,fa-steam,fa-steam-square,fa-stumbleupon,fa-stumbleupon-circle,fa-tencent-weibo,fa-trello,fa-tripadvisor,fa-tumblr,fa-tumblr-square,fa-twitch,fa-twitter,fa-twitter-square,fa-usb,fa-viacoin,fa-vimeo,fa-vimeo-square,fa-vine,fa-vk,fa-weibo,fa-weixin,fa-whatsapp,fa-wikipedia-w,fa-windows,fa-wordpress,fa-xing,fa-xing-square,fa-y-combinator,fa-yahoo,fa-yelp,fa-youtube,fa-youtube-play,fa-youtube-square".split(","),CHART:"fa-area-chart,fa-bar-chart,fa-line-chart,fa-pie-chart".split(","),CURRENCY:"fa-btc,fa-eur,fa-gbp,fa-gg,fa-gg-circle,fa-ils,fa-inr,fa-jpy,fa-krw,fa-money,fa-rub,fa-try,fa-usd".split(","),DIRECTIONAL:"fa-angle-double-down,fa-angle-double-left,fa-angle-double-right,fa-angle-double-up,fa-angle-down,fa-angle-left,fa-angle-right,fa-angle-up,fa-arrow-circle-down,fa-arrow-circle-left,fa-arrow-circle-o-down,fa-arrow-circle-o-left,fa-arrow-circle-o-right,fa-arrow-circle-o-up,fa-arrow-circle-right,fa-arrow-circle-up,fa-arrow-down,fa-arrow-left,fa-arrow-right,fa-arrow-up,fa-arrows,fa-arrows-alt,fa-arrows-h,fa-arrows-v,fa-caret-down,fa-caret-left,fa-caret-right,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-caret-up,fa-chevron-circle-down,fa-chevron-circle-left,fa-chevron-circle-right,fa-chevron-circle-up,fa-chevron-down,fa-chevron-left,fa-chevron-right,fa-chevron-up,fa-exchange,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-long-arrow-down,fa-long-arrow-left,fa-long-arrow-right,fa-long-arrow-up".split(","),FILE_TYPE:"fa-file,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-text,fa-file-text-o,fa-file-video-o,fa-file-word-o".split(","),FORM_CONTROL:"fa-check-square,fa-check-square-o,fa-circle,fa-circle-o,fa-dot-circle-o,fa-minus-square,fa-minus-square-o,fa-plus-square,fa-plus-square-o,fa-square,fa-square-o".split(","),GENDER:"fa-genderless,fa-mars,fa-mars-double,fa-mars-stroke,fa-mars-stroke-h,fa-mars-stroke-v,fa-mercury,fa-neuter,fa-transgender,fa-transgender-alt,fa-venus,fa-venus-double,fa-venus-mars".split(","),HAND:"fa-hand-lizard-o,fa-hand-o-down,fa-hand-o-left,fa-hand-o-right,fa-hand-o-up,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up".split(","),MEDICAL:"fa-ambulance,fa-h-square,fa-heart,fa-heart-o,fa-heartbeat,fa-hospital-o,fa-medkit,fa-plus-square,fa-stethoscope,fa-user-md,fa-wheelchair".split(","),PAYMENT:"fa-cc-amex,fa-cc-diners-club,fa-cc-discover,fa-cc-jcb,fa-cc-mastercard,fa-cc-paypal,fa-cc-stripe,fa-cc-visa,fa-credit-card,fa-credit-card-alt,fa-google-wallet,fa-paypal".split(","),SPINNER:"fa-circle-o-notch,fa-cog,fa-refresh,fa-spinner".split(","),TEXT_EDITOR:"fa-align-center,fa-align-justify,fa-align-left,fa-align-right,fa-bold,fa-chain-broken,fa-clipboard,fa-columns,fa-eraser,fa-file,fa-file-o,fa-file-text,fa-file-text-o,fa-files-o,fa-floppy-o,fa-font,fa-header,fa-indent,fa-italic,fa-link,fa-list,fa-list-alt,fa-list-ol,fa-list-ul,fa-outdent,fa-paperclip,fa-paragraph,fa-repeat,fa-scissors,fa-strikethrough,fa-subscript,fa-superscript,fa-table,fa-text-height,fa-text-width,fa-th,fa-th-large,fa-th-list,fa-underline,fa-undo".split(","),TRANSPORTATION:"fa-ambulance,fa-bicycle,fa-bus,fa-car,fa-fighter-jet,fa-motorcycle,fa-plane,fa-rocket,fa-ship,fa-space-shuttle,fa-subway,fa-taxi,fa-train,fa-truck,fa-wheelchair".split(","),VIDEO_PLAYER:"fa-arrows-alt,fa-backward,fa-compress,fa-eject,fa-expand,fa-fast-backward,fa-fast-forward,fa-forward,fa-pause,fa-pause-circle,fa-pause-circle-o,fa-play,fa-play-circle,fa-play-circle-o,fa-random,fa-step-backward,fa-step-forward,fa-stop,fa-stop-circle,fa-stop-circle-o,fa-youtube-play".split(","),WEB_APPLICATION:"fa-adjust,fa-anchor,fa-archive,fa-area-chart,fa-arrows,fa-arrows-h,fa-arrows-v,fa-asterisk,fa-at,fa-balance-scale,fa-ban,fa-bar-chart,fa-barcode,fa-bars,fa-battery-empty,fa-battery-full,fa-battery-half,fa-battery-quarter,fa-battery-three-quarters,fa-bed,fa-beer,fa-bell,fa-bell-o,fa-bell-slash,fa-bell-slash-o,fa-bicycle,fa-binoculars,fa-birthday-cake,fa-bluetooth,fa-bluetooth-b,fa-bolt,fa-bomb,fa-book,fa-bookmark,fa-bookmark-o,fa-briefcase,fa-bug,fa-building,fa-building-o,fa-bullhorn,fa-bullseye,fa-bus,fa-calculator,fa-calendar,fa-calendar-check-o,fa-calendar-minus-o,fa-calendar-o,fa-calendar-plus-o,fa-calendar-times-o,fa-camera,fa-camera-retro,fa-car,fa-caret-square-o-down,fa-caret-square-o-left,fa-caret-square-o-right,fa-caret-square-o-up,fa-cart-arrow-down,fa-cart-plus,fa-cc,fa-certificate,fa-check,fa-check-circle,fa-check-circle-o,fa-check-square,fa-check-square-o,fa-child,fa-circle,fa-circle-o,fa-circle-o-notch,fa-circle-thin,fa-clock-o,fa-clone,fa-cloud,fa-cloud-download,fa-cloud-upload,fa-code,fa-code-fork,fa-coffee,fa-cog,fa-cogs,fa-comment,fa-comment-o,fa-commenting,fa-commenting-o,fa-comments,fa-comments-o,fa-compass,fa-copyright,fa-creative-commons,fa-credit-card,fa-crop,fa-crosshairs,fa-cube,fa-cubes,fa-cutlery,fa-database,fa-desktop,fa-diamond,fa-dot-circle-o,fa-download,fa-ellipsis-h,fa-ellipsis-v,fa-envelope,fa-envelope-o,fa-envelope-square,fa-eraser,fa-exchange,fa-exclamation,fa-exclamation-circle,fa-exclamation-triangle,fa-external-link,fa-external-link-square,fa-eye,fa-eye-slash,fa-eyedropper,fa-fax,fa-female,fa-fighter-jet,fa-file-archive-o,fa-file-audio-o,fa-file-code-o,fa-file-excel-o,fa-file-image-o,fa-file-pdf-o,fa-file-powerpoint-o,fa-file-video-o,fa-file-word-o,fa-film,fa-filter,fa-fire,fa-fire-extinguisher,fa-flag,fa-flag-checkered,fa-flag-o,fa-flask,fa-folder,fa-folder-o,fa-folder-open,fa-folder-open-o,fa-frown-o,fa-futbol-o,fa-gamepad,fa-gavel,fa-gift,fa-glass,fa-globe,fa-graduation-cap,fa-hand-lizard-o,fa-hand-paper-o,fa-hand-peace-o,fa-hand-pointer-o,fa-hand-rock-o,fa-hand-scissors-o,fa-hand-spock-o,fa-hashtag,fa-hdd-o,fa-headphones,fa-heart,fa-heart-o,fa-heartbeat,fa-history,fa-home,fa-hourglass,fa-hourglass-end,fa-hourglass-half,fa-hourglass-o,fa-hourglass-start,fa-i-cursor,fa-inbox,fa-industry,fa-info,fa-info-circle,fa-key,fa-keyboard-o,fa-language,fa-laptop,fa-leaf,fa-lemon-o,fa-level-down,fa-level-up,fa-life-ring,fa-lightbulb-o,fa-line-chart,fa-location-arrow,fa-lock,fa-magic,fa-magnet,fa-male,fa-map,fa-map-marker,fa-map-o,fa-map-pin,fa-map-signs,fa-meh-o,fa-microphone,fa-microphone-slash,fa-minus,fa-minus-circle,fa-minus-square,fa-minus-square-o,fa-mobile,fa-money,fa-moon-o,fa-motorcycle,fa-mouse-pointer,fa-music,fa-newspaper-o,fa-object-group,fa-object-ungroup,fa-paint-brush,fa-paper-plane,fa-paper-plane-o,fa-paw,fa-pencil,fa-pencil-square,fa-pencil-square-o,fa-percent,fa-phone,fa-phone-square,fa-picture-o,fa-pie-chart,fa-plane,fa-plug,fa-plus,fa-plus-circle,fa-plus-square,fa-plus-square-o,fa-power-off,fa-print,fa-puzzle-piece,fa-qrcode,fa-question,fa-question-circle,fa-quote-left,fa-quote-right,fa-random,fa-recycle,fa-refresh,fa-registered,fa-reply,fa-reply-all,fa-retweet,fa-road,fa-rocket,fa-rss,fa-rss-square,fa-search,fa-search-minus,fa-search-plus,fa-server,fa-share,fa-share-alt,fa-share-alt-square,fa-share-square,fa-share-square-o,fa-shield,fa-ship,fa-shopping-bag,fa-shopping-basket,fa-shopping-cart,fa-sign-in,fa-sign-out,fa-signal,fa-sitemap,fa-sliders,fa-smile-o,fa-sort,fa-sort-alpha-asc,fa-sort-alpha-desc,fa-sort-amount-asc,fa-sort-amount-desc,fa-sort-asc,fa-sort-desc,fa-sort-numeric-asc,fa-sort-numeric-desc,fa-space-shuttle,fa-spinner,fa-spoon,fa-square,fa-square-o,fa-star,fa-star-half,fa-star-half-o,fa-star-o,fa-sticky-note,fa-sticky-note-o,fa-street-view,fa-suitcase,fa-sun-o,fa-tablet,fa-tachometer,fa-tag,fa-tags,fa-tasks,fa-taxi,fa-television,fa-terminal,fa-thumb-tack,fa-thumbs-down,fa-thumbs-o-down,fa-thumbs-o-up,fa-thumbs-up,fa-ticket,fa-times,fa-times-circle,fa-times-circle-o,fa-tint,fa-toggle-off,fa-toggle-on,fa-trademark,fa-trash,fa-trash-o,fa-tree,fa-trophy,fa-truck,fa-tty,fa-umbrella,fa-university,fa-unlock,fa-unlock-alt,fa-upload,fa-user,fa-user-plus,fa-user-secret,fa-user-times,fa-users,fa-video-camera,fa-volume-down,fa-volume-off,fa-volume-up,fa-wheelchair,fa-wifi,fa-wrench".split(",")},g=m.custom?m.custom.split(","):[],E={columnDefinitions:[{name:"d",title:fa("NAME"),alignment:"left"}],filters:[{name:"search",title:fa("SEARCH"),type:"search"}],filterLov:function(a,e){var t,i=[],l=a.type;function f(a,e){i.push({r:a,d:e||a,preview:'<span class="fa '+o.escapeHTMLAttr(a)+'"></span>'})}function n(a,e,t){for(var r=0;r<a.length;r++)t&&"default"!==t?"small"===t?f("fa-sm "+a[r],a[r]):"large"===t&&f("fa-lg "+a[r],a[r]):f(a[r])}if(u(l)){if(""===a.category)for(t in h)h.hasOwnProperty(t)&&n(h[t],0,a.style);else n(h[a.category],a.category,a.style);e(i,a.search)}else if(d(l)){if(""===a.category)for(t in y)y.hasOwnProperty(t)&&n(y[t]);else n(y[a.category],a.category);e(i,a.search)}else"CUSTOM"===l?(n(g),e(i,a.search)):l&&"UTILIZED"!==l||r.metaData.lovValues((function(t){for(var r=0;r<t.length;r++)f(t[r].r);e(i,a.search)}),a)},resultsDisplay:u(m.library)?"grid":"table"},P={name:"type",title:fa("TYPE"),type:"buttonset",defaultValue:"",lov:[]},_=[],T=m.library;if(g.length>0&&(P.lov.push({display:fa("CUSTOM"),value:"CUSTOM"}),P.defaultValue="CUSTOM"),-1!==e.inArray(T,["FONTAPEX","FONTAPEX_LATEST","FONTAWESOME"])){if(d(T)&&E.columnDefinitions.push({name:"preview",title:fa("PREVIEW"),alignment:"center",width:"20%",escape:!1}),u(T)&&(l={name:"style",title:fa("ICON.STYLE"),type:"select",defaultValue:"default",isRequired:!0,lov:[{display:fa("ICON.DEFAULT"),value:"default"},{display:fa("ICON.SMALL"),value:"small"},{display:fa("ICON.LARGE"),value:"large"}]}),f={name:"category",title:fa("CATEGORY"),type:"select",defaultValue:"",lov:[]},u(T)){var v=T.toUpperCase().indexOf("LATEST")>-1?"latest":"2.1";n=h,p="Font APEX",c=apex_img_dir+"libraries/font-apex/"+v+"/css/font-apex.min.css"}else d(T)&&(n=y,p="Font Awesome",c=apex_img_dir+"libraries/font-awesome/4.5.0/css/font-awesome.min.css");for(var I in n)n.hasOwnProperty(I)&&f.lov.push({display:fa("FA."+I),value:I});l&&_.push(l),_.push(f),P.lov.unshift({display:p,value:T,filters:_}),P.defaultValue=T,s||(s=e('<link rel="stylesheet" type="text/css" href="'+c+'" />').appendTo("head"))}P.lov.length>0&&(P.lov.push({display:fa("UTILIZED"),value:"UTILIZED"}),E.filters.unshift(P)),this.super("init",t,r,i,E)}},e.apex.propertyEditor.PROP_TYPE.COMBOBOX),e.apex.propertyEditor.addPropertyType(_,{init:function(a,e,t){this.super("init",a,e,t),a.on("change",(function(a){const e=window.gPreferences.CODE_LANGUAGE||"PLSQL";let t=a.target.value;"SQL"!==t&&e!==t&&(window.gPreferences.CODE_LANGUAGE=t,f.process("setPreference",{x01:"CODE_LANGUAGE",x02:t},{dataType:"",queue:{name:"setPreference_CODE_LANGUAGE",action:"lazyWrite"}}))}))}},e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(u,null,K),e.apex.propertyEditor.addPropertyType(d,null,K),e.apex.propertyEditor.addPropertyType(m,null,K),e.apex.propertyEditor.addPropertyType(w,null,K),e.apex.propertyEditor.addPropertyType(R,null,K),e.apex.propertyEditor.addPropertyType(C,null,K),e.apex.propertyEditor.addPropertyType(k,null,K),e.apex.propertyEditor.addPropertyType(S,null,K),e.apex.propertyEditor.addPropertyType(N,null,K),e.apex.propertyEditor.addPropertyType(T,null,K),e.apex.propertyEditor.addPropertyType(v,null,K),e.apex.propertyEditor.addPropertyType(I,null,K),e.apex.propertyEditor.addPropertyType(b,null,K),e.apex.propertyEditor.addPropertyType(A,null,K),e.apex.propertyEditor.addPropertyType(O,null,K),e.apex.propertyEditor.addPropertyType(L,null,K),e.apex.propertyEditor.addPropertyType(D,null,K),e.apex.propertyEditor.addPropertyType(x,null,K),e.apex.propertyEditor.addPropertyType(B,null,K),e.apex.propertyEditor.addPropertyType(H,null,e.apex.propertyEditor.PROP_TYPE.TEXT),e.apex.propertyEditor.addPropertyType(Q,null,K),e.apex.propertyEditor.addPropertyType(z,{init:function(a,t,r){var i,l=e();for(this.super("init",a,t,r),this.checkboxes$=a.find("input[type=checkbox]"),this.defaultCheckbox$=this.checkboxes$.filter("[value='#DEFAULT#']"),i=0;i<t.metaData.defaultTemplateOptions.length;i++)l=l.add(this.checkboxes$.filter("[value='"+o.escapeCSS(t.metaData.defaultTemplateOptions[i])+"']"));this.defaultCheckbox$.on("click setdefaultcheckboxes",(function(){var a=e(this).prop("checked");a&&l.prop("checked",!0),l.prop("disabled",a)})).trigger("setdefaultcheckboxes")},getValue:function(a){var e=[];return this.checkboxes$.filter(":checked:not(:disabled)").each((function(){e.push(this.value)})),e.join(":")},setValue:function(a,e,t,r){this.super("setValue",a,e,t,r),this.defaultCheckbox$.trigger("setdefaultcheckboxes")}},e.apex.propertyEditor.PROP_TYPE.CHECKBOXES),e.apex.propertyEditor.addPropertyType(W,{_getProperties:function(a,e,t){return n.getProperties(this.templateOptions[t[0].typeId],this.getValue(a).split(":"),e.metaData.isReadOnly,e)},_getDisplayValue:function(t,r){var o,i,l,f=[],n=t.value,s=e.isEmptyObject(n);if(r&&(this.templateOptions||(this.templateOptions={}),this.templateOptions[r[0].typeId]=a.getTemplateOptions(r[0].getProperty(t.propertyName))),s&&r.length>1)l=fa("PROPERTY.VALUE_VARIES");else if(i=n.split(":"),""===n)l=fa("TEMPLATE_OPTIONS.NONE_SELECTED");else{o=this.templateOptions[r[0].typeId].valuesMap;for(var p=0;p<i.length;p++)o.hasOwnProperty(i[p])?f.push(o[i[p]].d):f.push(sa("LOV.UNKNOWN_LOOKUP",i[p]));l=f.join(", ")}return l},noLabel:!0,render:function(a,t,r,o){var i,l=t+"_label",f=this._getDisplayValue(r,o),n=r.value;e.isEmptyObject(n)&&r.metaData&&r.metaData.multiSelectData&&(n=r.metaData.multiSelectData.domValues?r.metaData.multiSelectData.domValues:Object.keys(r.metaData.multiSelectData.indeterminateMap).join(":")),i=this.templateOptions[o[0].typeId].values.length<2,this.renderDivOpen(a,{class:"a-Property-fieldContainer"}),a.markup("<button").attr("type","button").attr("id",t).attr("aria-describedby",l).attr("class",c+" a-Property-button").attr("data-property-id",r.propertyName).attr("value",n).optionalAttr("disabled",i).markup(">").content(f).markup("</button>"),this.renderDivClose(a)},init:function(a,t,i){var l=this,f=a.closest("div."+p),s=t.metaData,c=s.multiSelectData,u=s.parentProperty.id,d=e("[data-property-id='"+u+"']").closest(".a-Property"),m=0===d.length,h=d.hasClass("is-variable");c&&(m||h)?f.hide():(l.addLabelClickHandler(a,t),l.addTooltipsForErrors(a,t),f.on("click","#"+a.attr("id"),(function(){var f,s=l._getProperties(a.closest("div."+p),t,i),c=o.htmlBuilder();c.markup("<div").attr("id","templateOptionsDlg").attr("title",t.metaData.prompt).markup(">").markup("<div").attr("id","templateOptionsDlgPE").markup(">").markup("</div>").markup("</div>"),f=e(c.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:"ui-dialog-flushBody",create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#templateOptionsDlgPE").propertyEditor("destroy"),f.dialog("destroy")},open:function(){e("#templateOptionsDlgPE").propertyEditor({focusPropertyName:"general",hideDisplayGroups:0===s.advanced.length,data:{propertySet:[{displayGroupId:"common",displayGroupTitle:fa("TEMPLATE_OPTIONS.COMMON"),properties:s.common},{displayGroupId:"advanced",displayGroupTitle:fa("TEMPLATE_OPTIONS.ADVANCED"),properties:s.advanced}]},change:function(a,e){}}),e("#templateOptionsDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:fa("CANCEL"),click:function(){f.dialog("close")}},{text:fa("OK"),class:"a-Button--hot",disabled:t.metaData.isReadOnly,click:function(){var r,o,p,c,u=e("#templateOptionsDlgPE"),d=n.getValuesFromDialog(s,u),m=t.metaData.multiSelectData,h=[];if(m){r=m.components,p=m.indeterminateMap,o="general"===t.propertyName?t.propertyId:t.propertyName;for(h=function(){var a=[];return u.find("select.is-variable > option").each((function(){var t;t=e(this).attr("value"),!1===p[t]&&a.push(t)})),u.find("input").each((function(){var t=e(this);t.prop("indeterminate")&&a.push(t.val())})),a}(),c=0;c<r.length;c++)r[c].getProperty(o)._indeterminateValues=h;m.domValues=d.concat(h).join(":"),t.hasIndeterminate=h.length>0}l.setValue(a,t,d.join(":"),i),a.trigger("change"),l.setFocus(a),f.dialog("close")}}]})})))},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t),e.hasIndeterminate||(o=this._getDisplayValue(e,r),a.html(o).attr("title",o))}}),e.apex.propertyEditor.addPropertyType(J,{_getLov:function(a){for(var e,t=/^STATIC([2])?(\(([^,]+),([^,]+)\))?:/.exec(a),r="2"===t[1]?"N":"Y",o=t[3]||",",i=t[4]||";",l=a.replace(/^STATIC[2]?(\([^,]+,[^,]+\))?:/,"").split(o),f={sort:r,values:[]},n=0;n<l.length;n++)e=l[n].split(i),f.values.push({displayValue:e[0],returnValue:e[1]?e[1]:""});return f},_getButtonText:function(a){var e=fa("LINK.NO_LINK_DEFINED"),t=this._getLov(a);if(t.values.length>0)for(var r=0;r<t.values.length;r++)0===r?e="":e+=", ",e+=t.values[r].displayValue;return e},_getDisplayGroupValues:function(a){return{displayGroupId:ia.GROUP.VALUES,displayGroupTitle:fa("STATIC_LOV.GROUP.VALUES"),properties:a||[]}},_getDisplayGroupSort:function(a){return{displayGroupId:ia.GROUP.SORT,displayGroupTitle:fa("STATIC_LOV.GROUP.SORT"),collapsed:!0,properties:a||[]}},_getPropertyValues:function(a,t){return e.extend(!0,{propertyName:ia.PROP.VALUES,value:[],metaData:{type:$,prompt:fa("STATIC_LOV.PROP.VALUES"),displayGroupId:ia.GROUP.VALUES,originalProperty:t},errors:[],warnings:[]},a)},_getPropertySort:function(a){return e.extend(!0,{propertyName:ia.PROP.SORT,value:"Y",metaData:{prompt:fa("STATIC_LOV.PROP.SORT"),type:e.apex.propertyEditor.PROP_TYPE.YES_NO,noValue:"N",yesValue:"Y",displayGroupId:ia.GROUP.SORT,isRequired:!0},errors:[],warnings:[]},a)},noLabel:!0,render:function(a,e,t,r){var o=e+"_label";this.renderDivOpen(a,{class:"a-Property-fieldContainer"}),a.markup("<button").attr("type","button").attr("id",e).attr("aria-describedby",o).attr("class",c+" a-Property-button a-Button--forceWrap").attr("data-property-id",t.propertyName).attr("value",t.value).markup(">").content(this._getButtonText(t.value)).markup("</button>"),this.renderDivClose(a)},setValue:function(a,e,t,r){var o;this.super("setValue",a,e,t,r),o=this._getButtonText(t),a.html(o).attr("title",o)},init:function(a,t,i){var l=this;this.addLabelClickHandler(a,t),this.addTooltipsForErrors(a,t),a.closest("div."+p).on("click","#"+a.attr("id"),(function(){var i,f=o.htmlBuilder(),n=a.val(),s=l._getLov(n),p=[],c=(t.metaData.isRequired,t.metaData.isReadOnly);function u(a){var e,t,r;for(e=0;e<p.length;e++)for(t=0;t<p[e].properties.length;t++)if(p[e].properties[t].propertyName===a){r=p[e].properties[t];break}return r}p.push(l._getDisplayGroupValues([l._getPropertyValues({value:s.values,metaData:{isReadOnly:t.metaData.isReadOnly}},t)])),p.push(l._getDisplayGroupSort([l._getPropertySort({value:s.sort,metaData:{isReadOnly:t.metaData.isReadOnly}})])),f.markup("<div").attr("id","staticLovDlg").attr("title",t.metaData.prompt).markup(">").markup("<div").attr("id","staticLovDlgPE").markup(">").markup("</div>").markup("</div>"),i=e(f.toString()).dialog({modal:!0,closeText:r.getMessage("APEX.DIALOG.CLOSE"),minWidth:400,width:520,dialogClass:"ui-dialog-flushBody",create:function(){e(this).closest(".ui-dialog").attr("aria-modal",!0)},close:function(){e("#staticLovDlgPE").propertyEditor("destroy"),i.dialog("destroy")},open:function(){var a=e("#staticLovDlgPE");t.metaData.isReadOnly;a.propertyEditor({focusPropertyName:ia.PROP.VALUES,data:{propertySet:p,multiEdit:!1}}),e("#staticLovDlg").dialog({position:{my:"center",at:"center",of:window}})},buttons:[{text:fa("CANCEL"),click:function(){i.dialog("close")}},{text:fa("OK"),class:"a-Button--hot",disabled:c,click:function(){var r,o,f,n=",",s=";";if(r="STATIC","N"===u(ia.PROP.SORT).value&&(r+="2"),(o=u(ia.PROP.VALUES).value).length>0){for(var p=0;p<o.length;p++)if(-1!==(o[p].displayValue||o[p].returnValue).search(/(,|;)/)){r+="("+(n="")+","+(s="")+")";break}r+=":";for(p=0;p<o.length;p++)r+=p>0?n:"",""!==o[p].displayValue&&""!==o[p].returnValue?r+=o[p].displayValue+s+o[p].returnValue:r+=o[p].displayValue||o[p].returnValue;l.setValue(a,t,r),a.trigger("change"),l.setFocus(a),i.dialog("close")}else(f=u(ia.PROP.VALUES,fa("IS_REQUIRED"))).errors.push(fa("IS_REQUIRED")),e("#staticLovDlgPE").propertyEditor("updateProperty",f)}}]})}))}}),e.apex.propertyEditor.addPropertyType($,{stacked:!0,noLabel:!0,labelVisible:!1,minHeight:122,maxHeight:200,render:function(a,e,t,r){var o=e+"_label";a.markup("<div").attr("id",e).attr("class","a-Property-fieldContainer").attr("aria-labelledby",o).attr("role","group").attr("data-property-id",t.propertyName).markup(">"),a.markup("<table").attr("class","a-Property-setItemsTable").markup(">").markup("<caption").attr("class","u-vh").markup(">").content(fa("STATIC_LOV.VALUES")).markup("</caption>").markup("<tr>").markup("<th").attr("scope","col").attr("class","a-Property-setItemsHeader-header").markup(">").content(fa("STATIC_LOV.VALUE.DISPLAY")).markup("</th>").markup("<th").attr("scope","col").attr("class","a-Property-setItemsHeader-header").markup(">").content(fa("STATIC_LOV.VALUE.RETURN")).markup("</th>").markup("<th").attr("class","u-vh").markup(">").content(fa("STATIC_LOV.REMOVE")).markup("</th>").markup("<th").attr("class","u-vh").markup(">").content(fa("STATIC_LOV.MOVE_UP")).markup("</th>").markup("<th").attr("class","u-vh").markup(">").content(fa("STATIC_LOV.MOVE_DOWN")).markup("</th>").markup("</tr>");for(var i=0;i<t.value.length;i++)this._renderRow(a,{rowId:i+1,idPrefix:e,returnValue:t.value[i].returnValue,displayValue:t.value[i].displayValue,readOnly:t.metaData.isReadOnly,lastRow:!1});t.metaData.isReadOnly||this._renderRow(a,{rowId:t.value.length+1,idPrefix:e,lastRow:!0}),a.markup("</table>"),this.renderDivClose(a)},init:function(a,t,r){var i=this,l=a.closest("div."+p),f=a.attr("id");function n(a,e,t){var r=a.filter("input."+t),o=e.filter("input."+t),i=r.val(),l=o.val();r.val(l),o.val(i)}t.metaData.isReadOnly||l.on("change","input",(function(){var a=e(this).closest("tr").next("tr"),t=o.htmlBuilder(),r=o.htmlBuilder(),l=e(this);if(l.val()&&0===a.length){var n=e("input.linkDlgItemName").length;i._renderRow(t,{rowId:n+1,idPrefix:f,lastRow:!0}),i.renderIconButton(r,{id:f+"_rowMoveDown_"+n,icon:"a-Icon icon-shuttle-down",text:na("STATIC_LOV.MOVE_DOWN_VALUE_N",n)}),l.closest("tr").find("td:last").html(r.toString()).end().after(t.toString())}})).on("click","button[id^="+f+"_rowRemove_]",(function(){var a=e(this).closest("tr").next("tr");a.length>0?(e(this).closest("tr").remove(),a.find(":input:first").change().focus()):e(this).closest("tr").find("input").val("").filter("input.linkDlgItemName").change().focus()})).on("click","button[id^="+f+"_rowMoveUp_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").prev("tr.linkDlgSetItemsRowData").find(":input");t.length>0&&(n(a,t,"linkDlgItemName"),n(a,t,"linkDlgItemValue"),t.filter("button[id^="+f+"_rowMove]:first").focus(),a.trigger("change"))})).on("click","button[id^="+f+"_rowMoveDown_]",(function(){var a=e(this).closest("tr").find(":input"),t=e(this).closest("tr").next("tr.linkDlgSetItemsRowData").find(":input");t.length>0&&(n(a,t,"linkDlgItemName"),n(a,t,"linkDlgItemValue"),t.trigger("change"),e(this).closest("tr").next("tr.linkDlgSetItemsRowData").find("button[id^="+f+"_rowMoveDown_]").focus())})),this.addLabelClickHandler(a,t)},setFocus:function(a){a.find(":input:first").focus()},getValue:function(a){var t,r,o=[];return a.find("tr.linkDlgSetItemsRowData").each((function(){r=e(this).find(":input.linkDlgItemName"),t=e(this).find(":input.linkDlgItemValue"),""===r.val()&&""===t.val()||o.push({displayValue:r.val(),returnValue:t.val()})})),o},_renderRow:function(a,t){var r,o,i=e.extend({rowId:"",idPrefix:"",returnValue:"",displayValue:"",readOnly:!1,lastRow:!1},t);o=i.idPrefix+"_return_"+i.rowId,r=i.idPrefix+"_display_"+i.rowId,a.markup("<tr").attr("class","linkDlgSetItemsRowData").markup(">"),a.markup("<td>"),this.renderBaseInput(a,{id:r,value:i.displayValue,inputClass:["linkDlgItemName","a-Property-field","a-Property-field--text"],readonly:i.readOnly,attributes:{"aria-label":na("STATIC_LOV.VALUE_N_DISPLAY",i.rowId)}}),a.markup("</td>"),a.markup("<td>"),this.renderBaseInput(a,{id:o,value:i.returnValue,inputClass:["linkDlgItemValue","a-Property-field","a-Property-field--text"],readonly:i.readOnly,attributes:{"aria-label":na("STATIC_LOV.VALUE_N_RETURN",i.rowId)}}),a.markup("</td>"),a.markup("<td").attr("class","a-Property-setItemsTable-removeCol").markup(">"),this.renderIconButton(a,{id:i.idPrefix+"_rowRemove_"+i.rowId,icon:"a-Icon icon-remove",text:na("STATIC_LOV.REMOVE_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("<td").attr("class","a-Property-setItemsTable-removeCol").markup(">"),i.rowId>1&&this.renderIconButton(a,{id:i.idPrefix+"_rowMoveUp_"+i.rowId,icon:"a-Icon icon-shuttle-up",text:na("STATIC_LOV.MOVE_UP_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("<td").attr("class","a-Property-setItemsTable-removeCol").markup(">"),i.lastRow||this.renderIconButton(a,{id:i.idPrefix+"_rowMoveDown_"+i.rowId,icon:"a-Icon icon-shuttle-down",text:na("STATIC_LOV.MOVE_DOWN_VALUE_N",i.rowId),disabled:i.readOnly}),a.markup("</td>"),a.markup("</tr>")}}),e.apex.propertyEditor.addPropertyType(G,null,e.apex.propertyEditor.PROP_TYPE.TEXT),e.apex.propertyEditor.addPropertyType(V,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(Y,null,e.apex.propertyEditor.PROP_TYPE.SELECT_LIST),e.apex.propertyEditor.addPropertyType(q,null,Y),this.widgetName="property_editor_"+Z.mode,aa=parseInt(i.getPreference("PE_CODE_EDITOR_DLG_W"),10),isNaN(aa)&&(aa=900),ea=parseInt(i.getPreference("PE_CODE_EDITOR_DLG_H"),10),isNaN(ea)&&(ea=600),pa=window.gPreferences.CODE_EDITOR_SETTINGS||"",this.element.propertyEditor({showAll:!0,expand:function(a,e){delete la[e.displayGroupId]},collapse:function(a,e){la[e.displayGroupId]=!0},searchable:!0,change:function(e,t){var r,o,i,l=t.propertyName,f=t.property.value,n=a.transaction.message({action:a.MESSAGE_ACTION.CHANGE,component:X.lastComponents[0],property:X.lastComponents[0].getProperty(l),count:X.lastComponents.length}),s=a.transaction.start(X.widgetName,n);for(r=0;r<X.lastComponents.length;r++)i=(o=X.lastComponents[r].getProperty(l))._indeterminateValues?X._getValueAfterMultiSelect(f,o):f,o.setValue(i);apex.commandHistory.execute(s)}}),this.element.on("propertyeditoractivate",(function(a,t){var r=apex.util.htmlBuilder(),o=t.metaData.helpText;e.isFunction(o)&&(o=o()),r.markup("<h3>").content(t.metaData.prompt).markup("</h3>"),"<"!==o.charAt(0)&&(o="<p>"+o+"</p>"),r.markup(o),t.metaData.isCustomPluginAttribute?i.setHelpText(r.toString()):i.setHelpText(r.toString(),"P1_COMPONENT_TYPE_ID,P1_PROPERTY_ID,P1_APEX_VERSION:"+X.lastComponents[0].typeId+","+t.propertyName+","+gApexVersion)})).on("propertyeditordeactivate",(function(){i.clearHelpText()})),e(document).on("selectionChanged",(function(a,e,t,r){X._selectionChanged(t,r)})),e(document).on("modelCleared",(function(){X._clearPropertyEditor()}))},_getPropertyValue:function(a,e){var t,r;for(t=0;t<a.length;t++)if(0===t)r=a[t].getProperty(e).getValue();else if(r!==a[t].getProperty(e).getValue()){r=this.element.propertyEditor("getValueVariesConstant");break}return r},_prepareMultiSelectMap:function(a,e){var t,r,o,i,l,f,n=!1,s=a.length,p="",c="",u={},d={};for(t=0;t<s;t++)p=p+":"+(i=(o=a[t].getProperty(e)).getValue()),o._originalValBeforeMultiSelect=i;for(f=p.split(":"),r=0;r<f.length;r++)(c=f[r])&&(u[c]=u[c]?u[c]+1:1);for(l in u)u.hasOwnProperty(l)&&(n=u[l]===s,d[l]=!n);return{indeterminateMap:d,components:a}},_getEventSpecificProperties:function(a,t){var r,o,i=[],l=[];for(r in a)if(a.hasOwnProperty(r))for(i=a[r],o=0;o<i.length;o++)e.inArray(i[o],t)>-1&&-1===e.inArray(r,l)&&l.push(r);return l},_getValueAfterMultiSelect:function(a,t){var r,o,i=a.split(":"),l=t._originalValBeforeMultiSelect.split(":"),f=t._indeterminateValues||[];for(o=0;o<f.length;o++)r=f[o],e.inArray(r,l)>-1&&-1===e.inArray(r,i)&&i.push(r);return i.join(":")},_toPEProperty:function(a,t){var r,o,i,l,f,n=this,s=[],p=[],c=a?a.getMetaData():{},u=this._getPropertyValue(t,a.id),d=c.type===Z,m=c.type===W,y=u===this.element.propertyEditor("getValueVariesConstant"),g=[aa,h,M,Z,W];if(t.length>1&&-1!==e.inArray(c.type,g)){for(r=0;r<t.length;r++){for(l={values:t[r].getProperty(a.id).getMetaData().lovValues(),map:{}},o=0;o<l.values.length;o++)l.map[l.values[o].r]=!0;p.push(l)}for(p.sort((function(a,e){return a.values.length-e.values.length})),s=p[0].values,o=1;o<p.length;o++)for(i=0;i<s.length;i++)p[o].map.hasOwnProperty(s[i].r)||(s.splice(i,1),i-=1);c.lovValues=s,y&&(d||m)&&(c.multiSelectData=this._prepareMultiSelectMap(t,a.id))}return f=d?y?u:a._originalValBeforeMultiSelect?n._getValueAfterMultiSelect(u,a):u:u,{metaData:c,propertyName:a.id,errors:a.errors,warnings:a.warnings,value:f,oldValue:f,hasChanged:a.hasChanged}},_setPropertyEditorTitle:function(a){var e="";"main"===this.options.mode&&(e=a||sa("TITLE"),i.getTab("peComponentProperties").find(".ui-tabs-anchor").text(e))},_clearPropertyEditor:function(){this.lastComponents=null,this.element.propertyEditor("option",{data:{propertySet:[],propertyValues:[]}}),i.clearHelpText(),this._setPropertyEditorTitle(),i.activateTab("peComponentProperties"),this.element.prev().find("button").each((function(){e(this).prop("disabled",!0)})),a.unobserver(this.widgetName,{})},_getCurrentModeComponents:function(e){var t,r,o,i,l,f,n=[],s=this.options.mode,p={NATIVE_CALENDAR:{attributes:a.COMP_TYPE.CLASSIC_CALENDAR},NATIVE_FLASH_CHART5:{attributes:a.COMP_TYPE.CHART},NATIVE_FLASH_MAP:{attributes:a.COMP_TYPE.MAP_CHART},NATIVE_IR:{attributes:a.COMP_TYPE.IR_ATTRIBUTES,printing:a.COMP_TYPE.IR_PRINT_ATTR},NATIVE_IG:{attributes:a.COMP_TYPE.IG_ATTRIBUTES,printing:a.COMP_TYPE.IG_PRINT},NATIVE_JET_CHART:{attributes:a.COMP_TYPE.JET_CHART},NATIVE_SQL_REPORT:{attributes:a.COMP_TYPE.CLASSIC_REPORT,printing:a.COMP_TYPE.CLASSIC_RPT_PRINT},NATIVE_TABFORM:{attributes:a.COMP_TYPE.TABULAR_FORM,printing:a.COMP_TYPE.TAB_FORM_PRINT},NATIVE_CARDS:{attributes:a.COMP_TYPE.CARD}};if("main"===s)return e;for(t=0;t<e.length;t++){if(e[t].typeId!==a.COMP_TYPE.REGION)return[];p[r=e[t].getProperty(a.PROP.REGION_TYPE).getValue()]&&p[r][s]?o=p[r][s]:"attributes"===s&&(o=a.COMP_TYPE.REGION_PLUGIN_ATTR),o&&(o===a.COMP_TYPE.IR_PRINT_ATTR?(f=a.getComponents(a.COMP_TYPE.IR_ATTRIBUTES,{parentId:e[t].id})).length>0&&(l=f[0].id):l=e[t].id,(i=a.getComponents(o,{parentId:l})).length>0&&n.push(i[0]))}return n},_selectionChanged:function(t,r){var o,l,f,n="",s=this.options.mode;if(t.length>0)if((f=this._getCurrentModeComponents(t,s)).length>0){for("attributes"===s?i.getTab("peAttributesTabPanel").show():"printing"===s&&i.getTab("pePrintingTabPanel").show(),o=0;o<f.length;o++)if(0===o)n=a.getComponentType(f[o].typeId).title.singular,l=f[o].typeId;else{if(f[o].typeId!==f[o-1].typeId){n=fa("MULTIPLE_TYPES");break}n=a.getComponentType(f[o].typeId).title.plural,l=f[o].typeId}this.lastComponents=f,this._selectComponents(f,r),this._setPropertyEditorTitle(n,l),this.element.prev().find("button").each((function(){e(this).prop("disabled",!1)}))}else"attributes"===s?i.getTab("peAttributesTabPanel").hide():"printing"===s&&i.getTab("pePrintingTabPanel").hide(),this._clearPropertyEditor();else i.getTab("peAttributesTabPanel").hide(),i.getTab("pePrintingTabPanel").hide(),this._clearPropertyEditor()},_getPropertyGroups:function(t,r){var o,i,l,f,n,s,p,c={},u=[],d={};for(p=r.isSharedComponent?[t[0].getProperty(r.displayPropertyId)]:t[0].getProperties(),o=0;o<p.length;o++)c[p[o].id]=p[o].getMetaData();if(p.sort((function(a,e){return c[a.id].displaySeq-c[e.id].displaySeq})),t.length>1)for(o=0;o<p.length;o++){if(f=p[o],s=!1,(c[f.id].isUnique||e.inArray(c[f.id].type,ea)>-1)&&(s=!0),!s)for(i=1;i<t.length;i++)if(!t[i].getProperty(f.id)){s=!0;break}s&&(delete c[f.id],p.splice(o,1),o-=1)}for(o=0;o<p.length;o++)l=(f=p[o]).id,this._getPropertyValue(t,l),n=c[l].displayGroupId,c[l].type!==X&&(d.hasOwnProperty(n)||(u.push({displayGroupId:n,displayGroupTitle:a.getDisplayGroup(n).title,collapsed:!!la[n],properties:[]}),d[n]=u.length-1),u[d[n]].properties.push(this._toPEProperty(f,t)));return u},_selectComponents:function(r,o){var f,n,s,p,c,u,d,m,h,y,g,E,P,_={},T=[],v={},I=[],b=this,A=this.options.mode;for(h=(y=a.getComponentType(r[0].typeId)).isSharedComponent?[r[0].getProperty(y.displayPropertyId)]:r[0].getProperties(),f=0;f<h.length;f++)_[h[f].id]=h[f].getMetaData();if(h.sort((function(a,e){return _[a.id].displaySeq-_[e.id].displaySeq})),r.length>1)for(f=0;f<h.length;f++){if(c=h[f],m=!1,(_[c.id].isUnique||e.inArray(_[c.id].type,ea)>-1)&&(m=!0),!m)for(n=1;n<r.length;n++)if(!(d=r[n]).getProperty(c.id)){m=!0;break}m&&(delete _[c.id],h.splice(f,1),f-=1)}for(f=0;f<h.length;f++)p=(c=h[f]).id,this._getPropertyValue(r,p),u=_[p].displayGroupId,_[p].type!==X&&(v.hasOwnProperty(u)||(T.push({displayGroupId:u,displayGroupTitle:a.getDisplayGroup(u).title,collapsed:!!la[u],properties:[]}),v[u]=T.length-1),T[v[u]].properties.push(this._toPEProperty(c,r)));for(I.push({type:"action",labelKey:"PD.PE.EXPAND_ALL",action:function(){b.element.propertyEditor("expandAll")}},{type:"separator"}),s=0;s<T.length;s++)I.push({type:"action",label:T[s].displayGroupTitle,value:T[s].displayGroupId,action:function(){return b.element.propertyEditor("goToGroup",this.value),!0}});E={items:I},"main"===A?P=e("#pe_goto_group_menu"):"attributes"===A?P=e("#pe_attributes_goto_group_menu"):"printing"===A&&(P=e("#pe_printing_goto_group_menu")),P.menu(E),1===r.length&&(d=r[0],y.isSharedComponent&&(g=function(){l.redirect(y.editUrl.replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,d.id).replace(/%application_id%/g,a.getCurrentAppId()).replace(/%page_id%/g,a.getCurrentPageId()))}),d.isOnGlobalPage()&&(g=function(){i.setPageSelection(a.getCurrentAppId(),d.pageId,d.typeId,d.id,(function(){}))})),this.element.propertyEditor("option",{focusPropertyName:o,externalEdit:g,data:{propertySet:T,lastComponents:r}}),a.unobserver(this.widgetName,{}),"main"===A&&(a.observer(this.widgetName,{components:[{typeId:a.COMP_TYPE.REGION_PLUGIN_ATTR},{typeId:a.COMP_TYPE.IR_ATTRIBUTES},{typeId:a.COMP_TYPE.IR_PRINT_ATTR},{typeId:a.COMP_TYPE.CLASSIC_RPT_PRINT},{typeId:a.COMP_TYPE.IG_ATTRIBUTES},{typeId:a.COMP_TYPE.IG_PRINT},{typeId:a.COMP_TYPE.CLASSIC_CALENDAR},{typeId:a.COMP_TYPE.CHART},{typeId:a.COMP_TYPE.MAP_CHART},{typeId:a.COMP_TYPE.JET_CHART},{typeId:a.COMP_TYPE.TABULAR_FORM},{typeId:a.COMP_TYPE.TAB_FORM_PRINT},{typeId:a.COMP_TYPE.CARD}],events:[a.EVENT.CREATE,a.EVENT.DELETE]},(function(a){t.trace("%s: CREATE/DELETE component notification received",b.widgetName,a),a[0].component.parentId===r[0].id&&e(document).trigger("selectionChanged",[b.widgetName,r])}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.DELETE]},(function(a){var e,r;for(t.trace("%s: DELETE component notification received",b.widgetName,a),r=0;r<b.lastComponents.length;r++)for(e=0;e<a.length;e++)if(a[e].component.typeId===b.lastComponents[r].typeId){b.lastComponents.splice(r,1),r-=1;break}b._selectionChanged(b.lastComponents)}),!0)),a.observer(this.widgetName,{components:r,events:[a.EVENT.CHANGE]},(function(r){var o,i,l,f=r.length,n={},s=[];for(t.trace("%s: CHANGE component notification received",b.widgetName,r),o=0;o<f;o++)for(i in l=r[o],s.push(l.component),l.properties)l.properties.hasOwnProperty(i)&&-1!==e.inArray(a.EVENT.CHANGE,l.properties[i])&&(n[i]=!0),"redo"===l.action?b.element.find("[data-property-id="+i+"]").first().parent().parent().addClass("is-changed"):"undo"===l.action&&void 0!==l.component.getProperty(i)&&(l.component.getProperty(i).hasChanged||b.element.find("[data-property-id="+i+"]").first().parent().parent().removeClass("is-changed"));for(i in n)n.hasOwnProperty(i)&&b.element.propertyEditor("updatePropertyValue",i,b._getPropertyValue(s,i),!0)}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.ADD_PROP,a.EVENT.REMOVE_PROP]},(function(o){var i,l,f,n,s,p,c,u,d,m,h,y,g,E,P={},_=[],T=[];for(t.trace("%s: ADD_PROP/REMOVE_PROP notification received",b.widgetName,o),s=0;s<o.length;s++)_.push(o[s].component);for(h=b._getEventSpecificProperties(o[0].properties,[a.EVENT.ADD_PROP]),l=(i=a.getComponentType(r[0].typeId)).isSharedComponent?[r[0].getProperty(i.displayPropertyId)]:r[0].getProperties(),p=0;p<l.length;p++)P[l[p].id]=l[p].getMetaData();if(l.sort((function(a,e){return P[a.id].displaySeq-P[e.id].displaySeq})),r.length>1)for(c=0;c<l.length;c++){if(f=l[c],n=!1,(P[f.id].isUnique||e.inArray(P[f.id].type,ea)>-1)&&(n=!0),!n)for(u=1;u<r.length;u++)if(!r[u].getProperty(f.id)){n=!0;break}n&&(delete P[f.id],l.splice(c,1),c-=1)}for(d=0;d<l.length;d++)if(E=l[d].id,P[E].type!==X)for(g=P[E].displayGroupId,(0===d||g!==P[l[d-1].id].displayGroupId)&&T.push(g),s=0;s<h.length;s++)if(E===h[s]){m=o[0].component.getProperty(h[s]),b.element.propertyEditor("addProperty",{property:b._toPEProperty(m,_),prevPropertyName:l[d-1].id,displayGroup:{displayGroupId:P[l[d].id].displayGroupId,displayGroupTitle:a.getDisplayGroup(g).title,properties:[]},prevDisplayGroupId:T[T.length-2]});break}for(y=b._getEventSpecificProperties(o[0].properties,[a.EVENT.REMOVE_PROP]),s=0;s<y.length;s++)b.element.propertyEditor("removeProperty",y[s])}),!0),a.observer(this.widgetName,{components:r,events:[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]},(function(e){var r,o,i,l,f,n=[];for(t.trace("%s: ERRORS/NO_ERRORS/WARNINGS/NO_WARNINGS/META_DATA notification received",b.widgetName,e),r=0;r<e.length;r++)n.push(e[r].component);for(i=b._getEventSpecificProperties(e[0].properties,[a.EVENT.ERRORS,a.EVENT.NO_ERRORS,a.EVENT.WARNINGS,a.EVENT.NO_WARNINGS,a.EVENT.META_DATA]),o=0;o<i.length;o++)l=e[0].component.getProperty(i[o]),f=b._toPEProperty(l,n),b.element.propertyEditor("updateProperty",f)}),!0)}})}(pe,apex.jQuery,apex.debug,apex.lang,apex.util,window.pageDesigner,apex.navigation,apex.server,apex.templateOptionsHelper);
!function(t,e,n,i,s){"use strict";var o="a-GridLayout",r="a-GridLayout-pageItem",a="a-GridLayout-region",l="a-GridLayout-button",h="a-GridLayout-buttonContainer",p=".a-GridLayout-buttonGroup,.a-GridLayout-regionContent",d=".a-GridLayout-buttonRow",c="a-GridLayout--conditional",u="a-GridLayout-items",f="a-GridLayout-regions",m="a-GridLayout-buttons",g="a-GridLayout-grid",y=".a-GridLayout-grid",v="a-GridLayout-stack",_="a-GridLayout-flow",C=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",w=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",b=".a-GridLayout-regionContainer, .a-GridLayout-itemContainer, .a-GridLayout-buttonContainer",P=".a-GridLayout-grid, .a-GridLayout-stack, .a-GridLayout-flow",k={regionContainer:["a-GridLayout-regionContainer",f],itemContainer:["a-GridLayout-itemContainer",u],buttonContainer:[h,m]},G={region:a,item:r,button:l},L=[50,75,100,125,150,175,200];function x(t,e,n){return t>e&&t<e+n}function I(t){return t.parent().children(":visible").index(t)}function D(t,e,n,i){var s,o;"string"!=typeof e&&(i=n,n=e,e="*"),(o=(s=t.children(e)).index(n))>=0&&o<i&&(i+=1),i>=s.length?t.append(n):s.eq(i).before(n)}function R(t){var e,n=t||"";if(!((e=n.indexOf("_"))<0))return n.substring(e+1)}function S(t,e){var n;for(n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function O(t){var e=0;return t.parent().children().each((function(){if(this===t[0])return!1;e+=this.colSpan||1})),e}function T(t,e,n,i){var s=e[n];s!==i&&(t.propertyChanges.push({component:e,property:n,oldValue:s,newValue:i}),e[n]=i)}function N(t,e,n,i){var s,o,r;if(n<0&&(n=0),i>0)for(0===(r=Math.floor(n/i))&&(r=1),s=e;s<t.length;s++)-1===(o=t[s]).span&&(o.span=r,(n-=r)>0&&n<r&&(o.span+=n))}function A(t,e){var n,i,s,o=e,r=0,a=0,l=0,h=1;for(n=0;n<t.columns.length;n++)(s=t.columns[n]).col>1&&(i=s.col-h,N(t.columns,r,i-a,l),o-=i,r=n,a=0,l=0,h=s.col),s.span>0?a+=s.span:l+=1;N(t.columns,r,o-a,l)}function F(t,e,n){var i;for(i in n)n.hasOwnProperty(i)&&e[i]&&(t+=" "+n[i]);return t}function E(t,e){var n;for(n in e)if(e.hasOwnProperty(n)&&t[n])return e[n];return null}function H(t,e){return t.types.indexOf(e)>=0}function M(t,e){var n,i="";for(n=0;n<t.length;n++)n>0&&(i+=" "),i+=k[t[n]][e];return i}function W(t){var e="";return t.hasClass(f)&&(e+=",."+a),t.hasClass(u)&&(e+=",."+r),t.hasClass(m)&&(e+=",."+l),e.substr(1)}function q(t){var e="",n=t.closest(b);return n.hasClass("a-GridLayout-regionContainer")&&(e+=" "+f),n.hasClass("a-GridLayout-itemContainer")&&(e+=" "+u),n.hasClass(h)&&(e+=" "+m),e.substr(1)}t.widget("apex.gridlayout",t.ui.mouse,{version:"18.1",widgetEventPrefix:"gridlayout",dragging:!1,animating:!1,nodeMap:{},nextId:1,dragComponent:null,helper:null,fromOutside:!1,isOver:!1,lastZoom:"",pageRoot:null,options:{getPageRoot:null,getIconForComponent:function(t){var e="",n=t.type;return"region"===n?e="region":"item"===n?e="page-item":"button"===n?e="button":"page"===n&&(e="page"),e},makeComponent:null,updateComponentCopy:null,deleteKeyAction:null,contextMenuAction:null,stateClassMap:{},stateIconMap:{},displayFrom:null,hideLegacyDisplayPoints:!1,hideEmptyDisplayPoints:!1,hideButtons:!1,hideItems:!1,zoom:100,iconType:"a-GIcon",appendTo:"parent",containment:!1,cursor:"auto",cursorAt:!1,gridTolerance:10,idPrefix:null,multiple:!0,opacity:!1,animate:!0,scroll:!0,scrollSensitivity:20,scrollSpeed:20,tolerance:"intersect",zIndex:1e3,activate:null,deactivate:null,out:null,over:null,start:null,beforeStop:null,stop:null,selectionChange:null,added:null,removed:null,moved:null,copied:null},_create:function(){var e=this.options,n=this;if(!e.makeComponent||!e.updateComponentCopy||!e.getPageRoot)throw"Missing required options.";this.pageRoot=e.getPageRoot(),this.containerCache={},this.element.addClass(o),this.baseId=(e.idPrefix||this.element[0].id||"glv")+"_",this.refresh(!1),this._setZoom(),this.offset=this.element.offset(),this._mouseInit(),this.element.on("keydown.glv",(function(i){var s=t.ui.keyCode,o=i.which;i.altKey||(o===s.HOME?(n._select(t(".a-GridLayout-page:first"),i,!0,!0),i.preventDefault()):o===s.END?(n._select(n.element.find(w).last(),i,!0,!0),i.preventDefault()):o===s.DOWN?(n._traverseDown(i),i.preventDefault()):o===s.UP?(n._traverseUp(i),i.preventDefault(),i.stopPropagation()):o===s.LEFT?(n._traverseLeft(i),i.preventDefault()):o===s.RIGHT?(n._traverseRight(i),i.preventDefault()):o===s.SPACE?(n.lastFocused&&n._select(t(n.lastFocused),i,!0,!0),i.preventDefault()):e.deleteKeyAction&&o===s.DELETE?(n.lastFocused&&e.deleteKeyAction(i),i.preventDefault()):e.contextMenuAction&&i.shiftKey&&121===o&&(n.lastFocused&&!t(n.lastFocused).is(".is-selected")&&n._select(t(n.lastFocused),{},!1,!0),e.contextMenuAction(i),i.preventDefault()))})).on("focusin",(function(e){var i=t(e.target).closest(w);0!==i.length&&(i.addClass("is-focused"),n._setFocusable(i[0]))})).on("focusout",(function(e){t(e.target).closest(w).removeClass("is-focused")})).on("contextmenu",(function(i){var s;e.contextMenuAction&&((s=t(i.target).closest(w).not(".is-selected")).length&&n._select(s,{},!1,!1),e.contextMenuAction(i),i.preventDefault())}))},_destroy:function(){return this.element.removeClass(o).empty(),this._mouseDestroy(),this},_setOption:function(e,n){"disabled"===e?(this.options[e]=n,this.widget().toggleClass("is-disabled",!!n)):t.Widget.prototype._setOption.apply(this,arguments),"displayFrom"===e?this.refresh(!1):"hideLegacyDisplayPoints"===e||"hideButtons"===e||"hideItems"===e||"hideEmptyDisplayPoints"===e?this._showOrHideDisplayPoints():"zoom"===e&&this._setZoom()},pageDataChanged:function(){var t=this.options;this.pageRoot=this.options.getPageRoot(),t.displayFrom&&(this._find(t.displayFrom,!0)||(t.displayFrom=null)),this.refresh(!1)},getPageData:function(){return this.pageRoot},refresh:function(t){var i,s,o,r,a,l,h,p=this.options,d=e.htmlBuilder();if(n.info("Gridlayout refresh"),!t)for(a=[],r=this.getSelectedComponents(),i=0;i<r.length;i++)a.push(r[i].id);if(this._layoutPage(),this.nodeMap={},p.displayFrom){if(!(s=this._find(p.displayFrom,!0)))throw"No such region in displayFrom option: "+p.displayFrom;for(l=!0,h=s._parent;h;){if(h.components&&!h.isGrid){l=!1;break}h=h._parent}this._renderRegion(d,s,l,!0)}else this._renderPage(d,this.pageRoot);return this.element.html(d.toString()),this._showOrHideDisplayPoints(),o=this.element.children().eq(0),t?(this._select(o,t),this._trigger("selectionChange")):(this._setFocusable(o[0]),a.length>0&&this.element.is(":visible")&&(this.setSelectedComponents(a,!1),a.length!==this.getSelection().length&&this._trigger("selectionChange"))),this},dump:function(){n.log("Page: \r\n"+JSON.stringify(this.pageRoot,(function(t,e){return"_parent"===t?"-> "+(this._parent.id||this._parent.title):"_modelComponent"===t?"[id="+e.id+"]":"_parentGrid"===t?"-> "+S(this._parentGrid._parent._grids,this._parentGrid):"_parentRow"===t?"-> "+S(this._parentRow._parentGrid.rows,this._parentRow):"_parentColumn"===t?"-> "+S(this._parentColumn._parentRow.columns,this._parentColumn):e}),2))},findById:function(e){var n=this._find(e);return n?this._getElement(n):t()},findComponentById:function(t){return this._find(t)},getContainer:function(t){return t.closest(b)},findContainer:function(t,e){var n,i,s,o=this.pageRoot;if(i=o.id===t?o:this._find(t,!0))for(n=0;n<i.displayPoints.length;n++)if((s=i.displayPoints[n]).id===e)return s;return null},getComponents:function(t){var e=this,n=[];return t.each((function(){n.push(e._getNode(this))})),n},getSelection:function(){return this.element.find(".is-selected")},getSelectedComponents:function(){return this.getComponents(this.getSelection())},setSelection:function(t,e){e=!!e,this._select(t,null,e,!1,!0)},setSelectedComponents:function(e,n){var i,s,o,r=[];for(n=!!n,i=0;i<e.length;i++)(s=this._find(e[i]))&&(o=this._getElement(s)).length>0&&r.push(o[0]);this._select(t(r),null,n,!1,!0)},focus:function(){this.lastFocused&&this.lastFocused.focus()},makeHelper:function(n,i,s,o){var r,a,l=this.options.getIconForComponent,h=new e.htmlBuilder;return n||(n=(r=this._getNode(this.dragComponent[0])).type,i=l(r),s=r.title),a=G[n]+" a-GridLayout-helper",h.markup("<div").attr("class",a).optionalAttr("data-type-id",o).markup(">"),this._renderHeader(h,i,s,!0),h.markup("<div").attr("class","a-GridLayout-dragAction").markup("></div></div>"),t(h.toString())},getDropTargets:function(e,n){var s,o,h,p,c,y,C,w,P=[];function k(n){h=n,t(this).children().eq(0).children(c).each((function(n){C&&this===e[0]?y=!0:s.items.push({element:t(this),row:o,col:h,index:n,name:t(this).children("h3").text()})}))}function G(e){o=e,t(this).children("td").each(k)}if(C="move"===(n=n||"move"),"add"===n&&"string"==typeof e&&(w=e),"item"===w||!w&&e.hasClass(r))p=u;else if("region"===w||!w&&e.hasClass(a))p=f;else{if("button"!==w&&(w||!e.hasClass(l)))throw"Invalid component or component type";p=m}return c="."+c,t(p="."+p,this.element).filter(":visible").each((function(){var n,o,r,a,l,h=t(this),p=null;c=W(h),h.hasClass(g)?o="grid":h.hasClass(v)?o="stack":h.hasClass(_)&&(o="flow"),"stack"===o&&"TD"===h.parent()[0].nodeName||C&&0!==h.parents().filter(e[0]).length||(l="",""!==(a=h.parent().closest(".a-GridLayout-region").find(".a-GridLayout-label").eq(0).text())&&(l=a+" > "),"flow"===o&&"TD"===h.parent()[0].nodeName?(r=h.closest(d).prev().text(),h.parent().next().length>0?(r=i.formatMessageNoEscape("GL.BTN_POS_L",r),p="left"):(r=i.formatMessageNoEscape("GL.BTN_POS_R",r),p="right")):r=h.prev().text(),l+=r,s={element:h.closest(b),type:o,region:a,name:r,label:l},y=!1,"grid"===o?(s.items=[],h.children("tbody").children("tr").each(G)):(s.items=[],p&&(s.alignment=p),h.children(c).each((function(i){C&&this===e[0]?y=!0:(n={element:t(this),index:i,name:t(this).children("h3").text()},p&&(n.alignment=p),s.items.push(n))}))),y&&0===s.items.length||P.push(s))})),P},update:function(i,s,o){var r,a,l,h,p,d,u=this.options,f=!1;if("string"==typeof i&&(i=this._find(i)),!i)throw"Nothing to update";if(n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout update component: "+i.title+", layoutChange: "+s+", childrenOnly: "+o),s&&(o&&!i._parent||(i=i._parent._parent),f="page"===i.type||t.isArray(i._parent._grids),this._layoutDisplayPoints(i.displayPoints,i,f,12)),(l=this._getElement(i)).length)if(s)p=this.getSelectedComponents(),a=e.htmlBuilder(),"page"===i.type?this._renderPage(a,i):this._renderComponent(a,i,f),h=t(a.toString()),l.hasClass("is-selected")&&h.addClass("is-selected"),h[0].tabIndex=l[0].tabIndex,l.replaceWith(h),this._showOrHideDisplayPoints(h),this.setSelectedComponents(p);else{for(r in l.find(".a-GridLayout-label").first().html(e.escapeHTML(i.title)),l.toggleClass(c,!!i.isConditional),u.stateClassMap)u.stateClassMap.hasOwnProperty(r)&&l.toggleClass(u.stateClassMap[r],!!i[r]);l.find("."+u.iconType)[0].className=u.iconType+" "+u.getIconForComponent(i),(d=E(i,u.stateIconMap))&&l.find(".a-GridLayout-label").first().prepend("<span class='a-Icon "+d+"'></span>")}},add:function(t,e,i,s,o,r,a,l,h){var p,d,c;if("string"!=typeof e&&"number"!=typeof e||(d=e,e=this.options.makeComponent(d)),!(i=this._getContainerElement(i))||!i.is(b))throw"Invalid add destination";return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout add component: "+e.title+" to: "+i[0].id+", g/r/c/i: "+s+"/"+o+"/"+r+"/"+a),c=(p=this._add(e,i,s,o,r,a,l,h)).newComponent$,p.lastChange=!0,this._trigger("added",t,p),this._select(c,t,!0),this},remove:function(e,i){var s,o,r,a,l,h=[],p=t(this.lastFocused).hasClass("is-focused"),d=this;if(n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout remove "+(i?i.length+" component(s).":"selection")),i=i||this.getSelection(),t.isArray(i)){for(a=[],s=0;s<i.length;s++)(l=this.findById(i[s])).length>0&&a.push(l[0]);i=t(a)}if(!i||0===i.filter(C).length)throw"Nothing to remove";for(r=i.filter(".is-selected").eq(0);r&&r.length&&r.hasClass("is-selected")&&!r.is(".a-GridLayout-page");)(r=t(this._traverseUp(e,!0)))&&(this.lastFocused=r[0]);for(i.filter(C).each((function(){var e;(e=d._getNode(this))&&(n.info("Gridlayout remove component: "+e.title),o=d._remove(t(this)),h.push(o))})),s=0;s<h.length;s++)h[s].lastChange=s>=h.length-1,d._trigger("removed",e,h[s]);return r&&r.length&&this._select(r,e,p),this},move:function(e,i,s,o,r,a,l,h){var p,d;if(i=i||t(this.lastFocused),!(i=this._getComponentElement(i))||!i.is(C))throw"Nothing to move";if(!(s=this._getContainerElement(s))||!s.is(b))throw"Invalid move destination";return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout move component: "+this._getNode(i[0]).title+" to: "+s[0].id+", g/r/c/i: "+o+"/"+r+"/"+a+"/"+l),d=(p=this._moveOrCopy(i,s,o,r,a,l,h,!1)).newComponent$,p.lastChange=!0,this._trigger("moved",e,p),this._select(d,e,!0),this},copy:function(e,i,s,o,r,a,l,h){var p,d;if(i=i||t(this.lastFocused),!(i=this._getComponentElement(i))||!i.is(C))throw"Nothing to copy";if(!(s=this._getContainerElement(s))||!s.is(b))throw"Invalid copy destination";return n.getLevel()>=n.LOG_LEVEL.INFO&&n.info("Gridlayout copy component: "+this._getNode(i[0]).title+" to: "+s[0].id+", g/r/c/i: "+o+"/"+r+"/"+a+"/"+l),d=(p=this._moveOrCopy(i,s,o,r,a,l,h,!0)).newComponent$,p.lastChange=!0,this._trigger("copied",e,p),this._select(d,e,!0),this},_layoutGrid:function(t,e,n,i){var s,o,r,a,l,h,p,d,c,u,f=this.pageRoot,m=null,g={},y=0,v=null,_=null,C=null,w=0;if(n)for(m=[],a=0;a<t.length;a++)if(l=t[a],(!v||n&&"fixed"!==f.gridType&&l.newGrid)&&(v={_parent:e,rows:[]},_=null,m.push(v)),(!_||n&&l.newRow)&&(_={_parentGrid:v,columns:[]},C=null,v.rows.push(_),g={}),n&&l.col>0)if(g.hasOwnProperty(l.col))_.columns[g[l.col]].components.push(l),l._parentColumn=_.columns[g[l.col]];else if(C={_parentRow:_,col:l.col,span:f.hasColumnSpan?l.span||-1:1,rowSpan:l.rowSpan,components:[l]},l._parentColumn=C,_.columns.push(C),w=_.columns.length-1,l.col<y){for(p=w,h=l.col+1;h<=y;h++)g.hasOwnProperty(h)&&(g[h]<p&&(p=g[h]),g[h]+=1);p!==w&&(d=w,c=p,u=void 0,u=_.columns.splice(d,1),_.columns.splice(c,0,u[0])),g[l.col]=p}else y=l.col,g[l.col]=w;else(!C||n&&l.newCol)&&(C={_parentRow:_,col:-1,span:f.hasColumnSpan?l.span||-1:1,rowSpan:l.rowSpan,components:[]},_.columns.push(C)),C.components.push(l),l._parentColumn=C;if(n&&"fixed"===f.gridType&&f.hasColumnSpan)for(s=0;s<m.length;s++)for(v=m[s],o=0;o<v.rows.length;o++)A(_=v.rows[o],i);if(m)for(s=0;s<m.length;s++)for(v=m[s],o=0;o<v.rows.length;o++)for(_=v.rows[o],r=0;r<_.columns.length;r++)C=_.columns[r];for(a=0;a<t.length;a++)(l=t[a])._parent=e,l.displayPoints&&this._layoutDisplayPoints(l.displayPoints,l,n,i);return m},_layoutDisplayPoints:function(t,e,n,i){var s,o,r=this.pageRoot,a=0;for(s=0;s<t.length;s++){if((o=t[s])._parent=e,o.hasOwnProperty("span")||o.hasOwnProperty("newColumn")){if(!0===o.newGrid&&(delete o.newRow,delete o.newColumn),!0===o.newRow&&delete o.newColumn,!0!==o.newRow&&!0!==o.newGrid||(a=0),o.span=o.span||1,!1!==o.newColumn&&(a+=o.span),"fixed"===r.gridType&&a>i)throw"Fixed layout template grid exceeded max columns. Display point: "+o.title;if(n&&o.isGrid&&!o.maxColumns&&("fixed"!==r.gridType||r.alwaysUseMaxColumns?o.maxColumns=i:o.maxColumns=o.span),o.isGrid&&"fixed"===r.gridType&&!r.alwaysUseMaxColumns&&o.span!==o.maxColumns)throw"Fixed layout span and maxColumns must be the same. Display point: "+o.title}else a=0,n&&o.isGrid&&!o.maxColumns&&(o.maxColumns=i);if(o.hasRowSpan&&!r.hasRowSpan)throw"Row span not allowed for display point when page doesn't support row span. Display point: "+o.title;o._grids=this._layoutGrid(o.components,o,n&&o.isGrid,o.maxColumns||i)}},_layoutPage:function(){var t=this.pageRoot;this._layoutDisplayPoints(t.displayPoints,t,!0,t.maxColumns)},_showOrHideDisplayPoints:function(e){var n,i=this.options,s=this;(e=e||this.element).find(".a-GridLayout-regionContainer").each((function(){var e=s._getNode(this);!i.hideEmptyDisplayPoints&&t(this).is(".a-GridLayout--legacy")?t(this).toggle(!i.hideLegacyDisplayPoints||0!==e.components.length):t(this).toggle(!i.hideEmptyDisplayPoints||0!==e.components.length)})),e.find(".a-GridLayout-buttonContainer").each((function(){var e=s._getNode(this);(n=!(i.hideButtons||i.hideEmptyDisplayPoints&&0===e.components.length))&&e.isLegacy&&(n=!i.hideLegacyDisplayPoints||0!==e.components.length),t(this).toggle(n)})),e.find(".a-GridLayout-itemContainer").each((function(){var e=s._getNode(this);(n=!(i.hideItems||i.hideEmptyDisplayPoints&&0===e.components.length))&&e.isLegacy&&(n=!i.hideLegacyDisplayPoints||0!==e.components.length),t(this).toggle(n)})),i.hideEmptyDisplayPoints},_find:function(t,e){var n=this.pageRoot;return!e&&n===t||n.id===t?n:function n(i){var s,o,r,a,l=null;for(s=0;s<i.length;s++)if(r=i[s],!e||H(r,"regionContainer"))for(o=0;o<r.components.length;o++){if((a=r.components[o])===t||a.id===t)return a;if(a.displayPoints&&(l=n(a.displayPoints)))return l}return l}(n.displayPoints)},_getComponentElement:function(t){return"string"==typeof t?this.findById(t):t._elementId?this._getElement(t):t},_getContainerElement:function(e){var n;return t.isArray(e)?(n=this.findContainer(e[0],e[1]))?this._getElement(n):null:e._elementId?this._getElement(e):e},_addNode:function(t){var e=this.nextId;return this.nodeMap[this.nextId]=t,t._elementId=this.nextId,this.nextId+=1,this.baseId+e},_setNode:function(t){if(!t._elementId)throw"Failed to add node to nodeMap - no id";this.nodeMap[t._elementId]=t},_getNode:function(t){var e=R(t.id);return this.nodeMap[e]},_getElement:function(e){var n=this.baseId+e._elementId;return t("#"+n)},_renderHeader:function(t,e,n,i,s){t.markup("<h3").optionalAttr("class",null!==i?"is-draggable":null).optionalAttr("aria-grabbed",null!==i?""+i:null).markup("><span").attr("class",this.options.iconType+" "+e).markup("></span><span").attr("class","a-GridLayout-label").markup(">"),s&&t.markup("<span class='a-Icon ").attr(s).markup("'></span>"),t.content(n).markup("</span></h3>")},_renderRegion:function(t,e,n,i){var s,o=a;e.isConditional&&(o+=" "+c),o=F(o,e,this.options.stateClassMap),s=E(e,this.options.stateIconMap),t.markup("<div").attr("class",o).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!(!i&&!e.isReadOnly)&&null,s),this._renderDisplayPoints(t,e.displayPoints,n,e.itemsAboveContent),t.markup("</div>")},_renderItem:function(t,e){var n,i=r;e.isConditional&&(i+=" "+c),i=F(i,e,this.options.stateClassMap),n=E(e,this.options.stateIconMap),t.markup("<div").attr("class",i).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!!e.isReadOnly&&null,n),t.markup("</div>")},_renderButton:function(t,e){var n,i=l;e.isConditional&&(i+=" "+c),i=F(i,e,this.options.stateClassMap),n=E(e,this.options.stateIconMap),t.markup("<div").attr("class",i).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,!!e.isReadOnly&&null,n),t.markup("</div>")},_renderComponentsInGrid:function(t,e,n,i){var s,o,r,a,l,h,p,d,c,u,f=this.pageRoot.gridType;function m(){for(t.markup("<thead><tr>"),s=0;s<e.maxColumns;s++)t.markup("<td></td>");t.markup("</tr></thead>")}if(i.length>0)for(o=0;o<i.length;o++){for(d=i[o],t.markup("<table role='presentation'").attr("class",g+" "+n+(0===o?" first":"")).markup(">"),"fixed"===f&&m(),t.markup("<tbody>"),r=0;r<d.rows.length;r++){for(c=d.rows[r],t.markup("<tr>"),p=1,a=0;a<c.columns.length;a++){for((u=c.columns[a]).col>p&&(t.markup("<td").attr("colspan",u.col-p).markup("><div").attr("class",v+" "+n).markup("></div></td>"),p=u.col),p+=u.span>0?u.span:1,t.markup("<td").optionalAttr("colspan",u.span).optionalAttr("rowspan",u.rowSpan).markup("><div").attr("class",v+" "+n).markup(">"),l=0;l<u.components.length;l++)h=u.components[l],this._renderComponent(t,h,!0);t.markup("</div></td>")}t.markup("</tr>")}t.markup("</tbody></table>")}else t.markup("<table role='presentation'").attr("class",g+" first "+n).markup(">"),"fixed"===f&&m(),t.markup("<tbody><tr><td><div").attr("class",v+" "+n).markup("></div></td></tr></tbody></table>")},_renderComponent:function(t,e,n){if("region"===e.type)this._renderRegion(t,e,n);else if("item"===e.type)this._renderItem(t,e);else{if("button"!==e.type)throw"Unknown component type";this._renderButton(t,e)}},_renderComponents:function(t,e,n,i){var s,o;if(t.markup("<div").attr("class",e).markup(">"),n&&n.length>0)for(s=0;s<n.length;s++)o=n[s],i&&o.alignment!==i||this._renderComponent(t,o,!1);t.markup("</div>")},_renderDisplayPoints:function(t,e,n,s){var o,r,a,l,h,p=this,d=null,c=!1,u=!1,f=!1;function m(){var e;h=i.getMessage("GL.REGION_CONTENT"),t.markup("<div").attr("class","a-GridLayout-regionContent").markup("><h3>").content(h).markup("</h3>"),d&&(e=d.types[0],t.markup("<div").attr("class",k[e][0]).attr("id",p._addNode(d)).markup(">"),t.markup("<h3>").content(d.title).markup("</h3>"),p._renderComponents(t,_+" "+k[e][1],d.components),t.markup("</div>")),t.markup("</div>")}for(o=0;o<e.length;o++){if((r=e[o]).hasOwnProperty("span")||r.hasOwnProperty("newColumn")?(f&&!1!==r.newColumn&&(t.markup("</td>"),f=!1),u?!0===r.newGrid&&t.markup("</tr></tbody></table><table role='presentation'").attr("class","a-GridLayout-templateGrid").markup("><tbody><tr>"):(t.markup("<table role='presentation'").attr("class","a-GridLayout-templateGrid").markup("><tbody><tr>"),u=!0,r.newColumn=!0),!0===r.newRow&&t.markup("</tr><tr>"),!1!==r.newColumn&&(t.markup("<td colspan='"+r.span+"'>"),f=!0)):u&&(t.markup("</tr></tbody></table>"),u=!1),r.types.length>1||H(r,"regionContainer")||H(r,"itemContainer"))c&&(t.markup("</div>"),c=!1);else if("buttonContainer"===r.types[0]){if("RIGHT_OF_IR_SEARCH_BAR"===r.id){d=r;continue}c?r.hasAlignment&&(t.markup("</div>"),c=!1):r.hasAlignment||(t.markup("<div").attr("class","a-GridLayout-buttonGroup").markup(">"),c=!0)}if(H(r,"itemContainer")&&"BODY"===r.id&&!s&&m(),a=M(r.types,0),r.isLegacy&&(a+=" a-GridLayout--legacy"),l=M(r.types,1),t.markup("<div").attr("class",a).attr("id",this._addNode(r)).markup(">"),t.markup("<h3>").content(r.title).markup("</h3>"),r.types.length>1||H(r,"regionContainer")||H(r,"itemContainer"))r.isGrid&&n?this._renderComponentsInGrid(t,r,l,r._grids):this._renderComponents(t,v+" "+l,r.components);else{if("buttonContainer"!==r.types[0])throw"Unknown display point type: "+r.types[0];r.hasAlignment?(t.markup("<table role='presentation'").attr("class","a-GridLayout-buttonRow").markup("><tbody><tr><td>"),this._renderComponents(t,_+" "+l,r.components,"left"),t.markup("</td><td>"),this._renderComponents(t,_+" "+l,r.components,"right"),t.markup("</td></tr></tbody></table>")):this._renderComponents(t,_+" "+l,r.components)}t.markup("</div>"),H(r,"itemContainer")&&"BODY"===r.id&&s&&m()}c&&t.markup("</div>"),u&&t.markup("</tr></tbody></table>")},_renderPage:function(t,e){var n,i="a-GridLayout-page";e.isConditional&&(i+=" "+c),i=F(i,e,this.options.stateClassMap),n=E(e,this.options.stateIconMap),t.markup("<div").attr("class",i).attr("id",this._addNode(e)).markup(" tabindex='-1'>"),this._renderHeader(t,this.options.getIconForComponent(e),e.title,null,n),this._renderDisplayPoints(t,e.displayPoints,!0),t.markup("</div>")},_setFocusable:function(t){this.lastFocused&&this.lastFocused!==t&&(this.lastFocused.tabIndex=-1),t.tabIndex=0,this.lastFocused=t},_select:function(e,n,i,s,o){var r,a,l,h,p,d,c="set",u=this;e=e.filter(":visible"),n&&this.options.multiple&&("mousedown"===n.type?n.ctrlKey||n.metaKey?c="toggle":n.shiftKey&&(c="add"):"keydown"===n.type&&(n.keyCode===t.ui.keyCode.SPACE?c="toggle":n.ctrlKey?c="none":n.shiftKey&&(c="add"))),r=this.element.find(".is-selected"),"set"===c&&r.removeClass("is-selected").removeAttr("aria-selected"),a=e.hasClass("is-selected"),"set"===c||"add"===c||"toggle"===c&&!a?e.addClass("is-selected").attr("aria-selected",!0):"toggle"===c&&a&&e.removeClass("is-selected").removeAttr("aria-selected"),e.length>0&&(i?(e[0].tabIndex=0,e[0].focus()):this._setFocusable(e[0]),(p=(h=this.element.scrollParent())[0]===document?{left:0,top:0}:h.offset())&&(d=this.element.offset(),((l=e.first().offset()).top<p.top||l.top>p.top+h[0].offsetHeight)&&(h[0].scrollTop=l.top-d.top),(l.left+e[0].offsetWidth<p.left||l.left>p.left+h[0].offsetWidth)&&(h[0].scrollLeft=l.left-d.left))),o||("toggle"===c||"add"===c&&!a||"set"===c&&(r[0]!==e[0]||r.length!==e.length))&&(u.triggerTimerId&&(clearTimeout(u.triggerTimerId),u.triggerTimerId=null),u.triggerTimerId=setTimeout((function(){u.triggerTimerId=null,u._trigger("selectionChange",n)}),s?350:1))},_traverseRight:function(e){var n,i,s=null;if(this.lastFocused)if((n=t(this.lastFocused)).parent().hasClass(_))this._traverseDown(e);else{for(i=n.closest("td");i.length;){if((n=i.next().find(C).first()).length){s=n;break}i=i.parent().closest("td")}s&&s.length>0&&this._select(s.eq(0),e,!0,!0)}},_traverseLeft:function(e){var n,i,s=null;if(this.lastFocused)if((n=t(this.lastFocused)).parent().hasClass(_))this._traverseUp(e);else{for(i=n.closest("td");i.length;){if((n=i.prev().find(C).first()).length){s=n;break}i=i.parent().closest("td")}s&&s.length>0&&this._select(s.eq(0),e,!0,!0)}},_traverseDown:function(e){var n,i,s,o,r,a,l;if(this.lastFocused){if(s=t(this.lastFocused),e.which!==t.ui.keyCode.RIGHT&&(0===(l=s.closest(p)).length&&(l=s.closest("."+h)),l.length>0&&(s=l.find(C).last())),(o=s.find(C).filter(":visible").first()).length>0)s=o;else if((o=s.nextAll(":visible").first()).length>0)s=o;else if(s.closest(d).length>0&&(o=s.closest("td").next().find(C).filter(":visible").first()),o.length>0)s=o;else for(;s.length>0;){if((o=s.nextAll(C).filter(":visible").first()).length>0){s=o;break}if((o=s.nextAll(":visible").find(C).filter(":visible").first()).length>0){s=o;break}if((r=s.parent().parent().parent("tr").first().next().first()).length>0&&(a=r.prev()[0],n=O(s.parents("td").filter((function(){return this.parentNode===a}))),i=0,r.children().each((function(){if((i+=this.colSpan||1)>n)return o=t(this).find(C).first(),!1})),0===o.length&&(o=r.children().last().find(C).first())),o.length>0){s=o;break}s=s.parent().closest(C+","+b+","+p)}s&&s.length>0&&this._select(s,e,!0,!0)}},_traverseUp:function(e,n){var i,s,o,r,a,l,c;if(this.lastFocused&&(o=t(this.lastFocused),e.which!==t.ui.keyCode.LEFT&&(0===(c=o.closest(p)).length&&(c=o.closest("."+h)),c.length>0&&(o=c.find(C).first())),(r=o.prevAll(":visible").first()).length>0?0===(o=r.find(C).filter(":visible").last()).length&&(o=r):((a=o.closest("tr").prev()).length>0&&(i=O(o.closest("td")),s=0,a.children().each((function(){if((s+=this.colSpan||1)>i)return r=t(this).find(C).filter(":visible").last(),!1})),0===r.length&&(r=a.children().last().find(C).filter(":visible").last())),r.length>0?o=r:(o.closest(d).length>0&&(r=o.closest("td").prev().find(C).filter(":visible").last()),0===r.length&&(l=c&&c.length>0?c:o.parent().closest(b),0===(r=l.prevAll(":visible").find(C).filter(":visible").last()).length&&l.parent().is(p)&&(l=l.parent(),r=l.prevAll(":visible").find(C).filter(":visible").last())),o=0===r.length?o.parent().closest(w):r)),o&&o.length>0)){if(n)return o[0];this._select(o,e,!0,!0)}},_setZoom:function(){var t,e,n=1*this.options.zoom;for(t=0;t<L.length;t++)if(n<=L[t]){n=L[t];break}t>=L.length&&(n=L[L.length-1]),e=o+"--z"+n,this.element.removeClass(this.lastZoom).addClass(e),this.lastZoom=e},_mouseCapture:function(e,n){var i,s=null;return!this.animating&&!this.options.disabled&&("H3"===e.target.nodeName?i=t(e.target):"H3"===e.target.parentNode.nodeName&&(i=t(e.target.parentNode)),i&&i.length&&(s=i.parent(w)),s&&s.length&&!n&&this._select(s,e,!0,!1),i&&i.length&&(s=i.parent(C)),!(!(i&&i.is(".is-draggable")&&s&&1===s.length)||s.parent().hasClass(o))&&(this.dragComponent=s,this._initDragTargets(this.dragComponent),!0))},_mouseStart:function(e,n,i){var s,o,r,a=this.options,l=this;return i||(t("body").on("keydown.glv",(function(e){e.keyCode!==t.ui.keyCode.ESCAPE?l._dragCopyOrMove(e.ctrlKey):l._cancel(e)})),t("body").on("keyup.glv",(function(t){l._dragCopyOrMove(t.ctrlKey)}))),this.helper||(this.helper=this._createHelper()),this.margins={left:parseInt(this.dragComponent.css("marginLeft"),10)||0,top:parseInt(this.dragComponent.css("marginTop"),10)||0},this.scrollParent=this.helper.scrollParent(),this.offset=this.dragComponent.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:n.pageX-this.offset.left,top:n.pageY-this.offset.top},parent:this._getParentOffset()}),this.helper.css("position","absolute"),this._cacheHelperProportions(),this.originalPosition=this._generatePosition(n),a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.dragging=!0,o=this.dragComponent.children("h3").outerHeight(),this.dragComponent.hide(),this._createPlaceholder(o),r=this.placeholder.offset().top,this._initTargetContainers(),(r=this.placeholder.offset().top-r)>0&&(this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop+r),this._refreshPositions(),a.containment&&this._setContainment(),i||a.cursor&&"auto"!==a.cursor&&(s=t("body"),this.storedCursor=s.css("cursor"),s.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(s)),a.opacity&&this.helper.css("opacity",a.opacity),a.zIndex&&this.helper.css("zIndex",a.zIndex),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",n,this._uiHashDnD()),this._mouseDrag(n),!0},_mouseDrag:function(e){var n,i,s,o,r,a,l,h,p,d,c,u,f=0,m=0,g=this.options,y=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._adjustPositionForScroll(),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop+g.scrollSpeed:e.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=this.scrollParent[0].scrollTop-g.scrollSpeed),m=this.scrollParent[0].scrollTop-this.dropPositionsOrigin.y,this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=this.scrollParent[0].scrollLeft+g.scrollSpeed:e.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=this.scrollParent[0].scrollLeft-g.scrollSpeed),f=this.scrollParent[0].scrollLeft-this.dropPositionsOrigin.x):(e.pageY-t(document).scrollTop()<g.scrollSensitivity?t(document).scrollTop(t(document).scrollTop()-g.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<g.scrollSensitivity&&t(document).scrollTop(t(document).scrollTop()+g.scrollSpeed),m=t(document).scrollTop()-this.dropPositionsOrigin.y,e.pageX-t(document).scrollLeft()<g.scrollSensitivity?t(document).scrollLeft(t(document).scrollLeft()-g.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<g.scrollSensitivity&&t(document).scrollLeft(t(document).scrollLeft()+g.scrollSpeed),f=t(document).scrollLeft()-this.dropPositionsOrigin.x)),this.positionAbs=this._adjustPositionForScroll(),this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",this._dragCopyOrMove(e.ctrlKey),n=0;n<this.containers.length;n++)if(s=this.containers[n],a=this._intersectsWithPointer(s,null,f,m)){if("grid"===(u=s.type))for(c=this.positionAbs.top+this.offset.click.top+m,d=this.positionAbs.left+this.offset.click.left+f,l=0;l<s.rows.length;l++){if(x(c,(h=s.rows[l]).y-g.gridTolerance,2*g.gridTolerance)){y=this._movePlaceholder(s,null,"row",l);break}if(l<s.rows.length-1&&x(c,h.y,s.rows[l+1].y-h.y))for(p=0;p<h.columns.length;p++)if(x(d,h.columns[p]-g.gridTolerance,2*g.gridTolerance)){y=this._movePlaceholder(s,null,"column",l,p);break}}if(y)break;if(s.items)for(i=0;i<s.items.length;i++)if(o=s.items[i],a=this._intersectsWithPointer(o,u,f,m)){(r=o.element[0])!==this.dragComponent[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&("pointer"===this.options.tolerance||this._intersectsWithSides(o,u))&&(y=this._movePlaceholder(s,o,1===a?"before":"after"));break}if(y)break;if("grid"!==s.type&&(y=this._movePlaceholder(s)),y)break;s!==this.curContainer&&(this.curContainer=s);break}return this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(n||t("body").off(".glv"),this._deactivate(),this.storedCursor&&(t("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),!e.target)return this.fromOutside=!1,void(this.dragging=!1);if(this.options.animate){var i=this,s=this.placeholder.offset(),o={};o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft),o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop),this.animating=!0,t(this.helper).animate(o,parseInt(this.options.animate,10)||500,(function(){i._finishDrag(e)}))}else this._finishDrag(e);return!1},_initDragTargets:function(t){t.hasClass(r)?(this.targetClass=u,this.itemClass=r):t.hasClass(a)?(this.targetClass=f,this.itemClass=a):t.hasClass(l)&&(this.targetClass=m,this.itemClass=l)},_dragCopyOrMove:function(t){this.isOver||this.prevCopy===t||(t?(this.dragComponent.show(),this.helper.find(".a-GridLayout-dragAction").text(i.getMessage("GL.DRAG_COPY"))):(this.dragComponent.hide(),this.helper.find(".a-GridLayout-dragAction").text("")),this.prevCopy=t)},_cancel:function(e){this.dragging&&(this._mouseUp(t.Event("mouseup",{target:null})),this.dragComponent.show(),this._select(this.dragComponent,null,!0)),this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper&&this.helper[0].parentNode&&this.helper.remove(),this.helper=null,this.dragging=!1,this.animating=!1),this._trigger("stop",e,this._uiHashDnD())},_intersectsWith:function(t){var e=this.positionAbs.left,n=this.positionAbs.top,i=t.left,s=i+t.width,o=t.top,r=o+t.height,a=this.offset.click.top,l=this.offset.click.left,h="x"===this.options.axis||n+a>o&&n+a<r,p="y"===this.options.axis||e+l>i&&e+l<s;return h&&p},_intersectsWithPointer:function(t,e,n,i){var s=x(this.positionAbs.top+this.offset.click.top+i,t.top,t.height),o=x(this.positionAbs.left+this.offset.click.left+n,t.left,t.width),r=s&&o,a=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();return!!r&&("flow"===e&&l?"right"===l||"down"===a?2:1:a&&"down"===a?2:1)},_intersectsWithSides:function(t,e){var n=x(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=x(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return"flow"===e&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&n||"up"===s&&!n)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},_initTargetContainers:function(){var e,n=this,i="."+this.targetClass,s=t(i,this.element),o=null;this.helper&&(s=s.not(this.helper.find(i))),this.dragComponent&&(s=s.not(this.dragComponent.find(i)),o=this.dragComponent.closest(i)[0]),s.addClass("is-active"),this.containers=[],this.curContainer=null,s.each((function(){var i,s,r;(s=t(this)).hasClass(g)?i="grid":s.hasClass(v)?i="stack":s.hasClass(_)&&(i="flow"),e={element:s,type:i,name:t(this).prev().text(),width:0,height:0,left:0,top:0},n.containers.unshift(e),this===o&&(n.curContainer=e),"grid"===i?e.rows=[]:(e.items=[],r=W(s),s.children(r).each((function(){e.items.push({element:t(this),name:t(this).children("h3").text(),width:0,height:0,left:0,top:0})})))}))},_deactivate:function(){t("."+this.targetClass).removeClass("is-active")},_refreshPositions:function(){var e,n,i,s,o,r,a,l,h,p;function d(){h=t(this),o=h.offset(),a.columns.push(o.left)}function c(){l=t(this),o=l.offset(),a={y:o.top,columns:[]},i.rows.push(a),l.children("td").each(d),a.columns.push(o.left+h.outerWidth())}for(l=t(),e=0;e<this.containers.length;e++)if(s=(i=this.containers[e]).element,i.width=s.outerWidth(),i.height=s.outerHeight(),o=s.offset(),i.left=o.left,i.top=o.top,"grid"===i.type)i.rows=[],s.children("tbody").children("tr").each(c),i.rows.push({y:o.top+l.outerHeight()});else for(n=0;n<i.items.length;n++)s=(r=i.items[n]).element,r.width=s.outerWidth(),r.height=s.outerHeight(),o=s.offset(),r.left=o.left,r.top=o.top;this.dropPositionsOrigin={x:0,y:0},(p=this.element.scrollParent())[0]===document?p=this.element:this.dropPositionsOrigin={x:p[0].scrollLeft,y:p[0].scrollTop},o=p.offset(),this.containerCache.left=o.left,this.containerCache.top=o.top,this.containerCache.width=p.outerWidth(),this.containerCache.height=p.outerHeight()},_createPlaceholder:function(e){this.placeholder=t("<div class='a-GridLayout-placeholder'>&nbsp;</div>"),this.dragComponent.after(this.placeholder),e&&this.placeholder.height(e)},_createHelper:function(){var e=this.options,n=this.makeHelper();return n.parents("body").length||t("parent"!==e.appendTo?e.appendTo:this.element[0].parentNode)[0].appendChild(n[0]),n[0].style.width,n[0].style.height,n},_adjustOffsetFromHelper:function(t){"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var e;return this.offsetParent=this.helper.offsetParent(),e=this.offsetParent[0]===document||this.offsetParent[0]===document.firstElementChild?{left:0,top:0}:this.offsetParent.offset(),this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.parent.left,0-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],n=t(s.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_generatePosition:function(e){var n=e.pageX,i=e.pageY,s=this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return this.originalPosition&&this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(i=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(i=this.containment[3]+this.offset.click.top)),{top:i-this.offset.click.top-this.offset.parent.top-(o?0:s.scrollTop()),left:n-this.offset.click.left-this.offset.parent.left-(o?0:s.scrollLeft())}},_adjustPositionForScroll:function(){var e=this.position,n=this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(n[0].tagName);return{top:e.top+this.offset.parent.top-(i?0:n.scrollTop()),left:e.left+this.offset.parent.left-(i?0:n.scrollLeft())}},_makeTempDragComponent:function(){var n,i,s=e.htmlBuilder();return s.markup("<div").attr("class",this.itemClass).markup("><h3 class='is-draggable'><span>&nbsp;</span></h3></div>"),n=t(s.toString()),!!(i=this.element.find("."+this.targetClass).not(y).filter(":visible").first()).length&&(i.append(n),this.dragComponent=n,!0)},_movePlaceholder:function(e,n,i,s,o){var r,a,l,h,p,d,c=null,u=null,f=!1;if(n)(r=n.element[0]).parentNode.insertBefore(this.placeholder[0],"before"===i?r:r.nextSibling),f=!0;else if(p=W(e.element),d=q(e.element),"grid"===e.type){if(a=e.element.children("tbody").children("tr"),"row"===i){if(s>=a.length?h=a.last().find(p).filter(":visible").length:(h=a.eq(s).find(p).filter(":visible").length)>0&&s>0&&(h=a.eq(s-1).find(p).filter(":visible").length),0===h)return!1;c=t("<tr><td><div class='"+v+" "+d+"'></div></td></tr>"),s>=a.length?a.last().after(c):a.eq(s).before(c),c.find("div").append(this.placeholder[0]),this.containers.unshift({element:c.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),f=!0}else if("column"===i){if(o>=(l=a.eq(s).children("td")).length?h=l.last().find(p).filter(":visible").length:(h=l.eq(o).find(p).filter(":visible").length)>0&&o>0&&(h=l.eq(o-1).find(p).filter(":visible").length),0===h)return!1;u=t("<td><div class='"+v+" "+d+"'></div></td>"),o>=l.length?l.last().after(u):l.eq(o).before(u),u.find("div").append(this.placeholder[0]),this.containers.unshift({element:u.find("div"),type:"stack",name:"temp",items:[],width:0,height:0,left:0,top:0}),f=!0}}else(!e.items||0===e.items.length||1===e.items.length&&e.items[0].element[0]===this.dragComponent[0])&&(e.element.append(this.placeholder[0]),f=!0);return e!==this.curContainer&&(this.curContainer=e),f&&(this.tempGridRow&&0===this.placeholder.closest(this.tempGridRow).length&&(this.tempGridRow.remove(),this.tempGridRow=null),c&&(this.tempGridRow=c),this.tempGridColumn&&0===this.placeholder.closest(this.tempGridColumn).length&&(this.tempGridColumn.remove(),this.tempGridColumn=null),u&&(this.tempGridColumn=u)),f&&this._refreshPositions(),f},_copyComponent:function(t,e){var n,i,s,o,r={};for(s in t)if(o=t[s],"displayPoints"===s)for(i=r.displayPoints=[],n=0;n<t.displayPoints.length;n++)i.push(this._copyComponent(t.displayPoints[n],r));else if("components"===s)for(i=r.components=[],n=0;n<t.components.length;n++)i.push(this._copyComponent(t.components[n],r));else"_parent"===s?r._parent=e:"_"!==s.substring(0,1)&&(r[s]=o);return this.options.updateComponentCopy(r,t),r},_insert:function(t,e,n,i,s,o,r){var a,l,h,p,d,c,u=this.pageRoot,f=t.component,m=t.newParentContainer;if("button"===f.type&&(T(t,f,"alignment",r),r&&(t.newAlignment=r)),e){for(-1===o||0===m._grids.length?(a={_parent:m,rows:[]},m._grids.splice(n,0,a),T(t,f,"newGrid",!0),t.newGridInserted=!0,o=-2):(T(t,f,"newGrid",!1),a=m._grids[n]),-2===o||i>=a.rows.length?(l={_parentGrid:a,columns:[]},a.rows.splice(i,0,l),t.newRowInserted=!0,o=-3,T(t,f,"newRow",!0)):(T(t,f,"newRow",!1),l=a.rows[i]),-3===o?(h={_parentRow:l,span:-1,col:-1,components:[]},l.columns.splice(s,0,h),t.newColumnInserted=!0,o=0,T(t,f,"newCol",!0),0!==s||t.newRowInserted||T(t,f,"newRow",!0)):(d=(h=l.columns[s]).components[o],0===o?(T(t,f,"newCol",!0),d&&(T(t,f,"newRow",d.newRow),T(t,f,"newGrid",d.newGrid),T(t,f,"col",d.col),T(t,f,"span",d.span),void 0!==d.rowSpan&&T(t,f,"rowSpan",d.rowSpan),T(t,d,"newCol",!1),T(t,d,"newRow",!1),T(t,d,"newGrid",!1),T(t,d,"col",-1),T(t,d,"span",-1),void 0!==d.rowSpan&&T(t,d,"rowSpan",-1))):T(t,f,"newCol",!1)),(void 0===f.col||f.col>=0&&(0!==o||!d)&&!f.forceColumn)&&T(t,f,"col",-1),delete f.forceColumn,void 0===f.span&&T(t,f,"span",-1),f._parentColumn=h,t.newGrid=n,t.newRow=i,t.newColumn=s,t.newIndex=o,!d&&s+1<l.columns.length&&(d=l.columns[s+1].components[0],t.newColumnInserted&&0===s&&T(t,d,"newRow",!1)),!d&&i+1<a.rows.length&&(d=a.rows[i+1].columns[0].components[0]),!d&&n+1<m._grids.length&&(d=m._grids[n+1].rows[0].columns[0].components[0]),c=d?S(m.components,d):m.components.length,t.newComponentIndex=c,h.components.splice(o,0,f),m.components.splice(c,0,f),d&&d._parentColumn!==f._parentColumn&&0===s&&f.newCol&&T(t,d,"newCol",!0),p=0;p<l.columns.length;p++)(h=l.columns[p]).col=h.components[0].col,h.span=h.components[0].span||-1;"fixed"===u.gridType&&u.hasColumnSpan&&A(l,m.maxColumns)}else t.newIndex=o,m.components.splice(o,0,f);return f._parent=m,o},_getTableColumnFromColumn:function(t,e,n,i){var s,o,r=1,a=0,l=t._grids[e].rows[n].columns;for(s=0;s<=i&&s<l.length;s++)(o=l[s]).col>r&&(a+=1,r=o.col),r+=o.span>0?o.span:1,a+=1;return a-1},_insertInDom:function(e,n,i,s,o,r,a,h,p){var c,u,f,m,g,_,w,b,k,G,L,x=this.pageRoot;m=e.hasClass(l)&&n.children(d).length?n.find(d).find("td").eq("left"===p?0:1).children(P):n.children(P),this.placeholder?this.placeholder.before(e):m.is(y)?(k=q(n),(G=a)<0&&(G=0),-1===a&&i._grids.length>1?(g=t("<table role='presentation'><tbody></tbody></table>"),D(m.parent(),"table",g,s),a=-2,G=0):g=m.parent().children("table").eq(s),-2===a&&0===s&&i._grids[s].rows.length>1?(u="<td><div class='"+v+" "+k+"'></div></td>",i._grids[s].rows[o].columns[0].col>=0&&(u+=u),_=t("<tr>"+u+"</tr>"),D(g.children("tbody"),_,o),G=0):_=g.children("tbody").children("tr").eq(o),L=this._getTableColumnFromColumn(i,s,o,r),-3===a?(i._grids[s].rows[o].columns[r].col>=0&&D(_,w=t("<td><div class='"+v+" "+k+"'></div></td>"),L-1),D(_,w=t("<td><div class='"+v+" "+k+"'></div></td>"),L),G=0):w=_.children().eq(L),D(w.children().eq(0),e,G)):D(m,e,a),"fixed"===x.gridType&&x.hasColumnSpan&&m.is(y)&&(_=(g=m.parent().children("table").eq(s)).children("tbody").children("tr").eq(o),b=i._grids[s].rows[o].columns,c=0,f=1,_.children("td").each((function(){b[c].col>f&&(this.colSpan=b[c].col-f,f=b[c].col),f+=b[c].span>0?b[c].span:1,t(this).find(C).length>0&&(this.colSpan=b[c].span,c+=1)}))),h&&this._showOrHideDisplayPoints(e)},_add:function(n,i,s,o,r,a,l,h){var p,d,c=!1,u=e.htmlBuilder(),f={container$:i,propertyChanges:[]};return f.newParentContainer=p=this._getNode(i[0]),d=t.isArray(p._grids),n.displayPoints&&(12,this._layoutDisplayPoints(n.displayPoints,n,d,12)),h?(this._setNode(n),h[0].id=this.baseId+n._elementId):(this._renderComponent(u,n,d),h=t(u.toString()),c=!0),f.newComponent$=h,f.component=n,this._insert(f,d,s,o,r,a,l),this._insertInDom(f.newComponent$,i,p,s,o,r,a,c,l),f},_remove:function(e,n,i){var s,o,r,a,l,h,p,d,c,u,f,m,g,v,_,w=this.pageRoot,P=this,k=!!i;if(n=n||{propertyChanges:[]},r=this._getNode(e[0]),i=i||e.parent(),k?e.hide():(n.component$=e,n.component=r,n.prevContainer$=e.closest(b),delete this.nodeMap[R(e[0].id)],e.find(C).each((function(){delete P.nodeMap[R(this.id)]})),e.remove()),_="TD"===i[0].parentNode.nodeName&&i.closest("table").is(y),n.prevParentContainer=u=r._parent,n.prevComponentIndex=m=S(u.components,r),n.prevIndex=n.prevComponentIndex,"button"===r.type&&r.alignment&&(n.prevAlignment=r.alignment),_&&0===i.children(":visible").length&&((o=i.parent().parent()).parent().children("tr").length>1&&0===o.find(C).filter(":visible").length?o.remove():o.children("td").length>1&&(c=i.parent().prev().eq(0),i.parent().remove(),0===c.find(C).filter(":visible").length&&c.remove())),_){if(f=S((a=r._parentColumn).components,r),0,g=S(a._parentRow._parentGrid.rows,a._parentRow),v=S(a._parentRow.columns,a),n.prevGrid=0,n.prevRow=g,n.prevColumn=v,n.prevIndex=f,0===f&&a.components.length>1&&(T(n,p=a.components[1],"newGrid",r.newGrid),T(n,p,"newRow",r.newRow),T(n,p,"newCol",r.newCol),T(n,p,"col",r.col),T(n,p,"span",r.span),r.rowSpan&&T(n,p,"rowSpan",r.rowSpan)),(a=(l=(h=u._grids[0]).rows[g]).columns[v]).components.splice(f,1),0===a.components.length&&(l.columns.splice(v,1),0===v&&l.columns.length>0&&T(n,p=l.columns[v].components[0],"newRow",!0),n.prevColumnRemoved=!0,l.columns.length>0)){if("fixed"===w.gridType&&w.hasColumnSpan){for(s=0;s<l.columns.length;s++)(a=l.columns[s]).col=a.components[0].col,a.span=a.components[0].span||-1;A(l,u.maxColumns)}d=l.columns,s=0,o.children("td").each((function(){t(this).find(C).length>0&&(d[s].span>0&&(this.colSpan=d[s].span),s+=1)}))}0===l.columns.length&&(h.rows.splice(g,1),n.prevRowRemoved=!0),0===h.rows.length&&(u._grids.splice(0,1),n.prevGridRemoved=!0)}return k&&e.show(),u.components.splice(m,1),delete r._parent,n},_moveOrCopy:function(n,i,s,o,r,a,l,h){var p,d,c,u,f,m=!1,g=!1,y=e.htmlBuilder(),v={container$:i,propertyChanges:[]};return p=this._getNode(n[0]),v.newParentContainer=u=this._getNode(i[0]),c=t.isArray(u._grids),v.prevContainer$=n.closest(b),h?(v.originalComponent=p,f=12,(p=this._copyComponent(p)).displayPoints&&this._layoutDisplayPoints(p.displayPoints,p,c,f),this._renderComponent(y,p,c),v.newComponent$=t(y.toString()),m=!0):(g="TD"===(d=n.parent())[0].parentNode.nodeName,v.newComponent$=n,p.displayPoints&&c!==g&&(f=12,this._layoutDisplayPoints(p.displayPoints,p,c,f),this._renderComponent(y,p,c),v.newComponent$=t(y.toString()),m=!0,n.remove(),delete this.nodeMap[R(n[0].id)])),v.component=p,h||(this._remove(v.newComponent$,v,d),g&&v.prevParentContainer===v.newParentContainer&&(v.prevColumnRemoved&&v.prevColumn<r&&o===v.prevRow&&(r-=1),v.prevRowRemoved&&v.prevRow<o&&s===v.prevGrid&&(o-=1),v.prevGridRemoved&&v.prevGrid<s&&(s-=1))),this._insert(v,c,s,o,r,a,l),this._insertInDom(v.newComponent$,i,u,s,o,r,a,m,l),v},_finishDrag:function(e){var n,i,s,o,r,a,l,h,p,d,c,u,f,m=e.ctrlKey,g=[];for(this.animating=!1,(this.dragComponent.next()[0]!==this.placeholder[0]||m||this.fromOutside)&&(h=this.placeholder.closest(b),d=I(this.placeholder),r=null,a=null,l=null,h.children("table.a-GridLayout-grid").length>0?(i=this.placeholder.closest("td"),l=0,i.parent().children("td").each((function(){if(this===i[0])return!1;t(this).children("."+v).children().length>0&&(l+=1)})),a=I(s=i.parent()),r=h.children("table").index(s.parent().parent()),0===d&&1===this.placeholder.parent().children(":visible").length&&(d=1===s.parent().children().length&&1===s.children().length?-1:1===s.children().length?-2:-3)):h.children("table.a-GridLayout-buttonRow").length>0&&(f=0===I(i=this.placeholder.closest("td"))?"left":"right"),this.fromOutside?(u=this.helper.attr("data-type-id"),o=this.options.makeComponent(u),this.dragComponent.remove(),c=this._add(o,h,r,a,l,d,f),g.push((function(t){this._trigger("added",t,c)}))):(c=this._moveOrCopy(this.dragComponent,h,r,a,l,d,f,m),g.push((function(t){this._trigger(m?"copied":"moved",t,c)})))),c&&(p=c.newComponent$),this.fromOutside&&g.push((function(t){this._trigger("deactivate",t,this._uiHashDnD(this))})),this.dragComponent.show(),this.dragging=!1,this.tempGridRow=null,this.tempGridColumn=null,this._trigger("beforeStop",e,this._uiHashDnD()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.placeholder=null,this.helper.remove(),this.helper=null,n=0;n<g.length;n++)g[n].call(this,e);return this._trigger("stop",e,this._uiHashDnD()),c&&this._select(p,e,!0),this.fromOutside=!1,!0},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHashDnD:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.dragComponent,sender:e?e.element:null}}}),t.apex.gridlayout.INDEX={NEW_GRID:-1,NEW_ROW:-2,NEW_COLUMN:-3},t.ui.plugin.add("draggable","connectToGridlayout",{start:function(e,n){var i=t(this).data("ui-draggable"),s=i.options,o=t.extend({},n,{item:i.element});t("body").on("keydown.glvplug",(function(e){e.keyCode===t.ui.keyCode.ESCAPE&&(i.dropped=!1,i.cancel())})),i.grids=[],t(s.connectToGridlayout).each((function(){var s=t.data(this,"apex-gridlayout");s&&!s.options.disabled&&(i.grids.push({instance:s}),s._initDragTargets(n.helper),s._initTargetContainers(),s._refreshPositions(),s._trigger("activate",e,o))}))},stop:function(e,n){var i,s=t(this).data("ui-draggable");t("body").off(".glvplug"),t.each(s.grids,(function(){this.instance.isOver&&!this.invalid?(this.instance.isOver=!1,s.cancelHelperRemoval=!0,e.target?this.instance._mouseStop(e,!0):(this.instance._mouseStop(e,!0),this.instance.dragComponent.remove(),this.instance._cancel(e))):(this.instance._deactivate(),i=t.extend({},n,{item:s.element}),this.instance._trigger("deactivate",e,i))}))},drag:function(e,n){var i=t(this).data("ui-draggable");t.each(i.grids,(function(){var t=!1;if(!this.invalid)if(this.instance.positionAbs=i.positionAbs,this.instance.helperProportions=i.helperProportions,this.instance.offset.click=i.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(t=!0),t){if(!this.instance.isOver){if(this.instance.isOver=!0,!this.instance._makeTempDragComponent())return this.instance.isOver=!1,void(this.invalid=!0);if(this.instance.helper=n.helper,this.instance.helper.css("position","relative"),e.target=this.instance.dragComponent.children("h3")[0],!this.instance._mouseCapture(e,!0))return this.instance.isOver=!1,void(this.invalid=!0);this.instance._trigger("over",e,this.instance._uiHashDnD(this.instance)),this.instance._mouseStart(e,e,!0),this.instance.offset.click.top=i.offset.click.top,this.instance.offset.click.left=i.offset.click.left,this.instance.offset.parent.left-=i.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=i.offset.parent.top-this.instance.offset.parent.top,i.dropped=this.instance.element,i.currentItem=i.element,this.instance.fromOutside=i}this.instance.dragComponent&&this.instance._mouseDrag(e)}else this.instance.isOver&&(this.instance.isOver=!1,this.instance._trigger("out",e,this.instance._uiHashDnD(this.instance)),e.target=null,this.instance._mouseStop(e,!0),this.instance.dragComponent.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),i.dropped=!1)}))}})}(apex.jQuery,apex.util,apex.debug,apex.lang);
!function(e,n,t,o,a){"use strict";var i=a.CSS.IS_ERROR,r=a.CSS.IS_WARNING,l=".a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",s=".a-GridLayout-page, .a-GridLayout-pageItem, .a-GridLayout-region, .a-GridLayout-button",d="option",p=n.apex.gridlayout.INDEX,u={newGrid:e.PROP.GRID_NEW_GRID,newRow:e.PROP.GRID_NEW_ROW,col:e.PROP.GRID_COLUMN,newCol:e.PROP.GRID_NEW_COLUMN,span:e.PROP.GRID_COLUMN_SPAN,rowSpan:e.PROP.GRID_ROW_SPAN,alignment:e.PROP.ALIGNMENT};function g(e){var n,t,o,a,i;for(n=0;n<e.length;n++)o=e[n],t=u[o.property],(i=o.component._modelComponent.getProperty(t))&&(!0===o.newValue?a=i.getMetaData().yesValue:!1===o.newValue?a=i.getMetaData().noValue:"alignment"===o.property&&o.newValue?a=o.newValue.toUpperCase():"col"!==o.property&&"span"!==o.property&&"rowSpan"!==o.property||-1!==o.newValue?void 0!==o.newValue&&null!==o.newValue&&(a=""+o.newValue):a="",void 0!==a&&i.setValue(a))}function P(e){var n,t=null;return void 0===(n=e.newComponentIndex)&&(n=e.newIndex),n>0&&(t=e.newParentContainer.components[n-1]._modelComponent),t}function c(e){e.newParentContainer===e.prevParentContainer?e.newParentContainer=e.prevParentContainer=[e.newParentContainer._parent.id,e.newParentContainer.id]:(e.newParentContainer&&(e.newParentContainer=[e.newParentContainer._parent.id,e.newParentContainer.id]),e.prevParentContainer&&(e.prevParentContainer=[e.prevParentContainer._parent.id,e.prevParentContainer.id])),delete e.component$,delete e.newComponent$,delete e.container$,delete e.prevContainer$}function m(){var e=b.gridlayout(d);return{hideLegacyDisplayPoints:e.hideLegacyDisplayPoints,hideEmptyDisplayPoints:e.hideEmptyDisplayPoints,hideButtons:e.hideButtons,hideItems:e.hideItems,displayFrom:e.displayFrom,hideGlobalComponents:h}}function y(e){var t=b.gridlayout(d);t.displayFrom!==e.displayFrom&&b.gridlayout(d,"displayFrom",e.displayFrom),n.each(["displayFrom","hideLegacyDisplayPoints","hideEmptyDisplayPoints","hideButtons","hideItems"],(function(n,o){e[o]||t[o]===e[o]||b.gridlayout(d,o,e[o])})),e.hideGlobalComponents!==h&&(h=e.hideGlobalComponents,b.gridlayout("pageDataChanged"))}var O=!1,h=!0,I=null,R=!1,_=!1,E=!1,C=n.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(I=this,this.gl$.gridlayout("move",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=m()},updateDataLayer:function(n){var t,a,i,r,l=[];function s(e,n){l.push({id:e,value:n})}n&&(this.changes=n),n=this.changes,this._label=o.formatMessageNoEscape("PD.GLV.CMD.MOVE",this.changes.component.title),E=!0,this.transaction=e.transaction.start("glv"),i=n.component._modelComponent,n.newParentContainer!==n.prevParentContainer&&(a=(t=n.newParentContainer)._parent,"region"===n.component.type?"page"===a.type?(s(e.PROP.PARENT_REGION,""),s(e.PROP.REGION_POSITION,t.id)):s(e.PROP.PARENT_REGION,a.id):"item"===n.component.type?s(e.PROP.REGION,a.id):"button"===n.component.type&&(a!==n.prevParentContainer._parent?(s(e.PROP.REGION,a.id),s(e.PROP.BUTTON_POSITION,t.id)):t.id!==n.prevParentContainer.id&&s(e.PROP.BUTTON_POSITION,t.id))),r=P(n),i.move(r,l),g(n.propertyChanges),this.transaction.execute(),c(n)},undo:function(){var n,t=this.changes,o=t.prevGrid,a=t.prevRow,i=t.prevColumn,r=t.prevIndex;y(this.state),R=!0,t.prevGridRemoved?r=p.NEW_GRID:t.prevRowRemoved?r=p.NEW_ROW:t.prevColumnRemoved&&(r=p.NEW_COLUMN),t.newParentContainer===t.prevParentContainer&&(r>=0&&t.prevIndex>t.newIndex&&(r+=1),t.newGridInserted?t.newGrid<=t.prevGrid&&(o+=1):t.newRowInserted?t.newRow<=t.prevRow&&(a+=1):t.newColumnInserted&&t.newColumn<=t.prevColumn&&(i+=1)),E=!0,this.transaction.undo(),(n=b.gridlayout("findComponentById",t.component.id)).col=1*x(n._modelComponent,e.PROP.GRID_COLUMN,-1),n.col>=0&&(n.forceColumn=!0),this.gl$.gridlayout("move",{},t.component.id,t.prevParentContainer,o,a,i,r,t.prevAlignment)},redo:function(){var e=this.changes,n=e.newIndex;y(this.state),R=!0,e.newGridInserted?n=p.NEW_GRID:e.newRowInserted?n=p.NEW_ROW:e.newColumnInserted?n=p.NEW_COLUMN:e.newParentContainer===e.prevParentContainer&&e.newIndex>e.prevIndex&&(n+=1),E=!0,this.transaction.redo(),this.gl$.gridlayout("move",{},e.component.id,e.newParentContainer,e.newGrid,e.newRow,e.newColumn,n,e.newAlignment)},label:function(){return this._label}});function N(e,n,t,o,a,i,r,l,s){var d=Object.create(C);return d.changes=n,d.gl$=e,d.component$=t,d.container$=o,d.grid=a,d.row=i,d.column=r,d.index=l,d.alignment=s,d._label="move",d}var v=n.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(I=this,this.gl$.gridlayout("copy",{},this.component$,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=m()},updateDataLayer:function(n){var t,a,i,r,l=[];function s(e,n){l.push({id:e,value:n})}n&&(this.changes=n),n=this.changes,this._label=o.formatMessageNoEscape("PD.GLV.CMD.COPY",this.changes.originalComponent.title),E=!0,_=!0,this.transaction=e.transaction.start("glv"),i=n.component._modelComponent,i=n.component._modelComponent=i.duplicate(),n.component.id=i.id,n.component.title=i.getDisplayTitle(),b.gridlayout("update",n.component,!1),n.newParentContainer!==n.originalComponent._parent&&(a=(t=n.newParentContainer)._parent,"region"===n.component.type?"page"===a.type?(s(e.PROP.PARENT_REGION,""),s(e.PROP.REGION_POSITION,t.id)):s(e.PROP.PARENT_REGION,a.id):"item"===n.component.type?s(e.PROP.REGION,a.id):"button"===n.component.type&&(s(e.PROP.REGION,a.id),s(e.PROP.BUTTON_POSITION,t.id))),r=P(n),i.move(r,l),g(n.propertyChanges),this.transaction.execute(),c(n)},undo:function(){var e=this.changes;y(this.state),R=!0,this.gl$.gridlayout("remove",{},[e.component.id]),this.transaction.undo()},redo:function(){var e=this.changes,n=e.newIndex;y(this.state),R=!0,e.newGridInserted?n=p.NEW_GRID:e.newRowInserted?n=p.NEW_ROW:e.newColumnInserted?n=p.NEW_COLUMN:e.newParentContainer===e.prevParentContainer&&e.newIndex>e.prevIndex&&(n+=1),E=!0,_=!0,this.gl$.gridlayout("add",{},e.component,e.newParentContainer,e.newGrid,e.newRow,e.newColumn,n,e.newAlignment,e.newComponent$),this.transaction.redo()},label:function(){return this._label}});function f(e,n,t,o,a,i,r,l,s){var d=Object.create(v);return d.changes=n,d.gl$=e,d.component$=t,d.container$=o,d.grid=a,d.row=i,d.column=r,d.index=l,d.alignment=s,d._label="copy",d}var T=n.extend(apex.commandHistory.baseCommand(),{execute:function(){this.changes?this.updateDataLayer():(I=this,this.gl$.gridlayout("add",{},this.componentTypeId,this.container$,this.grid,this.row,this.column,this.index,this.alignment)),this.state=m()},updateDataLayer:function(n){var t,a,i,r,l,s,d,p,u=!1,m=[];function y(e,n){m.push({id:e,value:n})}for(n&&(this.changes=n),d=(n=this.changes).component._galleryComponent,this._label=o.formatMessageNoEscape("PD.GLV.CMD.CREATE",d.title),this.transaction=e.transaction.start("glv"),i=(a=n.newParentContainer)._parent,"region"===n.component.type?(s=e.COMP_TYPE.REGION,"page"===i.type?(y(e.PROP.PARENT_REGION,""),y(e.PROP.REGION_POSITION,a.id)):y(e.PROP.PARENT_REGION,i.id)):"item"===n.component.type?(s=e.COMP_TYPE.PAGE_ITEM,y(e.PROP.REGION,i.id)):"button"===n.component.type&&(s=e.COMP_TYPE.BUTTON,y(e.PROP.REGION,i.id),y(e.PROP.BUTTON_POSITION,a.id)),p=P(n),t=0;t<d.values.length;t++)r=d.values[t],m.push(r),r.id===e.PROP.ITEM_TYPE&&"NATIVE_HIDDEN"===r.value&&(u=!0);E=!0,_=!0,l=new e.Component({previousComponent:p,typeId:s,values:m}),n.component._modelComponent=l,delete n.component._galleryComponent,u?(R=!0,b.gridlayout("remove",{},n.newComponent$),this.changes=null):(g(n.propertyChanges),n.component.id=l.id,n.component.title=l.getDisplayTitle(),b.gridlayout("update",n.component,!1)),this.transaction.execute(),c(n)},undo:function(){var e=this.changes;y(this.state),e&&(R=!0,this.gl$.gridlayout("remove",{},[e.component.id])),this.transaction.undo()},redo:function(){var e,n=this.changes;y(this.state),n&&(e=n.newIndex,R=!0,E=!0,_=!0,n.newGridInserted?e=p.NEW_GRID:n.newRowInserted?e=p.NEW_ROW:n.newColumnInserted?e=p.NEW_COLUMN:n.newParentContainer===n.prevParentContainer&&n.newIndex>n.prevIndex&&(e+=1),this.gl$.gridlayout("add",{},n.component,n.newParentContainer,n.newGrid,n.newRow,n.newColumn,e,n.newAlignment,n.newComponent$)),this.transaction.redo()},label:function(){return this._label}});function G(e,n,t,o,a,i,r,l,s){var d=Object.create(T);return d.changes=n,d.gl$=e,d.componentTypeId=t,d.container$=o,d.grid=a,d.row=i,d.column=r,d.index=l,d.alignment=s,d._label="create",d}var D=n.extend(apex.commandHistory.baseCommand(),{execute:function(){I=this,this.gl$.gridlayout("remove",{}),this.state=m()},updateDataLayer:function(n){this.changes.push(n),this.transaction||(this.transaction=e.transaction.start("glv")),n.component._modelComponent.remove(),c(n),n.lastChange&&this.transaction.execute()},undo:function(){var e,n,t,o=this.changes;for(y(this.state),e=o.length-1;e>=0;e--)n=o[e],R=!0,t=n.prevIndex,n.prevGridRemoved?t=p.NEW_GRID:n.prevRowRemoved?t=p.NEW_ROW:n.prevColumnRemoved&&(t=p.NEW_COLUMN),this.gl$.gridlayout("add",{},n.component,n.prevParentContainer,n.prevGrid,n.prevRow,n.prevColumn,t,n.prevAlignment,n.component$);this.transaction.undo()},redo:function(){var e,n=[],t=this.changes;for(y(this.state),R=!0,e=0;e<t.length;e++)n.push(t[e].component.id);this.gl$.gridlayout("remove",{},n),this.transaction.redo()},label:function(){return this._label}});function w(e,n){e.id="t0001",e._modelComponent=n._modelComponent}function M(e){return e.iconClass}function L(n){var t,o,a,i,r,l,s=window.componentGallery.getComponentData(n);if(o={type:i=s.type,_galleryComponent:s,id:"t0002",title:s.title},"region"===i){for(r="",l="",t=0;t<s.values.length;t++)(a=s.values[t]).id===e.PROP.REGION_TEMPLATE?r=a.value:a.id===e.PROP.REGION_TYPE&&(l=a.value);for(o.displayPoints=[],U(e.getRegionTemplates()[r].displayPoints,o.displayPoints,null,l),t=0;t<o.displayPoints.length;t++)o.displayPoints[t].components=[]}return o}var b,A={BUTTON:"buttonContainer",PAGE_ITEM:"itemContainer",REGION:"regionContainer"};function S(e,n,t){var o,a=t,i=e.getProperty(n);return i&&(o=i.getMetaData().yesValue,a=i.getValue()===o),a}function x(e,n,t){var o=t,a=e.getProperty(n);return a&&(null!==(o=a.getValue())&&""!==o||!t||(o=t)),o}function V(n){var t=n.parentId;return n.typeId===e.COMP_TYPE.REGION&&(t=x(n,e.PROP.PARENT_REGION,t)),t}function W(e){var n,t=[];for(n=0;n<e.length;n++)t.push(A[e[n]]);return t}function U(n,t,a,i){var r,l,s,d,p=0;for(r=0;r<n.length;r++)l=(s=n[r]).name,"PAGE_ITEM"===s.types[0]&&(l=o.getMessage("PD.GLV.DP_ITEMS")),"RIGHT_OF_IR_SEARCH_BAR"===s.id&&(i&&"NATIVE_IR"!==i||a&&"NATIVE_IR"!==e.getComponents(e.COMP_TYPE.REGION,{id:a})[0].getProperty(e.PROP.REGION_TYPE).getValue()||!a&&!i)||(d={types:W(s.types),id:s.id,title:l,isGrid:s.hasGridSupport,isLegacy:s.isLegacy},a||i||(s.hasOwnProperty("glvSpan")||!1===s.glvNewRow?(d.span=s.glvSpan,d.newColumn=!s.glvNewRow,!d.newColumn&&d.span>p&&(d.newRow=!0),p=d.span):d.newRow=!0),"buttonContainer"===d.types[0]&&s.hasAlignment&&(d.hasAlignment=!0),t.push(d))}function B(n,t,o,i){var r,l,s,d,p,u,g,P,c,m=[];for(r=0;r<n.length;r++){if(g={properties:[{id:e.PROP.REGION,value:i}]},"buttonContainer"===n[r])u=e.COMP_TYPE.BUTTON,g.properties.push({id:e.PROP.BUTTON_POSITION,value:t});else{if("itemContainer"!==n[r])throw"Unknown container type: "+n[r];u=e.COMP_TYPE.PAGE_ITEM}m.push({typeId:u,filter:g})}for(h&&(g.excludeGlobalPage=!0),l=e.getComponentsAdvanced(m),r=0;r<l.length;r++){if((s=l[r]).typeId===e.COMP_TYPE.BUTTON)P="button",c=a.getComponentIconClass("button",S(s,e.PROP.BUTTON_IS_HOT,!1)?"hot":"normal");else{if(s.typeId!==e.COMP_TYPE.PAGE_ITEM)throw"Unexpected component type "+s.typeId;P="item",c=a.getComponentIconClass("item",x(s,e.PROP.ITEM_TYPE))}"item"===P&&"NATIVE_HIDDEN"===x(s,e.PROP.ITEM_TYPE)||(d={type:P,id:s.id,title:s.getDisplayTitle(),iconClass:c,newGrid:S(s,e.PROP.GRID_NEW_GRID,!1),newRow:S(s,e.PROP.GRID_NEW_ROW,!1),col:1*x(s,e.PROP.GRID_COLUMN,-1),newCol:S(s,e.PROP.GRID_NEW_COLUMN,!0),span:1*x(s,e.PROP.GRID_COLUMN_SPAN,-1),hasErrors:s.hasErrors(),hasWarnings:s.hasWarnings(),isReadOnly:s.isReadOnly(),_modelComponent:s},(p=1*x(s,e.PROP.GRID_ROW_SPAN,-1))>0&&(d.rowSpan=p),a.isConditional(s)&&(d.isConditional=!0),o.push(d))}}function Y(n,t){var o,i,r,l,s,d,p,u={properties:[{id:e.PROP.REGION,value:t}]};for(h&&(u.excludeGlobalPage=!0),i=e.getComponents(e.COMP_TYPE.BUTTON,u),o=0;o<i.length;o++)n[s=x(r=i[o],e.PROP.BUTTON_POSITION)]&&(d=x(r,e.PROP.ALIGNMENT,null),p=S(r,e.PROP.BUTTON_IS_HOT,!1),l={type:"button",id:r.id,title:r.getDisplayTitle(),iconClass:a.getComponentIconClass("button",p?"hot":"normal"),hasErrors:r.hasErrors(),hasWarnings:r.hasWarnings(),isReadOnly:r.isReadOnly(),_modelComponent:r},d&&(l.alignment=d.toLowerCase()),a.isConditional(r)&&(l.isConditional=!0),n[s].push(l))}function H(n,o,i){var r,l,s,d,p,u,g,P,c,m,y,O,I=e.getRegionTemplates();for(c=i?{properties:[{id:e.PROP.PARENT_REGION,value:i}]}:{properties:[{id:e.PROP.PARENT_REGION,value:""},{id:e.PROP.REGION_POSITION,value:o}]},h&&(c.excludeGlobalPage=!0),u=e.getComponents(e.COMP_TYPE.REGION,c),r=0;r<u.length;r++)if(g=u[r],a.isDisplayed(g))if(P={},p=I[d=x(g,e.PROP.REGION_TEMPLATE)]){for(m={},y=p,(O={type:"region",id:g.id,title:g.getDisplayTitle(),iconClass:a.getComponentIconClass("region",x(g,e.PROP.REGION_TYPE)),newGrid:S(g,e.PROP.GRID_NEW_GRID,!1),newRow:S(g,e.PROP.GRID_NEW_ROW,!1),col:1*x(g,e.PROP.GRID_COLUMN,-1),newCol:S(g,e.PROP.GRID_NEW_COLUMN,!0),span:1*x(g,e.PROP.GRID_COLUMN_SPAN,-1),hasErrors:g.hasErrors(),hasWarnings:g.hasWarnings(),isReadOnly:g.isReadOnly(),itemsAboveContent:"ABOVE"===x(g,e.PROP.ITEM_DISPLAY_POSITION,"ABOVE"),_modelComponent:g}).templateName=y.name,O.maxColumns=12,O.displayPoints=[],U(y.displayPoints,O.displayPoints,O.id),P=O,a.isConditional(g)&&(P.isConditional=!0),l=0;l<P.displayPoints.length;l++)(s=P.displayPoints[l]).components=[],"regionContainer"===s.types[0]?H(s.components,null,P.id):s.types.length>1||"itemContainer"===s.types[0]?B(s.types,s.id,s.components,P.id):"buttonContainer"===s.types[0]&&(m[s.id]=s.components);Y(m,P.id),n.push(P)}else t.warn("Skipping region %s because no template found for id %s.",g.getDisplayTitle(),d)}function $(){return{type:"page",iconClass:"icon-warning",gridType:"fixed",maxColumns:12,hasColumnSpan:!0,hasRowSpan:!1,alwaysUseMax:!1,title:o.getMessage("PD.GLV.EMPTY_GRID"),displayPoints:[]}}function F(){var n,t,o,a,i,r,l,s,d;if(!O)return $();if(1!==(r=e.getComponents(e.COMP_TYPE.PAGE)).length)return $();if(a=r[0],!(i=e.getPageTemplate()))return $();for(l=i,s={type:"page",id:a.id,iconClass:"icon-page",title:a.getDisplayTitle(),hasErrors:a.hasErrors(),hasWarnings:a.hasWarnings(),isReadOnly:e.isPageReadOnly(),_modelComponent:a},d=l.grid,s.gridType=d.type.toLowerCase(),s.maxColumns=d.maxColumns,s.hasColumnSpan=d.hasColumnSpan,void 0!==d.hasRowSpan&&(s.hasRowSpan=d.hasRowSpan),s.alwaysUseMaxColumns=d.alwaysUseMaxColumns,s.displayPoints=[],U(l.displayPoints,s.displayPoints),n=s,t=0;t<n.displayPoints.length;t++)(o=n.displayPoints[t]).components=[],H(o.components,o.id);return n}function K(e){var n,t,o={};for(n=0;n<e.displayPoints.length;n++)(t=e.displayPoints[n]).components=[],"regionContainer"===t.types[0]?H(t.components,null,e.id):t.types.length>1||"itemContainer"===t.types[0]?B(t.types,t.id,t.components,e.id):"buttonContainer"===t.types[0]&&(o[t.id]=t.components);Y(o,e.id)}n((function(){var u=[e.COMP_TYPE.PAGE,e.COMP_TYPE.REGION,e.COMP_TYPE.PAGE_ITEM,e.COMP_TYPE.BUTTON],g=n("#glvMenu"),P=null;function c(e){var n,t=!0;for(n=0;n<e.length;n++)if(e[n].isReadOnly){t=!1;break}return t}function m(e){var n,t=b.gridlayout("getSelection").filter(l),a=b.gridlayout("getSelectedComponents"),i=c(a);0!==t.length&&i&&b.gridlayout(d,"displayFrom")!==a[0].id&&(n=function(e,n){var t=Object.create(D);return t.changes=[],t.gl$=e,t.transaction=null,n.length>1?t._label=o.formatMessageNoEscape("PD.GLV.CMD.DEL_N",n.length):t._label=o.formatMessageNoEscape("PD.GLV.CMD.DEL",b.gridlayout("getComponents",n)[0].title),t}(b,t),apex.commandHistory.execute(n))}function y(){var e,n=null,t=null,o=null,a=b.gridlayout("getSelection");1===a.length&&(this.col>=0&&(n=0,t=this.row,o=this.col),e=this.copy?f(b,null,a,this.container,n,t,o,this.index,this.alignment):N(b,null,a,this.container,n,t,o,this.index,this.alignment),apex.commandHistory.execute(e))}b=n("#glv");var C=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1},{l:"Row before",i:p.NEW_ROW,a:0},{l:"Row after",i:p.NEW_ROW,a:1},{l:"Column before",i:p.NEW_COLUMN,a:0},{l:"Column after",i:p.NEW_COLUMN,a:1}],v=[{l:"Before",i:null,a:0},{l:"After",i:null,a:1}];function T(e,n,t){var o,a,i,r,l,s,d,u,g=null,P=[];function c(e){var o,a,i,r,s=[];for(i="grid"===u?C:v,o=0;o<i.length;o++)r={label:(a=i[o]).l,type:"action",action:n,container:l.element,index:a.i?a.i:e.index+a.a},"grid"===u?(a.i===p.NEW_ROW?r.row=e.row+a.a:r.row=e.row,a.i===p.NEW_COLUMN?r.col=e.col+a.a:r.col=e.col):e.alignment&&(r.alignment=e.alignment),t&&(r.copy=!0),s.push(r);return s}for(e.length>0&&e[0].element.hasClass("a-GridLayout-buttonContainer")&&(g={}),o=0;o<e.length;o++){if(l=e[o],g&&g.label!==l.region&&(g.label&&P.push(g),g={label:l.region,type:"subMenu",menu:{items:[]}}),i={label:g?l.name:l.label},u=l.type,0===l.items.length)i.type="action",i.action=n,i.container=l.element,i.index=0,"grid"===u?(i.row=0,i.col=0):l.alignment&&(i.alignment=l.alignment),t&&(i.copy=!0);else for(i.type="subMenu",i.menu={items:[]},s=i.menu.items,a=0;a<l.items.length;a++)d={label:(r=l.items[a]).name,type:"subMenu",menu:{items:c(r)}},s.push(d);g?g.menu.items.push(i):P.push(i)}return g&&P.push(g),P}function A(e){e=e||b.gridlayout("getSelectedComponents"),apex.actions.lookup("glv-disp-from-region").disabled=!(e.length>=1&&"region"===e[0].type&&e[0].id!==b.gridlayout(d,"displayFrom")),apex.actions.update("glv-disp-from-region"),apex.actions.lookup("glv-disp-from-page").disabled=null===b.gridlayout(d,"displayFrom"),apex.actions.update("glv-disp-from-page")}a.glvMakeTargetMenu=T,a.glvMenuAddAction=function(e){var n,t=null,o=null,a=null;this.col>=0&&(t=0,o=this.row,a=this.col),n=G(b,null,e,this.container,t,o,a,this.index,this.alignment),apex.commandHistory.execute(n)},apex.actions.add([{name:"glv-disp-from-page",label:o.getMessage("PD.GLV.MI.DISP_PAGE"),shortcut:"Ctrl+Alt+T",disabled:!0,action:function(e,n){b.gridlayout(d,"displayFrom",null),A()}},{name:"glv-disp-from-region",label:o.getMessage("PD.GLV.MI.DISP_REGION"),shortcut:"Ctrl+Alt+D",disabled:!0,action:function(e,n){var t=b.gridlayout("getSelectedComponents");t.length>=1&&"region"===t[0].type&&b.gridlayout(d,"displayFrom",t[0].id),this.disabled=!0,apex.actions.update(this.name),apex.actions.lookup("glv-disp-from-page").disabled=!1,apex.actions.update("glv-disp-from-page")}},{name:"glv-hide-empty",label:o.getMessage("PD.GLV.MI.HIDE_EMPTY"),shortcut:"Ctrl+Alt+E",get:function(){return b.gridlayout(d,"hideEmptyDisplayPoints")},set:function(e){b.gridlayout(d,"hideEmptyDisplayPoints",e),a.saveBoolPref("GLV_HIDE_EMPTY",e)}}]);var W={menubar:!1,items:[{id:"dispRoot",type:"action",action:"glv-disp-from-page"},{id:"dispHere",type:"action",action:"glv-disp-from-region"},{type:"toggle",action:"pd-expand-restore"},{type:"separator"},{id:"newgrid",type:"action",labelKey:"PD.GLV.MI.NEW_GRID",hide:!0},{id:"delete",type:"action",labelKey:"PD.DEL",accelerator:"Del",disabled:function(){var e=b.gridlayout("getSelectedComponents"),n=c(e);return e.length<1||1===e.length&&"page"===e[0].type||!n||b.gridlayout(d,"displayFrom")===e[0].id},action:function(){m()}},{id:"moveTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.MOVE2",menu:{items:[]}},{id:"copyTo",type:"subMenu",disabled:!0,labelKey:"PD.MI.COPY2",menu:{items:[]}},{type:"separator"},{id:"hideConditional",type:"subMenu",disabled:!0,labelKey:"PD.GLV.MI.HIDE_COND_COMP",hide:!0,menu:{items:[]}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_LEGACY",get:function(){return b.gridlayout(d,"hideLegacyDisplayPoints")},set:function(e){b.gridlayout(d,"hideLegacyDisplayPoints",e),a.saveBoolPref("GLV_HIDE_LEGACY",e)}},{type:"toggle",action:"glv-hide-empty"},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_GLOBAL",disabled:function(){var n=b.gridlayout(d,"displayFrom"),t=!!n&&b.gridlayout("findComponentById",n)._modelComponent.isOnGlobalPage();return!O||e.isGlobalPage()||t},get:function(){return h},set:function(e){h=e,b.gridlayout("pageDataChanged"),a.saveBoolPref("GLV_HIDE_GLOBAL",e)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_BTNS",get:function(){return b.gridlayout(d,"hideButtons")},set:function(e){b.gridlayout(d,"hideButtons",e),a.saveBoolPref("GLV_HIDE_BTNS",e)}},{type:"toggle",labelKey:"PD.GLV.MI.HIDE_ITEMS",get:function(){return b.gridlayout(d,"hideItems")},set:function(e){b.gridlayout(d,"hideItems",e),a.saveBoolPref("GLV_HIDE_ITEMS",e)}},{type:"subMenu",hide:!0,labelKey:"PD.GLV.MI.ZOOM",menu:{items:[{type:"radioGroup",set:function(e){b.gridlayout(d,"zoom",e)},get:function(){return b.gridlayout(d,"zoom")+""},choices:[{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","50"),value:"50"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","75"),value:"75"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","100"),value:"100"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","120"),value:"125"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","150"),value:"150"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","170"),value:"175"},{labelKey:o.formatMessage("PD.GLV.MI.ZOOM_N","200"),value:"200"}]}]}}],beforeOpen:function(e,n){var t,o=g.menu("find","moveTo"),a=g.menu("find","copyTo"),i=b.gridlayout("getSelection").filter(l);o.menu.items=[],a.menu.items=[],1===i.length&&(t=i.eq(0),b.gridlayout("getComponents",t)[0].isReadOnly||(o.menu.items=T(b.gridlayout("getDropTargets",t),y),a.menu.items=T(b.gridlayout("getDropTargets",t,"copy"),y,!0))),o.disabled=0===o.menu.items.length,a.disabled=0===a.menu.items.length},afterClose:function(e,n){n.actionTookFocus||b.gridlayout("focus")}};function U(e){var t,o,a,i,r,l="";for(n.isArray(e)||(e=[e]),t=0;t<e.length;t++){for(a in l+="["+(r=e[t]).component.id+": ",r.properties){for(l+=a+":",i=r.properties[a],o=0;o<i.length;o++)l+=i[o]+",";l=l.substring(0,l.length-1)+";"}l+="] "}return l}g.menu(W),h=a.getBoolPref("GLV_HIDE_GLOBAL",!0),b.gridlayout({getPageRoot:F,hideLegacyDisplayPoints:a.getBoolPref("GLV_HIDE_LEGACY",!0),hideEmptyDisplayPoints:a.getBoolPref("GLV_HIDE_EMPTY",!1),hideButtons:a.getBoolPref("GLV_HIDE_BTNS",!1),hideItems:a.getBoolPref("GLV_HIDE_ITEMS",!1),getIconForComponent:M,makeComponent:L,updateComponentCopy:w,deleteKeyAction:function(e){m()},contextMenuAction:function(e){var t,o;"contextmenu"===e.type?g.menu("toggle",e.pageX,e.pageY):(t=(o=n(e.target)).offset(),g.menu("toggle",t.left,t.top+o.find("h3").height()))},stateClassMap:{hasErrors:i,hasWarnings:r},stateIconMap:{hasErrors:"icon-error",hasWarnings:"icon-warning"},appendTo:"parent",cursor:"default",cursorAt:{left:2,top:2},containment:"document",multiple:!0,animate:!1,delay:10,distance:5,opacity:.9,scroll:!0,scrollSensitivity:30,iconType:"a-Icon",selectionChange:function(e,o){var a,i,r,l=[];for(i=n(this).gridlayout("getSelectedComponents"),a=0;a<i.length;a++)(r=i[a]._modelComponent)?l.push(r):t.log("No component found for selection "+i[a].id);A(i),n(document).trigger("selectionChanged",["glv",l])},added:function(e,n){var t;R?R=!1:I?(I.updateDataLayer(n),I=null):(t=G(b,n),apex.commandHistory.execute(t))},removed:function(e,n){R?R=!1:I&&(I.updateDataLayer(n),n.lastChange&&(I=null))},moved:function(e,n){var t;R?R=!1:I?(I.updateDataLayer(n),I=null):(t=N(b,n),apex.commandHistory.execute(t))},copied:function(e,n){var t;R?R=!1:I?(I.updateDataLayer(n),I=null):(t=f(b,n),apex.commandHistory.execute(t))},start:function(e,n){apex.tooltipManager.disableTooltips()},stop:function(e,n){apex.tooltipManager.enableTooltips()}}).tooltip({items:".a-GridLayout-page > h3, .a-GridLayout-pageItem > h3, .a-GridLayout-region > h3, .a-GridLayout-button > h3",show:apex.tooltipManager.defaultShowOption(),content:function(){var e=b.gridlayout("getComponents",n(this).parent())[0];return e.note?e.note:e._modelComponent?a.tooltipContentForComponent(e._modelComponent):void 0}}).on("focusin",(function(e){var t,o=n(e.target).closest(s);0!==o.length&&(b.tooltip(d,"disabled")||((t=n.Event(e)).target=t.currentTarget=o.children("h3")[0],b.tooltip("open",t)))})).on("focusout",(function(e){var t,o=n(e.target).closest(s);0!==o.length&&(b.tooltip(d,"disabled")||((t=n.Event(e)).target=t.currentTarget=o.children("h3")[0],b.tooltip("close",t)))})).on("keyup",(function(e){var t,o;if(e.keyCode===n.ui.keyCode.ESCAPE){if(0===(o=n(e.target).closest(s)).length)return;b.tooltip(d,"disabled")||((t=n.Event(e)).currentTarget=o.children("h3")[0],b.tooltip("close",t))}})),n(document).on("selectionChanged",(function(n,t,o){var a,i,r=[];if("glv"!==t){for(a=0;a<o.length;a++)(i=o[a]).typeId!==e.COMP_TYPE.PAGE&&i.typeId!==e.COMP_TYPE.REGION&&i.typeId!==e.COMP_TYPE.PAGE_ITEM&&i.typeId!==e.COMP_TYPE.BUTTON||r.push(i.id);b.is(":visible")?(b.gridlayout("setSelectedComponents",r),A()):P=r}})),n("#editor_tabs").on("tabsactivate",(function(e,n){"grid_layout"===n.newPanel[0].id&&P&&(b.gridlayout("setSelectedComponents",P),A(),P=null)})),e.observer("glv",{component:{typeIds:u},events:[e.EVENT.DISPLAY_TITLE]},(function(e){var n=b.gridlayout("findComponentById",e.component.id);t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle display title change: "+U(e)),n&&(n.title=e.component.getDisplayTitle(),b.gridlayout("update",n,!1))})),e.observer("glv",{component:{typeIds:u},events:[e.EVENT.CHANGE],properties:[e.PROP.CONDITION_TYPE,e.PROP.AUTHORIZATION_SCHEME,e.PROP.BUILD_OPTION,e.PROP.GRID_NEW_GRID,e.PROP.GRID_NEW_ROW,e.PROP.GRID_NEW_COLUMN,e.PROP.GRID_COLUMN,e.PROP.GRID_COLUMN_SPAN,e.PROP.GRID_ROW_SPAN,e.PROP.ALIGNMENT,e.PROP.ITEM_DISPLAY_POSITION,e.PROP.ITEM_TYPE,e.PROP.REGION_TYPE,e.PROP.BUTTON_IS_HOT,e.PROP.DISPLAY_SEQUENCE,e.PROP.REGION_POSITION,e.PROP.PARENT_REGION,e.PROP.REGION,e.PROP.BUTTON_POSITION]},(function(o){var i,r,l,s,d,p,u={},g={},P={};function c(e){var t=s.properties[e];return t&&n.inArray("change",t)>=0}function m(e){return s.component.getProperty(e).getValue()}function y(e){var n=s.component.getProperty(e),t=n.getMetaData().yesValue;return n.getValue()===t}function O(e,n){for(var t=n._parent?n._parent._parent:null;t;){if(e[t.id])return!0;t=t._parent?t._parent._parent:null}return!1}if(E)E=!1;else{for(t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle property changes: "+U(o)),i=0;i<o.length;i++)r=(s=o[i]).component.id,l=V(s.component),d=b.gridlayout("findComponentById",r),p=b.gridlayout("findComponentById",l),!d&&p&&(P[l]=p),d&&(c(e.PROP.ITEM_TYPE)&&"item"===d.type&&("NATIVE_HIDDEN"===m(e.PROP.ITEM_TYPE)?P[l]=p:(d.iconClass=a.getComponentIconClass("item",x(s.component,e.PROP.ITEM_TYPE)),u[r]=d)),(c(e.PROP.CONDITION_TYPE)||c(e.PROP.AUTHORIZATION_SCHEME)||c(e.PROP.BUILD_OPTION))&&(a.isConditional(s.component)?d.isConditional=!0:delete d.isConditional,u[r]=d),c(e.PROP.REGION_TYPE)&&"region"===d.type&&(d.iconClass=a.getComponentIconClass("region",x(s.component,e.PROP.REGION_TYPE)),u[r]=d),c(e.PROP.BUTTON_IS_HOT)&&"button"===d.type&&(d.iconClass=a.getComponentIconClass("button",S(s.component,e.PROP.BUTTON_IS_HOT,!1)?"hot":"normal"),u[r]=d),c(e.PROP.GRID_NEW_GRID)&&(d.newGrid=y(e.PROP.GRID_NEW_GRID),g[l]=d),c(e.PROP.GRID_NEW_ROW)&&(d.newRow=y(e.PROP.GRID_NEW_ROW),g[l]=d),c(e.PROP.GRID_NEW_COLUMN)&&(d.newCol=y(e.PROP.GRID_NEW_COLUMN),g[l]=d),c(e.PROP.GRID_COLUMN)&&(d.col=1*m(e.PROP.GRID_COLUMN),g[l]=d),c(e.PROP.GRID_COLUMN_SPAN)&&(d.span=1*m(e.PROP.GRID_COLUMN_SPAN),g[l]=d),c(e.PROP.GRID_ROW_SPAN)&&(d.rowSpan=1*m(e.PROP.GRID_ROW_SPAN),g[l]=d),c(e.PROP.ITEM_DISPLAY_POSITION)&&(d.itemsAboveContent="ABOVE"===m(e.PROP.ITEM_DISPLAY_POSITION),g[l]=d),(c(e.PROP.ALIGNMENT)||c(e.PROP.BUTTON_POSITION)||c(e.PROP.REGION)||c(e.PROP.PARENT_REGION)||c(e.PROP.REGION_POSITION)||c(e.PROP.DISPLAY_SEQUENCE))&&(d._parent._parent.id!==l&&(P[d._parent._parent.id]=d._parent._parent),P[l]=p));for(r in u)u.hasOwnProperty(r)&&(g[(d=u[r]).id]||P[d.id]||O(g,d)||O(P,d)||b.gridlayout("update",d,!1));for(r in g)g.hasOwnProperty(r)&&(P[(d=g[r]).id]||O(g,d._parent._parent)||O(P,d)||b.gridlayout("update",d,!0));for(r in P)P.hasOwnProperty(r)&&(p=P[r])&&!O(P,p)&&("page"===p.type?b.gridlayout("pageDataChanged"):(K(p),b.gridlayout("update",p,!0,!0)))}}),!0),e.observer("glv",{events:[e.EVENT.GRID]},(function(e){var n,o;if(t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle grid changes - refresh whole page: "+U(e)),!b.is(":visible"))for(P=[],o=b.gridlayout("getSelectedComponents"),n=0;n<o.length;n++)P.push(o[n].id);b.gridlayout("pageDataChanged")}),!0),e.observer("glv",{component:{typeIds:u},events:[e.EVENT.CREATE]},(function(e){var n;_?_=!1:(t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle create: "+U(e)),(n=b.gridlayout("findComponentById",V(e.component)))&&("page"===n.type?b.gridlayout("pageDataChanged"):(K(n),b.gridlayout("update",n,!0,!0))))})),e.observer("glv",{component:{typeIds:u},events:[e.EVENT.DELETE]},(function(e){var n,o=e.component.id;I||(t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle delete: "+U(e)),(n=b.gridlayout("findById",o)).length&&(R=!0,b.gridlayout("remove",{},n)))})),e.observer("glv",{component:{typeIds:u},events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){var n=b.gridlayout("findComponentById",e.component.id);t.getLevel()>=t.LOG_LEVEL.APP_TRACE&&t.trace("GLV Handle error or warning status change: "+U(e)),n&&(n.hasErrors=e.component.hasErrors(),n.hasWarnings=e.component.hasWarnings(),b.gridlayout("update",n,!1))}))})),n(document).on("modelReady",(function(){O=!0;try{b.gridlayout("pageDataChanged")}catch(e){t.error("Failed to load grid layout",e),O=!1,b.gridlayout("pageDataChanged")}})),n(document).on("modelCleared",(function(){O=!1,b.gridlayout("pageDataChanged")}))}(pe,apex.jQuery,apex.debug,apex.lang,window.pageDesigner);
!function(e,n,t,o,a,p){"use strict";var i="COMPONENT_VIEW",r="is-selected",P=[e.PROP.WHEN_REGION,e.PROP.WHEN_BUTTON,e.PROP.WHEN_ITEMS,e.PROP.WHEN_DOM_OBJECT,e.PROP.WHEN_JQUERY_SELECTOR,e.PROP.WHEN_JAVASCRIPT_EXPRESSION],d=[];function s(e){return a.getMessage("PD.CV."+e)}function E(n,t){var o,p;n.markup('<div class="a-CV-group"><div class="a-CV-groupHeader"><h3 class="a-CV-groupTitle">'),t.title?n.content(t.title):n.content(e.getComponentType(t.componentTypeId).title.plural),n.markup("</h3>"),!e.isPageReadOnly()&&t.componentTypeId&&(o=e.getComponentType(t.componentTypeId).createUrl,n.markup('<a class="a-Button a-Button--regionHeader create" href="#" '),o?n.attr("data-url",o):(n.attr("data-componenttypeid",t.componentTypeId),t.property&&n.attr("data-propertyid",t.property.id).attr("data-propertyvalue",t.property.value)),p=function(e){var n=s(e),t=[n].concat(Array.prototype.slice.call(arguments,1));return a.format.apply(this,t)}("CREATE_COMPONENT",e.getComponentType(t.componentTypeId).title.singular),n.markup(' title="'+p+'" aria-label="'+p+'"><span class="a-Icon icon-plus" aria-hidden="true"></span></a>')),n.markup('</div><div class="a-CV-groupBody" '),t.domId&&n.attr("id",t.domId),n.markup(">")}function c(e){e.markup("</div></div>")}function O(e){return"CVT"+e.typeId+"_"+e.id}function T(t,o,a){var i,r,P,d,s,E,c,T,l="",I=[];n.isNever(o)?l+=" "+n.CSS.IS_NEVER:n.isConditional(o)&&(l+=" "+n.CSS.IS_CONDITIONAL),o.hasChanged()&&(l+=" "+n.CSS.IS_CHANGED),o.hasErrors()&&(l+=" "+n.CSS.IS_ERROR),o.hasWarnings()&&(l+=" "+n.CSS.IS_WARNING),t.markup("<li ").attr("id",O(o)).attr("class","a-CV-component"+l).attr("data-componenttypeid",o.typeId).attr("data-componentid",o.id).markup(">"),a.type&&(r=p.isArray(a.type)?o.getProperty(a.type[0])||o.getProperty(a.type[1]):o.getProperty(a.type)),a.seq&&t.markup('<span class="a-CV-cell a-CV-cell--seq u-tE">').content(o.getProperty(a.seq).getDisplayValue()).markup("</span>"),a.name&&(t.markup('<span class="a-CV-cell a-CV-cell--primary">'),a.icon&&("region"===a.icon||"item"===a.icon?(d=n.getComponentIconClass(a.icon,r.getValue()),P=r.getDisplayValue()):"button"===a.icon?(d=n.getComponentIconClass("button","Y"===o.getProperty(e.PROP.BUTTON_IS_HOT).getValue()?"hot":"normal"),P=""):(d=a.icon,P=""),t.markup('<span class="a-CV-cellWrap">'+function(){for(var e="",n=0;n<a.indent;n++)e+='<span class="a-CV-indent"></span>';return e}()+"<span ").attr("class","a-CV-icon a-Icon "+d).attr("title",P).markup('></span><span class="u-VisuallyHidden">').content(P).markup("</span>")),t.markup('<a class="edit" href="#" title="">'),o.typeId===e.COMP_TYPE.REGION||!0===a.name?t.content(o.getDisplayTitle()):t.content(o.getProperty(a.name).getDisplayValue()),t.markup("</a></span>"),a.icon&&t.markup("</span>")),a.additional&&(i=a.additional.apply(o),t.markup('<span class="a-CV-cell a-CV-cell--secondary">').content(i).markup("</span>")),r&&(t.markup('<span class="a-CV-cell a-CV-cell--secondary">'),o.typeId===e.COMP_TYPE.REGION&&(E=r.getValue(),c={NATIVE_IR:e.COMP_TYPE.IR_ATTRIBUTES,NATIVE_IG:e.COMP_TYPE.IG_ATTRIBUTES,NATIVE_SQL_REPORT:e.COMP_TYPE.CLASSIC_REPORT,NATIVE_FNC_REPORT:e.COMP_TYPE.CLASSIC_REPORT,NATIVE_TABFORM:e.COMP_TYPE.TABULAR_FORM,NATIVE_FLASH_MAP:e.COMP_TYPE.MAP_CHART,NATIVE_FLASH_CHART5:e.COMP_TYPE.CHART,NATIVE_JET_CHART:e.COMP_TYPE.JET_CHART,NATIVE_CALENDAR:e.COMP_TYPE.CLASSIC_CALENDAR},T=e.COMP_TYPE.REGION_PLUGIN_ATTR,c.hasOwnProperty(E)&&(T=c[E]),I=e.getComponents(T,{parentId:o.id})),I.length>0?t.markup('<a class="edit" href="#" title=""').attr("data-componenttypeid",I[0].typeId).attr("data-componentid",I[0].id).markup(">").content(r.getDisplayValue()).markup("</a></span>"):r.id===e.PROP.BUTTON_ACTION?t.content((s=o.getProperty(e.PROP.BUTTON_TARGET))?n.splitApexUrl(s.getValue(),!0).display:o.getProperty(e.PROP.BUTTON_ACTION).getDisplayValue()):t.content(r.getDisplayValue()),t.markup("</span>")),t.markup("</li>")}function l(t,o){var a,i,r={},P=[],d={},s=!1;if(p.isArray(o.component))for(i=0;i<o.component.length;i++)P[i]={typeId:o.component[i].typeId,filter:o.component[i].filter},d[o.component[i].typeId]=o.component[i];else P[0]={typeId:o.component.typeId,filter:o.component.filter},d[o.component.typeId]=o.component;if((a=e.getComponentsAdvanced(P)).length>0){for(i=0;i<a.length;i++)if(!a[i].isOnGlobalPage()&&n.isDisplayed(a[i])){s=!0;break}if(s){for(o.header&&((r=o.header.component instanceof e.Component?{component:o.header.component}:o.header.title?{title:o.header.title}:{title:e.getComponentType(o.component.typeId).title.plural}).hasWarnings=o.header.hasWarnings,function(t,o){var a="a-CV-componentGroup";t.markup("<div "),o.hasWarnings&&(a+=" "+n.CSS.IS_WARNING),t.attr("class",a),o.component instanceof e.Component&&t.attr("data-componenttypeid",o.component.typeId).attr("data-componentid",o.component.id),t.markup(">"),(o.component||o.title)&&(t.markup('<h4 class="a-CV-componentGroupTitle">'),o.component instanceof e.Component?t.markup('<span class="a-CV-componentGroupTitle-context">').content(e.getComponentType(o.component.typeId).title.singular).markup('</span><a class="edit" href="#" title="">').content(o.component.getDisplayTitle()).markup("</a>"):t.content(o.title),t.markup("</h4>"))}(t,r)),o.noComponentGrouping||t.markup('<ul class="a-CV-components">'),i=0;i<a.length;i++)!a[i].isOnGlobalPage()&&n.isDisplayed(a[i])&&(T(t,a[i],d[a[i].typeId].display),d[a[i].typeId].addSubComponents&&d[a[i].typeId].addSubComponents(t,a[i]));o.noComponentGrouping||t.markup("</ul>"),o.header&&function(e){e.markup("</div>")}(t)}}}function I(e,n){return n.find("#"+t.escapeCSS(O(e)))}function m(e){for(var n=0;n<d.length;n++)I(d[n],e).addClass(r)}function R(a,r){function P(e){var n=t.htmlBuilder(),i=p("#"+a.domId);o.trace("%s: CHANGE/ADD_PROP/REMOVE_PROP component notification received for display relevant properties",a.domId,e),r(n),i.empty().append(n.toString()),m(i)}function d(e){e&&O.push(e)}var s,E,c=[],O=[];if(d(a.display.seq),d(a.display.name),d(a.display.additional),d(a.display.type),d(a.pointPropertyId),c=a.componentTypeId?[{typeId:a.componentTypeId}]:a.components,a.addProperties)for(E=0;E<a.addProperties.length;E++)d(a.addProperties[E]);e.observer(i,{components:c,events:[e.EVENT.CREATE,e.EVENT.DELETE]},P,!0),e.observer(i,{components:c,events:[e.EVENT.CHANGE,e.EVENT.ADD_PROP,e.EVENT.REMOVE_PROP],properties:O},P,!0),e.observer(i,{components:c,events:[e.EVENT.ERRORS,e.EVENT.NO_ERRORS,e.EVENT.WARNINGS,e.EVENT.NO_WARNINGS]},(function(e){function t(n,t){n?I(e.component,s).addClass(t):I(e.component,s).removeClass(t)}s=p("#"+a.domId),t(e.component.hasErrors(),n.CSS.IS_ERROR),t(e.component.hasWarnings(),n.CSS.IS_WARNING)})),n.observerIsConditional(i,c,(function(e){s=p("#"+a.domId),I(e.component,s).removeClass(n.CSS.IS_CONDITIONAL),I(e.component,s).removeClass(n.CSS.IS_NEVER),n.isNever(e.component)?I(e.component,s).addClass(n.CSS.IS_NEVER):n.isConditional(e.component)&&I(e.component,s).addClass(n.CSS.IS_CONDITIONAL)}))}function u(n,t){function o(n){var o;for(o=0;o<t.points.length;o++)l(n,{header:{title:e.getLovTitle(t.componentTypeId,t.pointPropertyId,t.points[o])},component:{typeId:t.componentTypeId,filter:{properties:[{id:t.pointPropertyId,value:t.points[o]}]},display:t.display}})}E(n,{domId:t.domId,componentTypeId:t.componentTypeId,property:{id:t.pointPropertyId,value:t.defaultCreatePoint}}),o(n),c(n),R(t,o)}function C(n,t,o){var a,p={},i="";for(t instanceof e.Component?(i=t.id,p.component=t):(p.title=s("NO_REGION"),p.hasWarnings=!0),a=0;a<o.length;a++)o[a].filter.properties&&o[a].filter.properties.push({id:e.PROP.REGION,value:i});l(n,{header:p,component:o})}function _(n,t,o,a){u(n,{domId:t,componentTypeId:e.COMP_TYPE.PAGE_COMPUTATION,pointPropertyId:e.PROP.COMPUTATION_POINT,defaultCreatePoint:a,points:o,display:{seq:e.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-computation",name:e.PROP.COMPUTATION_ITEM_NAME,type:e.PROP.COMPUTATION_TYPE}})}function y(n,t,o,a){u(n,{domId:t,componentTypeId:e.COMP_TYPE.PAGE_PROCESS,pointPropertyId:e.PROP.PROCESS_POINT,defaultCreatePoint:a,points:o,display:{seq:e.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-process",name:e.PROP.NAME,type:e.PROP.PAGE_PROCESS_TYPE}})}function N(n,t,o){var a={},p={};t.hasOwnProperty("region")?(p=!1,a.properties=[{id:e.PROP.PARENT_REGION,value:t.region.id}]):t.hasOwnProperty("point")?(p.title=t.point.name,a.properties=[],a.properties.push({id:e.PROP.PARENT_REGION,value:""}),a.properties.push({id:e.PROP.REGION_POSITION,value:t.point.id})):t.hasOwnProperty("validPointsMap")&&(p.title=s("INVALID_POSITION"),p.hasWarnings=!0,a.filterFunction=function(){var n=this.getProperty(e.PROP.REGION_POSITION);return!!n&&!t.validPointsMap.hasOwnProperty(n.getValue())}),l(n,{header:p,component:{typeId:e.COMP_TYPE.REGION,filter:a,addSubComponents:function(e,n){N(e,{region:n},o+1)},display:{seq:e.PROP.DISPLAY_SEQUENCE,icon:"region",name:e.PROP.TITLE,type:e.PROP.REGION_TYPE,indent:o}},noComponentGrouping:o>0})}function A(n,t){C(n,t,[{typeId:e.COMP_TYPE.PAGE_ITEM,filter:{properties:[]},display:{seq:e.PROP.DISPLAY_SEQUENCE,icon:"item",name:e.PROP.ITEM_NAME,additional:function(){var n=this.getProperty(e.PROP.ITEM_LABEL);return n?n.getDisplayValue():""},type:e.PROP.ITEM_TYPE}},{typeId:e.COMP_TYPE.BUTTON,filter:{properties:[{id:e.PROP.BUTTON_POSITION,value:"BODY"}]},display:{seq:e.PROP.DISPLAY_SEQUENCE,icon:"button",name:e.PROP.BUTTON_LABEL,type:e.PROP.BUTTON_ACTION}}])}function g(n,t){var o=t instanceof e.Component?t.id:"";C(n,t,[{typeId:e.COMP_TYPE.BUTTON,filter:{filterFunction:function(){return this.getProperty(e.PROP.REGION).getValue()===o&&"BODY"!==this.getProperty(e.PROP.BUTTON_POSITION).getValue()}},display:{seq:e.PROP.DISPLAY_SEQUENCE,icon:"button",name:e.PROP.BUTTON_LABEL,type:e.PROP.BUTTON_ACTION}}])}function S(){var n,t,o,a,i,r=p(this),P=r.data("url"),d=r.data("componenttypeid")+"",s=r.data("propertyid"),E=r.data("propertyvalue"),c=[];P?(a=P,apex.navigation.redirect(a.replace(/\\u002525/g,"%").replace(/%25/g,"%").replace(/%session%/g,$v("pInstance")).replace(/%pk_value%/g,i).replace(/%application_id%/g,e.getCurrentAppId()).replace(/%page_id%/g,e.getCurrentPageId()))):(s&&c.push({id:s,value:E}),n=e.transaction.message({action:e.MESSAGE_ACTION.CREATE,component:d}),t=e.transaction.start("",n),o=new e.Component({previousComponent:"last",typeId:d,values:c}),apex.commandHistory.execute(t),window.pageDesigner.goToComponent(o.typeId,o.id))}function f(){var n=p(this).closest("[data-componentid]"),t=e.getComponents(n.data("componenttypeid"),{id:n.data("componentid")})[0];window.pageDesigner.goToComponent(t.typeId,t.id,n.data("propertyid"))}function v(e,n){e.empty().append(n.toString()).on("click","a.create",S).on("click","a.edit",f)}function M(n){var o=t.htmlBuilder();!function(n,t){function o(n){var t,o;for(N(n,{validPointsMap:(t=e.getPageTemplate()).displayPointsMap},0),o=0;o<t.displayPoints.length;o++)N(n,{point:t.displayPoints[o]},0)}E(n,{domId:t,componentTypeId:e.COMP_TYPE.REGION}),o(n),c(n),R({domId:t,components:[{typeId:e.COMP_TYPE.REGION},{typeId:e.COMP_TYPE.PAGE}],display:{seq:e.PROP.DISPLAY_SEQUENCE,name:e.PROP.TITLE,type:e.PROP.REGION_TYPE},addProperties:[e.PROP.PARENT_REGION,e.PROP.REGION_POSITION,e.PROP.PAGE_TEMPLATE,e.PROP.DIALOG_TEMPLATE]},o)}(o,"cvRenderingRegions"),function(n,t){function o(n){var t,o=e.getComponents(e.COMP_TYPE.REGION,{});for(g(n,null),t=0;t<o.length;t++)g(n,o[t])}E(n,{domId:t,componentTypeId:e.COMP_TYPE.BUTTON}),o(n),c(n),R({domId:t,components:[{typeId:e.COMP_TYPE.REGION},{typeId:e.COMP_TYPE.BUTTON}],display:{},addProperties:[e.PROP.DISPLAY_SEQUENCE,e.PROP.BUTTON_LABEL,e.PROP.BUTTON_ACTION,e.PROP.BUTTON_TARGET,e.PROP.REGION,e.PROP.TITLE]},o)}(o,"cvRenderingRegionButtons"),function(n,t){function o(n){var t,o=e.getComponents(e.COMP_TYPE.REGION,{});for(A(n,null),t=0;t<o.length;t++)A(n,o[t])}E(n,{domId:t,componentTypeId:e.COMP_TYPE.PAGE_ITEM}),o(n),c(n),R({domId:t,components:[{typeId:e.COMP_TYPE.REGION},{typeId:e.COMP_TYPE.PAGE_ITEM},{typeId:e.COMP_TYPE.BUTTON}],display:{},addProperties:[e.PROP.DISPLAY_SEQUENCE,e.PROP.ITEM_NAME,e.PROP.ITEM_LABEL,e.PROP.ITEM_TYPE,e.PROP.BUTTON_LABEL,e.PROP.BUTTON_ACTION,e.PROP.BUTTON_TARGET,e.PROP.REGION,e.PROP.TITLE]},o)}(o,"cvRenderingPageItems"),e.isGlobalPage()||(_(o,"cvRenderingComputations",["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],"AFTER_HEADER"),y(o,"cvRenderingProcesses",["ON_NEW_INSTANCE","BEFORE_HEADER","AFTER_HEADER","BEFORE_BOX_BODY","AFTER_BOX_BODY","BEFORE_FOOTER","AFTER_FOOTER"],"AFTER_HEADER"),function(n,t){var o={domId:t,componentTypeId:e.COMP_TYPE.DA_EVENT,display:{seq:e.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-da-event",name:e.PROP.NAME,additional:function(){var e,n;for(e=0;e<P.length;e++)if(n=this.getProperty(P[e]))return n.getDisplayValue();return""},type:e.PROP.EVENT}};function a(e){l(e,{header:!1,component:{typeId:o.componentTypeId,display:o.display}})}E(n,{domId:o.domId,componentTypeId:o.componentTypeId}),a(n),c(n),o.addProperties=P,R(o,a)}(o,"cvRenderingDynamicActions")),v(n,o)}function V(n){var o=t.htmlBuilder();e.isGlobalPage()||(_(o,"cvProcessingComputations",["AFTER_SUBMIT"],"AFTER_SUBMIT"),function(n,t){var o={domId:t,componentTypeId:e.COMP_TYPE.VALIDATION,display:{seq:e.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-validation",name:e.PROP.NAME,type:[e.PROP.VALIDATION_TYPE,e.PROP.REGION_VALIDATION_TYPE]}};function a(e){l(e,{header:!1,component:{typeId:o.componentTypeId,display:o.display}})}E(n,{domId:o.domId,componentTypeId:o.componentTypeId}),a(n),c(n),R(o,a)}(o,"cvProcessingValidations"),y(o,"cvProcessingProcesses",["ON_SUBMIT_BEFORE_COMPUTATION","AFTER_SUBMIT","ON_DEMAND"],"AFTER_SUBMIT"),function(n,t,o,a){u(n,{domId:t,componentTypeId:e.COMP_TYPE.BRANCH,pointPropertyId:e.PROP.BRANCH_POINT,defaultCreatePoint:a,points:o,display:{seq:e.PROP.EXECUTION_SEQUENCE,icon:"icon-tree-branch",name:e.PROP.NAME,type:e.PROP.BRANCH_TYPE}})}(o,"cvProcessingBranches",["BEFORE_COMPUTATION","BEFORE_VALIDATION","BEFORE_PROCESSING","AFTER_PROCESSING"],"AFTER_PROCESSING")),v(n,o)}function h(e){e.empty().off("click","a.create").off("click","a.edit")}p((function(){var n=p("#componentView-container"),t=p("#PDrenderingCV"),a=p("#PDprocessingCV");p(document).on("modelReady",(function(){M(t),V(a),p(document).on("selectionChanged."+i,(function(e,t,a){t!==i&&(o.trace("%s: selectionChanged event received from %s",i,t,a),n.find("li.a-CV-component."+r).removeClass(r),d=a,m(n))})),p(document).one("modelCleared",(function(){e.unobserver(i,{}),p(document).off("selectionChanged."+i),d=[],h(t),h(a)}))}))}))}(pe,window.pageDesigner,apex.util,apex.debug,apex.lang,apex.jQuery);
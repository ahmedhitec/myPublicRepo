!function(t,e,a,r,i){"use strict";var n="a-PropertyEditor-propertyGroup",s=n+"-header",o=n+"-body",l="a-Property",p=l+"-field",u="js-showAll",d="a-Button",c="is-variable",h="a-Icon",m="u-hidden",y={COMBOBOX:"COMBOBOX",NUMBER:"NUMBER",INTEGER:"INTEGER",SELECT_LIST:"SELECT LIST",TEXT:"TEXT",TEXTAREA:"TEXTAREA",YES_NO:"YES NO",PILL_BUTTONS:"PILL BUTTONS",CHECKBOXES:"CHECKBOXES",RADIOS:"RADIOS",COLOR:"COLOR",POPUP_LOV:"POPUP LOV"},f={};function v(t){return i.getMessage("PE."+t)}function g(t){var e=v(t),a=[e].concat(Array.prototype.slice.call(arguments,1));return i.format.apply(this,a)}function k(t){var e=v(t),a=[e].concat(Array.prototype.slice.call(arguments,1));return i.formatNoEscape.apply(this,a)}function C(e,a){var r=t.extend({class:"",style:""},a);e.markup("<div"),r.class&&e.attr("class",t.isArray(r.class)?r.class.join(" "):r.class),r.style&&e.attr("style",r.style),e.markup(">")}function P(t){t.markup("</div>")}function b(t,e,a){t.markup("<span").attr("class",e).attr("aria-hidden",!0).markup("></span>"),a&&t.markup("<span").attr("class","u-vh").markup(">").content(a).markup("</span>")}function D(t){var e={},a=t.metaData;return a&&a.multiSelectData&&a.multiSelectData.indeterminateMap&&(e=a.multiSelectData.indeterminateMap),e}function E(t){var e,a=!1,r=t.value;t.metaData&&t.metaData.multiSelectData;return r.constructor===Object&&0===Object.keys(r).length?a=!0:(e=D(t)).hasOwnProperty(r)&&(a=e[r]),a}function _(t){return"[data-group-id='"+e.escapeCSS(t)+"']"}function x(t){return"[data-property-id='"+e.escapeCSS(t)+"']"}var S={},O={renderDivOpen:C,renderDivClose:P,renderIcon:b,stacked:!1,noLabel:!1,labelVisible:!0,render:function(t,e,a,r){},init:function(t,e,a){this.addKeyboardHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e)},destroy:function(t,e){t.closest("div."+l).off()},validate:function(){},setValue:function(t,e,a,r){t.val(a),e.value=a},addValue:function(t,e,a){var r,i=!1,n=t.val(),s=n?n.split(e.metaData.multiValueDelimiter):[];for(r=0;r<s.length;r++)if(a===s[r]){i=!0;break}i||s.push(a),t.val(s.join(e.metaData.multiValueDelimiter))},getValue:function(t){var e=t.find("[data-property-id]").val();return t.hasClass(c)&&""===e&&(e=f),e},getDisplayValue:function(t,e){return t.value},setFocus:function(t){t[0].focus()},renderCommonAttributes:function(t,e,a){t.attr("id",e).attr("data-property-id",a.propertyName).optionalAttr("aria-required",a.metaData.isRequired?"true":null).optionalAttr("aria-invalid",a.errors.length>0?"true":null)},commonAttributes:function(t){var e={};return e["data-property-id"]=t.propertyName,e["aria-required"]=t.metaData.isRequired,e["aria-invalid"]=t.errors.length>0,e},renderBaseInput:function(e,a){var r,i,n=t.extend({id:"",type:"text",value:"",inputClass:[],data:{},readonly:!1,maxLength:"",attributes:{}},a);if(e.markup("<input").attr("id",n.id).attr("type",n.type).attr("value",n.value).optionalAttr("readonly",n.readonly),n.inputClass.length>0&&e.attr("class",t.isArray(n.inputClass)?n.inputClass.join(" "):n.inputClass),n.maxLength&&e.attr("maxlength",n.maxLength),n.ariaDescribedBy&&e.attr("aria-describedby",n.ariaDescribedBy),!t.isEmptyObject(n.data))for(i in n.data)n.data.hasOwnProperty(i)&&e.attr("data-"+i,n.data[i]);if(!t.isEmptyObject(n.attributes))for(r in n.attributes)n.attributes.hasOwnProperty(r)&&e.attr(r,n.attributes[r]);e.markup(" />")},renderText:function(e,a,r,i){var n,s=r.value,o=!1,l=[],u={},d=s===f;i=t.extend({class:"a-Property-field--text",type:"text",textCase:r.metaData.textCase,manualEntry:!0,attributes:{}},i),l.push(p),l.push(i.class),i.textCase&&l.push(this.getTextCaseClass(i.textCase)),r.metaData.isReadOnly&&(o=!0,l.push("a-Property-field--readOnly"),d||(s=S[r.metaData.type].getDisplayValue(r))),i.manualEntry||(o=!0,l.push("a-Property-field--readOnly"),d||""===r.value||(u["return-value"]=r.value,r.metaData.lovValues((function(e){var a,i=t(x(r.propertyName));a=e.length>0&&e[0].r===r.value?e[0].d:r.value,S[r.metaData.type].setValue(i,r,r.value,this.options.data.lastComponents,a)}),{id:r.value}))),d&&(s="",l.push(c)),n={id:a,type:i.type,value:s,inputClass:l,data:u,attributes:t.extend(i.attributes,this.commonAttributes(r)),readonly:o},r.metaData.maxLen&&(n.maxLength=r.metaData.maxLen),r.metaData.unit&&(n.ariaDescribedBy=n.id+"_unit"),this.renderBaseInput(e,n)},renderOption:function(t,e,a){return t.markup("<option").attr("value",e.r).optionalAttr("selected",e.r===a?"true":null),e.hasOwnProperty("isSupported")&&t.attr("data-is-supported",e.isSupported?"true":"false"),e.hasOwnProperty("isLegacy")&&t.attr("data-is-legacy",e.isLegacy?"true":"false"),t.markup(">").content(e.d).markup("</option>"),e.r===a},renderLovValues:function(e,a,r){var i,n=a,s=!1;for(t.isFunction(n)&&(n=n()),i=0;i<n.length;i++)n[i].hasOwnProperty("group")?(e.markup("<optgroup").attr("label",n[i].group).markup(">"),this.renderLovValues(e,n[i].values,r)&&(s=!0),e.markup("</optgroup>")):this.renderOption(e,n[i],r)&&(s=!0);return s},renderIconButton:function(e,a){var r=t.extend({id:"",icon:"",text:"",dataFor:null,disabled:!1,isMenuButton:!1,addContainer:!1,containerClass:"",buttonClass:""},a);r.addContainer&&this.renderDivOpen(e,{class:"a-Property-buttonContainer"+(r.containerClass?" "+r.containerClass:"")}),e.markup("<button type='button'").attr("id",r.id).attr("class","a-Button a-Button--small a-Button--noLabel a-Button--withIcon"+(r.buttonClass?" "+r.buttonClass:"")+(r.isMenuButton?" js-menuButton":"")).attr("title",r.text).attr("aria-label",r.text).optionalAttr("disabled",r.disabled),r.dataFor&&e.attr("data-for",r.dataFor),r.isMenuButton&&e.attr("aria-haspopup","true").attr("aria-expanded","false").attr("data-menu",r.id+"_menu"),e.markup(">"),this.renderIcon(e,r.icon),e.markup("</button>"),r.addContainer&&this.renderDivClose(e)},addValueVariesStateStyle:function(a,r,i,n){var s=e.htmlBuilder(),o=e.htmlBuilder();a.addClass(c),r.addClass(c),n.renderIcon(s,"a-Icon icon-variable"),o.markup("<span").attr("class","u-vh").markup(">").content(v("VALUE_VARIES_POSTFIX")).markup("</span>"),t("#"+i+"_label").prepend(s.toString()).append(o.toString())},removeValueVariesStateStyle:function(e,a){var r=t("#"+e.attr("id")+"_label");e.removeClass(c),a.removeClass(c),r.find("span.icon-variable").remove().end().find("span.u-vh").remove()},addKeyboardHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+l),n=e.attr("id"),i.on("keydown","#"+n,(function(e){var s=t(this);e.which===t.ui.keyCode.ESCAPE&&a.value===f&&(r.addValueVariesStateStyle(s,i,n,r),setTimeout((function(){s[0].value=""}),1))})).on("keypress","#"+n,(function(e){var a=t(this);e.which&&a.hasClass(c)&&r.removeValueVariesStateStyle(a,i)})))},addChangeHandlersForVariesState:function(e,a){var r,i,n;a.metaData.isReadOnly||(r=this,i=e.closest("div."+l),n=e.attr("id"),i.on("change","#"+n,(function(e){var s=t(this),o=s.val();s.hasClass(c)?r.removeValueVariesStateStyle(s,i):""===o&&a.value===f&&r.addValueVariesStateStyle(s,i,n,r)})))},addTooltipsForErrors:function(t,e){var a=t.attr("id");t.tooltip().off("mouseover mouseout"),e.errors.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.errors.length;r++)a+="<li>"+e.errors[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}}),e.warnings.length>0&&t.tooltip({items:"#"+a,content:function(t){var a,r;for(a="<ul>",r=0;r<e.warnings.length;r++)a+="<li>"+e.warnings[r]+"</li>";t(a+="</ul>")},position:{my:"left bottom",at:"left top",of:"#"+a+"_label"}})},initQuickPicks:function(e,a){var r,i,n,s,o,l,p=[];function u(){e.val(this.value).trigger("change")}if(a.metaData.quickPicks&&(o=(s=a.metaData.quickPicks()).length,!a.metaData.isReadOnly&&o>0)){for(a.metaData.isRequired||(void 0===a.metaData.nullText?(p.push({type:"action",label:v("QUICK_PICK.CLEAR"),hide:function(){return""===e.val()},action:function(){e.val("").trigger("change")}}),p.push({type:"separator",hide:function(){return""===e.val()}})):p.push({type:"action",label:a.metaData.nullText,action:function(){e.val("").trigger("change")}})),r=0;r<o;r++)n={type:"action",label:s[r].d,value:s[r].r,action:u},s[r].icon&&(n.icon=s[r].icon),s[r].iconStyle&&(n.iconStyle=s[r].iconStyle),p.push(n);i=e.attr("id")+"_quickPickBtn_menu",0===(l=t("#"+i)).length&&(l=t("<div id='"+i+"'></div>").appendTo("body")),l.menu({items:p}),a.metaData.hasInitQuickPick=!0}},removeQuickPick:function(e,a){var r;a.metaData.hasInitQuickPick&&(r=e.attr("id")+"_quickPickBtn_menu",t("#"+r).remove())},addLabelClickHandler:function(t,e){var a=this,r=t.closest("div."+l),i=t.attr("id");r.on("click","#"+i+"_label",(function(r){a.setFocus(t,e)}))},renderQuickPickButton:function(t,e,a,r){var i,n=!!r;a.metaData.quickPicks&&(i=a.metaData.quickPicks(),a.metaData.isReadOnly||i.length>0&&this.renderIconButton(t,{id:e+"_quickPickBtn",icon:"a-Icon icon-quick-pick",text:k("QUICK_PICK",a.metaData.prompt),isMenuButton:!0,addContainer:n,buttonClass:"a-Button--quickPick"}))},renderRadioCheckbox:function(e,a,r,i,n){var s,o,l,p,u,d,h,m,f,v=t.isEmptyObject(r.value),g=D(r),k="N";i===y.CHECKBOXES?(l="checkbox",p="a-Property-checkbox",u="a-Property-checkbox-input",d="a-Property-checkbox-label"):(l="radio",p="a-Property-radio",u="a-Property-radio-input",d="a-Property-radio-label"),o=a+(s=t.extend({type:l,name:a+"_name",inputValue:null,inputLabel:null,currentValue:v?r.value:r.value.split(":")},n)).inputValue,this.renderDivOpen(e,{class:p}),e.markup("<input").attr("type",s.type).attr("id",o).attr("value",s.inputValue).attr("name",s.name).attr("class",u).optionalAttr("checked",(h=s.inputValue,m=s.currentValue,f=!1,v?!0===g[h]?(k="Y",f=!1):(k="N",f=g.hasOwnProperty(h)):f=-1!==t.inArray(h,m),f)).attr(v?"data-"+c:null,k).markup(" />"),e.markup("<label").attr("for",o).attr("class",d).markup(">"),s.icon?e.markup('<span class="a-Icon '+s.icon+'" aria-hidden="true"></span>').markup('<span class="u-VisuallyHidden">').content(s.inputLabel).markup("</span>"):e.content(s.inputLabel),e.markup("</label>"),this.renderDivClose(e)},renderRadiosCheckboxes:function(e,a,r,i){var n,s,o=[],l=[],p=a+"_label";if(o.push("a-Property-fieldContainer"),i===y.CHECKBOXES?(o.push("a-Property-fieldContainer--checkboxGroup"),l.push("a-Property-checkboxGroup")):i===y.RADIOS&&(o.push("a-Property-fieldContainer--radioGroup"),l.push("a-Property-radioGroup")),this.renderDivOpen(e,{class:o}),r.metaData.isReadOnly)this.renderText(e,a,r);else{if(r.value===f&&l.push(c),e.markup("<div").attr("role","group").attr("class",l.join(" ")).attr("aria-labelledby",p).attr("tabindex","-1"),this.renderCommonAttributes(e,a,r),e.markup(">"),r.metaData.type!==y.YES_NO)for(s=r.metaData.lovValues,t.isFunction(s)&&(s=s()),n=0;n<s.length;n++)this.renderRadioCheckbox(e,a,r,i,{inputValue:s[n].r,inputLabel:s[n].d,icon:s[n].icon});else this.renderRadioCheckbox(e,a,r,i,{inputValue:r.metaData.yesValue,inputLabel:v("YES")}),this.renderRadioCheckbox(e,a,r,i,{inputValue:r.metaData.noValue,inputLabel:v("NO")});this.renderDivClose(e)}this.renderDivClose(e)},getTextCaseClass:function(t){var e="";return"UPPER"===t?e="u-textUpper":"LOWER"===t&&(e="u-textLower"),e}};function I(e,a,r){var i,n,s,o;(i=r?S[r]:O,a||!r)?((n=t.extend(Object.create(i),a)).super=(s=Array.prototype.slice,o=n.super,function(t){var e,a=s.call(arguments,1),r=this.super;return this.super=o,e=i[t].apply(this,a),this.super=r,e}),S[e]=n):S[e]=i}I(y.TEXT,{render:function(t,e,a,r,i){this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),this.renderText(t,e,a,i),this.renderDivClose(t),this.renderQuickPickButton(t,e,a,!0)},init:function(t,e,a){this.initQuickPicks(t,e),this.super("init",t,e)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.NUMBER,{init:function(e,a,i){a.metaData.isReadOnly||a.metaData.supportsSubstitution||e.on("keydown",(function(e){var a=r.getDecimalSeparator(),i=[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,110,189];"."===a?i.push(190):","===a&&i.push(188),-1===t.inArray(e.which,i)&&e.preventDefault()})),this.super("init",e,a,i)}},y.TEXT),I(y.INTEGER,{init:function(e,a,r){a.metaData.isReadOnly||a.metaData.supportsSubstitution||e.on("keydown",(function(e){-1===t.inArray(e.which,[8,9,13,37,39,45,46,48,49,50,51,52,53,54,55,56,57,96,97,98,99,100,101,102,103,104,105,107,109,189])&&e.preventDefault()})),this.super("init",e,a,r)}},y.TEXT),I(y.TEXTAREA,{stacked:!0,render:function(t,e,a,r,i){var n,s=p+" a-Property-field--textarea";this.renderDivOpen(t,{class:"a-Property-buttonContainer"}),i&&this.renderIconButton(t,{id:e+"_modalBtn",icon:"a-Icon icon-open-in-dialog",text:k("CODE_EDITOR",a.metaData.prompt),buttonClass:"a-Button--simple"}),this.renderQuickPickButton(t,e,a),this.renderDivClose(t),this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),(n=a.value)===f&&(n="",s+=" "+c),s+=" "+this.getTextCaseClass(a.metaData.textCase),t.markup("<textarea rows=3").attr("maxlength",a.metaData.maxLen).attr("class",s).optionalAttr("readonly",a.metaData.isReadOnly?"true":null),this.renderCommonAttributes(t,e,a),t.markup(">").content(n).markup("</textarea>"),this.renderDivClose(t)},init:function(t,e,a){var r=t.prop("scrollHeight");r>50&&(r>150&&(r=150),t.height(r)),this.initQuickPicks(t,e),this.super("init",t,e,a)},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.COMBOBOX,{manualEntry:!0,render:function(t,e,a,r){this.renderDivOpen(t,{class:["a-Property-fieldContainer","a-Property-fieldContainer--comboBox"]}),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_lovBtn",icon:"a-Icon icon-popup-lov",text:k("LIST_OF_VALUES",a.metaData.prompt),addContainer:!0,containerClass:"a-Property-buttonContainer--comboBox"}),this.renderQuickPickButton(t,e,a,!0)},init:function(a,r,i,n){var s=this,o=t.extend({columnDefinitions:[{name:"d",title:r.metaData.prompt}],filters:[{name:"search",title:v("SEARCH"),type:"search"}],filterLov:function(e,a){t.isFunction(r.metaData.lovValues)?r.metaData.lovValues((function(t){s.manualEntry||r.metaData.isRequired||t.unshift({r:"",d:void 0!==r.metaData.nullText?r.metaData.nullText:v("SELECT")}),a(t,e.search)}),e):a(r.metaData.lovValues,e.search)},multiValue:!1,dialogTitle:k("PICK",r.metaData.prompt),resultsDisplay:"table"},n);var l=t("#"+a.attr("id")+"_lovBtn");this.super("init",a,r,i),l.on("click",(function(){var n=e.htmlBuilder();n.markup("<div").attr("id","lovDlg").attr("title",o.dialogTitle).markup(">").markup("</div>"),t(n.toString()).lovDialog({modal:!0,minWidth:520,height:500,filters:o.filters,columnDefinitions:o.columnDefinitions,filterLov:o.filterLov,dialogClass:"ui-dialog-flushBody",resizable:!1,multiValue:o.multiValue,valueSelected:function(t,e){var n,l;n=void 0!==e.r?e.r:e[o.columnDefinitions[0].name],s.manualEntry||(l=e.d?e.d:n),r.metaData.multiValueDelimiter?s.super("addValue",a,r,n):s.setValue(a,r,n,i,l),a.trigger("change")},resultsDisplay:o.resultsDisplay})})),l.prop("disabled",r.metaData.isReadOnly),this.initQuickPicks(a,r)},setValue:function(t,e,a,r,i){this.manualEntry?t.val(a):(t.data("return-value",a),i&&t.val(i)),e.value=a},getValue:function(t){return this.manualEntry?this.super("getValue",t):t.find("[data-property-id]").data("return-value")},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.CHECKBOXES,{noLabel:!0,render:function(t,e,a,r){this.renderRadiosCheckboxes(t,e,a,y.CHECKBOXES)},init:function(e,a,r){this.addChangeHandlersForVariesState(e,a),this.addLabelClickHandler(e,a),this.addTooltipsForErrors(e,a),a.metaData.isReadOnly||t.isEmptyObject(a.value)&&""!==a.value&&(e.find("input[data-"+c+"=Y]").prop("indeterminate",!0),e.find("input").on("click",(function(){var r,i,n=a.metaData.multiSelectData?a.metaData.multiSelectData.components:[],s="general"===a.propertyName?a.propertyId:a.propertyName;for(t(this).prop("indeterminate",!1).removeAttr("data-is-variable"),r=function(){var a=[];return e.find("input").each((function(){var e=t(this);e.prop("indeterminate")&&a.push(e.val())})),a}(),i=0;i<n.length;i++)n[i].getProperty(s)._indeterminateValues=r})))},getValue:function(t){var e=[];return t.find("input").each((function(){this.checked&&e.push(this.value)})),e.join(":")},getDisplayValue:function(e,a){var r,i,n,s=[],o=e.value.split(":");if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r){for(n=0;n<r.length;n++)t.inArray(r[n].r,o)>-1&&s.push(r[n].d);i=s.join(":")}return i},setValue:function(e,a,r,i){var n=e.find("input"),s=r.split(":");n.prop("checked",!1),n.each((function(){var e=t(this);t.inArray(e.val(),s)>-1&&e.prop("checked",!0)})),a.value=r},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),I(y.RADIOS,{noLabel:!0,render:function(t,e,a,r){this.renderRadiosCheckboxes(t,e,a,y.RADIOS)},init:function(t,e,a){this.addChangeHandlersForVariesState(t,e),this.addLabelClickHandler(t,e),this.addTooltipsForErrors(t,e)},getValue:function(t){var e="";return t.find("input").each((function(){if(this.checked)return e=this.value,!1})),e},getDisplayValue:function(e,a){var r,i,n;if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r)for(n=0;n<r.length;n++)if(r[n].r===e.value){i=r[n].d;break}return i},setValue:function(e,a,r,i){e.find("input").each((function(){var e=t(this);if(e.prop("checked")){if(e.val()===r)return!1;e.prop("checked",!1)}else if(e.val()===r)return e.prop("checked",!0),!1})),a.value=r},setFocus:function(t,e){e.metaData.isReadOnly?t[0].focus():t.find(":input")[0].focus()}}),I(y.YES_NO,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||e.value===f&&t.prop("indeterminate",!0)},getDisplayValue:function(t,e){return t.metaData.yesValue===t.value?v("YES"):v("NO")},render:function(e,a,r,i,n){var s,o=a+"_label",l="a-Switch";t.extend({type:"checkbox",name:a+"_name",inputValue:null,inputLabel:null},n),s=a,this.renderDivOpen(e,{class:"a-Property-fieldContainer a-Property-fieldContainer--switch"}),r.metaData.isReadOnly?this.renderText(e,a,r):(r.value===f&&(l+=" "+c),e.markup("<label").attr("for",s).attr("class",l).attr("aria-labelledby",o).markup(">"),e.markup("<input").attr("type","checkbox").attr("id",s).attr("data-property-id",r.propertyName).attr("value",r.metaData.yesValue).optionalAttr("checked",r.value===r.metaData.yesValue?"true":null).markup(" />"),e.markup("<span class='a-Switch-toggle'></span>"),e.markup("</label>")),this.renderDivClose(e)},getValue:function(t,e){return t.find("input").prop("checked")?e.metaData.yesValue:e.metaData.noValue},setValue:function(t,e,a){t.prop("checked",a===e.metaData.yesValue?"true":null),e.value=a},setFocus:function(t,e){t[0].focus()}},y.CHECKBOXES),I(y.PILL_BUTTONS,{init:function(t,e,a){this.super("init",t,e,a),e.metaData.isReadOnly||t.addClass("a-Property-radioGroup--buttonSet")}},y.RADIOS),I(y.SELECT_LIST,{render:function(t,e,a,r,i){var n=p+" a-Property-field--select",s=a.value,o=(a.metaData.multiSelectData,!1),l=E(a);this.renderDivOpen(t,{class:"a-Property-fieldContainer"}),a.metaData.isReadOnly?this.renderText(t,e,a):(l&&(n+=" "+c),t.markup("<select size=1").attr("class",n),this.renderCommonAttributes(t,e,a),t.markup(">"),l?(o=this.renderOption(t,{r:"",d:""},""),a.metaData.isRequired||this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:v("SELECT")},null),s=""):a.metaData.isRequired&&""!==s||(o=this.renderOption(t,{r:"",d:void 0!==a.metaData.nullText?a.metaData.nullText:v("SELECT")},s)),this.renderLovValues(t,a.metaData.lovValues,s)||o||this.renderOption(t,{r:s,d:g("INVALID",s)},s),t.markup("</select>")),P(t),this.renderQuickPickButton(t,e,a,!0),i&&this.renderIconButton(t,{id:e+"_btn",icon:i.icon,text:i.text,addContainer:!0})},init:function(t,e,a){this.addChangeHandlersForVariesState(t,e),this.addTooltipsForErrors(t,e),this.initQuickPicks(t,e)},getDisplayValue:function(e,a){var r,i;if(""!==e.value){if(r=e.metaData.lovValues,t.isFunction(r)&&(r=r()),r)for(var n=0;n<r.length;n++)if(r[n].r===e.value){i=r[n].d;break}}else i=e.metaData.nullText?e.metaData.nullText:e.value;return i},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}}),I(y.COLOR,{render:function(t,e,a,r){var i=["#FF3B30","#FF9500","#FFCC00","#4CD964","#34AADC","#007AFF","#5856D6","#FF2D55","#FFFFFF","#C7C7CC","#8E8E93","#000000"];this.renderDivOpen(t,{class:["a-Property-fieldContainer","a-Property-fieldContainer--colorPicker"]}),t.markup("<span").attr("id",e+"_preview").attr("class","a-Property-colorPreview").markup(">").markup("</span>"),this.renderText(t,e,a,{manualEntry:this.manualEntry}),this.renderDivClose(t),this.renderIconButton(t,{id:e+"_picker",icon:"a-Icon icon-color-picker",text:k("COLOR_PICKER",a.metaData.prompt),addContainer:!0,containerClass:"a-Property-buttonContainer--colorPicker"}),a.metaData.quickPicks=function(){var t,e=[];for(t=0;t<i.length;t++)e.push({d:i[t],r:i[t],icon:"a-Icon icon-circle",iconStyle:"color: "+i[t]+";"});return e},this.renderQuickPickButton(t,e,a,!0)},init:function(e,a,r){var i=this,n=e.attr("id"),s=t("#"+n+"_picker"),o=t("#"+n+"_preview");this.super("init",e,a,r),e.ColorPicker({eventName:"xxx",onSubmit:function(t,a,r,i){e.trigger("change").ColorPickerHide()},onBeforeShow:function(){t(this).ColorPickerSetColor(this.value)},onShow:function(e){return t(e).fadeIn("fast").position({my:"right top",at:"right bottom",of:"#"+n+"_picker"}).css("z-index",200),!1},onHide:function(a){return t(a).fadeOut("fast"),e.trigger("change"),!1},onChange:function(a,r,i){var n=e.attr("id"),s=t("#"+n+"_preview"),o="#"+r.toUpperCase();s.css("background-color",o),e.val(o)}}).ColorPickerHide(),e.on("change",(function(t){var n=t.target;n.value=n.value.toUpperCase(),i.setValue(e,a,n.value,r)})),s.on("click",(function(t){e.ColorPickerShow(),t.preventDefault()})),o.css("background-color",e.val()),this.initQuickPicks(e,a)},setValue:function(e,a,r){var i=e.attr("id"),n=t("#"+i+"_preview");e.val(r),n.css("background-color",r),a.value=r},destroy:function(t,e){this.removeQuickPick(t,e),this.super("destroy",t,e)}},y.TEXT),I(y.POPUP_LOV,{manualEntry:!1,init:function(t,e,a){this.super("init",t,e,a)}},y.COMBOBOX),t.widget("apex.propertyEditor",{version:"5.1",widgetEventPrefix:"propertyeditor",baseId:null,nextId:1,idMap:{},propMap:{},currentPropertyName:null,hasSearchField:!1,options:{data:{propertySet:[],lastComponents:null},idPrefix:null,showAll:!1,labelsAlwaysAbove:!1,hideDisplayGroups:!1,searchable:!1,searchKey:null,pinSearch:!1,stackLabelsWidth:280,focusPropertyName:null,externalEdit:null,expand:null,collapse:null,activate:null,deactivate:null,change:null},_create:function(){var e=this.options;if(!e.data||!e.data.propertySet)throw"Missing required data option.";this.baseId=(e.idPrefix||this.element[0].id||"pe")+"_",this.element.addClass("a-PropertyEditor"),this.options.showAll&&this.element.addClass(u),this._on(this._eventHandlers),this.options.searchable&&this._on(this.element.prev(),this._SearchEventHandlers),this.refresh(),this.options.labelsAlwaysAbove?this.element.addClass("a-PropertyEditor--stacked"):this.element.hasClass("resize")?(this._on({resize:function(e){this.options.labelsAlwaysAbove||this.element.toggleClass("a-PropertyEditor--stacked",t(e.target).width()<this.options.stackLabelsWidth)}}),this.element.toggleClass("a-PropertyEditor--stacked",this.element.width()<this.options.stackLabelsWidth)):this.element.removeClass("a-PropertyEditor--stacked")},_eventHandlers:{click:function(e){var a=null,r=t(e.target);r.is("."+s)?a=r.parent():r.parent("."+s).length>0&&(a=r.parent().parent()),a&&this._toggle(a),r.attr("id")===this.baseId+"externalEdit"&&this.options.externalEdit()},keydown:function(e){var a=null,r=!1,i=t.ui.keyCode,n=e.keyCode,o=t(e.target);o.is("."+s)&&(n===i.HOME?a=o.parent().parent().children(":visible").first():n===i.END?a=o.parent().parent().children(":visible").last():n===i.DOWN?0===(a=o.parent().nextAll().filter(":visible").first()).length&&(a=o.parent().parent().children(":visible").first()):n===i.UP?0===(a=o.parent().prevAll().filter(":visible").first()).length&&(a=o.parent().parent().children(":visible").last()):n===i.LEFT?(this._collapse(o.parent()),r=!0):n===i.RIGHT?(this._expand(o.parent()),r=!0):n!==i.SPACE&&n!==i.ENTER||(this._toggle(o.parent()),r=!0),r&&e.preventDefault(),a&&(a.children("."+s)[0].focus(),e.preventDefault()))},"focusin div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");a.addClass("is-active is-focused"),this._activate(a)},"focusout div.a-Property":function(e){t(e.target).closest("div.a-Property").removeClass("is-active is-focused")},"change div.a-Property":function(e){var a=t(e.target).closest("div.a-Property");this._checkForChange(a)},"focusin div.a-PropertyEditor-propertyGroup-header":function(e){this._deactivate(),t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").addClass("is-focused")},"focusout div.a-PropertyEditor-propertyGroup-header":function(e){t(e.target).closest("div.a-PropertyEditor-propertyGroup-header").removeClass("is-focused")}},_SearchEventHandlers:{"keyup input.a-Property-field--filter":function(e){27===e.which?(this.clearSearch(),this.expandAll()):this.search(t(e.target).val())},"click button.a-Button--stickyFilter":function(e){var a=this.options;t(e.currentTarget).toggleClass("is-active").hasClass("is-active")?a.pinSearch=!0:(a.pinSearch=!1,a.searchKey=null)}},_destroy:function(){this.element.removeClass("a-PropertyEditor "+u).empty()},_setOption:function(t,e){var a,r,i,n;if("data"===t)for(i=this.options.data.propertySet,a=0;a<i.length;a++)for(n=i[a],r=0;r<n.properties.length;r++)S[n.properties[r].metaData.type].destroy(this._getElement(n.properties[r]),n.properties[r]);if(this._super(t,e),"data"===t){if(!e.propertySet)throw"Missing required properties.";this.refresh()}else"showAll"===t?this.element.toggleClass(u,!!e):"labelsAlwaysAbove"===t&&(e?this.element.addClass("a-PropertyEditor--stacked"):this.element.hasClass("resize")?this.element.toggleClass("a-PropertyEditor--stacked",this.element.width()<this.options.stackLabelsWidth):this.element.removeClass("a-PropertyEditor--stacked"))},_callPropertyInit:function(t){var e=t.propertyName,a=this.element.find(x(e));S[t.metaData.type].init(a,t,this.options.data.lastComponents)},_renderLabel:function(t,a){var r=e.htmlBuilder(),i=a.errors.length>0,n=a.warnings.length>0,s=E(a),o="a-Property-label",l=[],p=this._getId(a)+"_label";l.push("a-Property-labelContainer"),S[a.metaData.type].labelVisible?(i||n||s)&&(o+=" a-Property-label--withIcon"):(o+=" u-vh",l.push("a-Property-labelContainer--hiddenLabel")),C(t,{class:l}),S[a.metaData.type].noLabel?t.markup("<span").attr("id",p).attr("class",o).markup(">"):t.markup("<label").attr("id",p).attr("for",this._getId(a)).attr("class",o).markup(">"),S[a.metaData.type].labelVisible&&(i&&b(r,"a-Icon icon-error"),n&&b(r,"a-Icon icon-warning"),s&&b(r,"a-Icon icon-variable")),t.markup(r.html),t.content(a.metaData.prompt),S[a.metaData.type].labelVisible&&(i&&t.markup("<span").attr("class","u-vh").markup(">").content(v("ERROR_POSTFIX")).markup("</span>"),n&&t.markup("<span").attr("class","u-vh").markup(">").content(v("WARNING_POSTFIX")).markup("</span>"),s&&t.markup("<span").attr("class","u-vh").markup(">").content(v("VALUE_VARIES_POSTFIX")).markup("</span>")),S[a.metaData.type].noLabel?t.markup("</span>"):t.markup("</label>"),P(t)},_countVisibleProperties:function(t){var e,a,r,i=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1;for(e=0,a=0;a<t.length;a++)r=t[a],i&&r.metaData.isUnique||this._isCommon(r)&&(e+=1);return e},_renderDisplayGroup:function(t,e,a){var r,i,l,p,d,c,h,m,y=!!this.options.data.lastComponents&&this.options.data.lastComponents.length>1,f=e.properties;if(p=f.length,m=n,this.options.hideDisplayGroups)for(r=0;r<p;r++)i=f[r],y&&i.metaData.isUnique||this._renderProperty(t,i);else{for(d=this._countVisibleProperties(f),(h=!e.collapsed)?(l="a-Icon icon-down-arrow",m+=" is-expanded"):l="a-Icon icon-right-arrow",0===d&&(m+=" "+u),c=this.baseId+"g_"+a,t.markup("<div role='group'").attr("class",m).attr("data-group-id",e.displayGroupId).attr("aria-labelledby",c+"_LABEL").markup(">"),t.markup("<div tabindex='0'").attr("class",s).attr("aria-controls",c).attr("aria-expanded",h?"true":"false").attr("aria-labelledby",c+"_LABEL").markup(">"),b(t,l),t.markup("<h2").attr("class","a-PropertyEditor-propertyGroup-title").attr("id",c+"_LABEL").markup(">").content(e.displayGroupTitle).markup("</h2>"),P(t),t.markup("<div").attr("id",c).attr("class",o),h||t.attr("style","display:none;"),t.markup(">"),r=0;r<p;r++)i=f[r],y&&i.metaData.isUnique||this._renderProperty(t,i);P(t),P(t)}},_renderDisplayGroups:function(t){var e,a=this.options.data.propertySet;for(e=0;e<a.length;e++)this._renderDisplayGroup(t,a[e],e)},_renderProperty:function(t,e){var a,r=this.options.data.lastComponents,i=[l];e.hasChanged&&i.push("is-changed"),S[e.metaData.type].stacked&&i.push("a-Property--stacked"),S[e.metaData.type].minHeight&&(a="min-height: "+S[e.metaData.type].minHeight+"px;"),S[e.metaData.type].maxHeight&&(a="max-height: "+S[e.metaData.type].maxHeight+"px;",i.push("a-Property--scrollable")),S[e.metaData.type].height&&(a="max-height: "+S[e.metaData.type].height+"px;",i.push("a-Property--scrollable")),e.errors.length>0&&i.push("is-error"),e.warnings.length>0&&i.push("is-warning"),E(e)&&i.push(c),this._isCommon(e)||i.push(u),C(t,{class:i,style:a}),e.metaData.isRequired&&b(t,"a-Icon icon-required"),this._renderLabel(t,e),S[e.metaData.type].render(t,this._getId(e),e,r),e.metaData.unit&&(t.markup("<div").attr("class","a-Property-unitContainer").markup(">"),t.markup("<span").attr("class","a-Property-unit").attr("id",this._getId(e)+"_unit").markup(">").content(e.metaData.unit).markup("</span>"),t.markup("</div>")),P(t)},_getProperty:function(t){return this.propMap[t]},_getId:function(t,e){var a;return(a=this.idMap[t.propertyName])||(a=this.baseId+this.nextId,this.nextId+=1,this.idMap[t.propertyName]=a),e&&(a+=e),a},_getElement:function(e,a){return t("#"+this._getId(e,a))},_isCommon:function(t){return t.metaData.isCommon||t.value!==t.metaData.defaultValue||t.errors.length>0||t.warnings.length>0},_activate:function(t){var e=this,a=t.find("[data-property-id]").attr("data-property-id"),r=this._getProperty(a);this.currentPropertyName!==a&&(this._deactivate(),this.currentPropertyName=a,setTimeout((function(){e._trigger("activate",{},r)}),0))},_deactivate:function(){var t=this;this.currentPropertyName=null,setTimeout((function(){t._trigger("deactivate")}),0)},_checkForChange:function(e){var r,i,s,o=e.find("[data-property-id]").attr("data-property-id"),p=this._getProperty(o),d=p.oldValue;if(a.info("propertyEditor _checkForChange",e),i=this.getValue(e,p),t("#"+this.idMap[o]).hasClass(c)&&""===i&&(i=f),i!==d){if(p.value=i,p.oldValue=i,this.options.showAll){e.toggleClass(u,!this._isCommon(p));var h=(s=e.closest("div."+n)).find("div."+l).filter(":not(."+u+")").length;s.toggleClass(u,0===h)}r={propertyName:o,property:this._getProperty(o),previousValue:d,property$:e},this._trigger("change",{},r),e.addClass("is-changed")}},_expand:function(t){t.hasClass("is-expanded")||(t.addClass("is-expanded").children("."+o).show(),t.children("."+s).attr("aria-expanded","true").children("."+h).removeClass("a-Icon icon-right-arrow").addClass("a-Icon icon-down-arrow"),this._trigger("expand",{},{displayGroupId:t.attr("data-group-id")}))},_collapse:function(t){t.hasClass("is-expanded")&&(t.removeClass("is-expanded").children("."+o).hide(),t.children("."+s).attr("aria-expanded","false").children("."+h).removeClass("a-Icon icon-down-arrow").addClass("a-Icon icon-right-arrow"),this._trigger("collapse",{},{displayGroupId:t.attr("data-group-id")}))},_toggle:function(t){t.hasClass("is-expanded")?this._collapse(t):this._expand(t)},refresh:function(){var t,r,i,n,s,o=e.htmlBuilder(),l=this.options,u=this.element,c=v("PIN_FILTER"),h=l.data.lastComponents?l.data.lastComponents.length:0,m=l.data.propertySet,y=l.externalEdit;if(this.nextId=1,this.idMap={},this.propMap={},a.info("propertyEditor refresh"),this._deactivate(),h>0&&0===m.length?s=v("NO_COMMON_PROPERTIES"):0===m.length&&(s=v("NO_COMPONENTS_SELECTED")),s)return o.markup("<div").attr("class","a-PropertyEditor-message").markup(">"),o.markup("<span").attr("class","a-Icon a-Icon--large icon-warning").markup(">"),o.markup("<span").attr("class","u-vh").markup(">").content(v("WARNING")).markup("</span>").markup("</span>"),o.markup("<p").attr("class","a-PropertyEditor-messageText").markup(">").content(s).markup("</p>"),o.markup("</div>"),u.html(o.toString()).addClass("is-empty"),void(l.searchable&&(u.prev().addClass("is-disabled").find(".a-Property-field--filter").prop("disabled",!0),l.pinSearch||this.clearSearch()));for(u.removeClass("is-empty"),y&&o.markup("<div").attr("class","a-PropertyEditor-editParent").markup(">").markup("<button").attr("type","button").attr("id",this.baseId+"externalEdit").attr("class",d+" a-Button--full a-Button--primary").markup(">").content(v("EDIT_COMPONENT")).markup("</button>").markup("</div>"),this._renderDisplayGroups(o),u.children().remove(),u.html('<div class="resize u-ScrollingViewport a-PropertyEditor-wrapper">'+o.toString()+"</div>"),l.searchable&&u.find(".a-PropertyEditor-wrapper").css("height",u.css("height")).css("width",u.css("width")),t=0;t<m.length;t++)for(i=m[t].properties,r=0;r<i.length;r++)n=i[r],this.propMap[n.propertyName]=n,this._callPropertyInit(n);l.focusPropertyName&&this.focus(l.focusPropertyName),l.searchable&&(this.hasSearchField?(l.pinSearch?this.search(l.searchKey):this.clearSearch(),u.prev().removeClass("is-disabled").find(".a-Property-field--filter").prop("disabled",!1)):(u.prev().find(".a-Toolbar-items--left").prepend('<div class="a-PropertyEditor-filter"><input aria-controls="pe" type="search" class="'+p+' a-Property-field--filter" aria-label="'+v("FILTER_PROPERTIES")+'" placeholder="'+v("FILTER")+'" /><span class="a-Icon icon-search a-PropertyEditor-filter-icon" aria-hidden="true"></span><button class="a-Button a-Button--noLabel a-Button--simple a-Button--stickyFilter" type="button" title="'+c+'" aria-label="'+c+'"><span class="a-Icon icon-pin" aria-hidden="true"></span></button></div>'),this.hasSearchField=!0))},getPropertyValue:function(t){var e=this._getProperty(t),a=this._getElement(e),r=e.metaData.type;return S[r].getValue(a.closest("div."+l))},updatePropertyValue:function(t,e,r){var i,n,s;a.info("propertyEditor updatePropertyValue: Property "+t+" to "+e),(i=this._getProperty(t))&&(n=this._getElement(i),s=i.metaData.type,e!==i.value&&(i.value=e,i.oldValue=e,e!==f?S[s].setValue(n,i,e,this.options.data.lastComponents):this.updateProperty(i),r||n.trigger("change")))},updateProperty:function(t){var r,i,n=this.options.data.propertySet,s=e.htmlBuilder();for(a.info("propertyEditor updateProperty: ",t),r=0;r<n.length;r++)for(i=0;i<n[r].properties.length;i++)n[r].properties[i].propertyName===t.propertyName&&(n[r].properties.splice(i,1),n[r].properties.splice(i,0,t));this._renderProperty(s,t),this._getElement(t).closest("div."+l).replaceWith(s.toString()),S[t.metaData.type].destroy(this._getElement(t),t),this._callPropertyInit(t)},addProperty:function(r){var i,n,s,p,d,c,h,m=e.htmlBuilder(),y=e.htmlBuilder(),f=this.options.data.propertySet,v=0,g=0,k=!1,C=!1,P=t.extend({property:{},prevPropertyName:null,displayGroup:{},prevDisplayGroupId:null},r);for(a.info("propertyEditor addProperty: ",P),i=0;i<f.length;i++)if(f[i].displayGroupId===P.property.metaData.displayGroupId){g=i,k=!0;break}if(!k){for(n=0;n<f.length;n++)if(f[n].displayGroupId===P.prevDisplayGroupId){g=n+1;break}f.splice(g,0,P.displayGroup)}for(d=f[g].properties,s=0;s<d.length;s++)if(d[s].propertyName===P.property.propertyName){v=s,C=!0;break}if(!C){for(p=0;p<d.length;p++)if(d[p].propertyName===P.prevPropertyName){v=p+1;break}f[g].properties.splice(v,0,P.property),this.propMap[P.property.propertyName]=P.property,k?(this._renderProperty(m,P.property),0===v?this.element.find(_(P.displayGroup.displayGroupId)).find("div."+o).prepend(m.toString()):t("#"+this.idMap[P.prevPropertyName]).closest("div."+l).after(m.toString()),c=this._countVisibleProperties(f[g].properties),h=this.element.find(_(P.displayGroup.displayGroupId)),c>0&&h.hasClass(u)&&h.removeClass(u)):(this._renderDisplayGroup(y,P.displayGroup,g),0===g?this.element.prepend(y.toString()):this.element.find(_(P.prevDisplayGroupId)).after(y.toString())),this._callPropertyInit(P.property)}},removeProperty:function(t){var e,r,i,s,o,p=!1,u=this.options.data.propertySet,d=!1;for(a.info("propertyEditor removeProperty: ",t),this.currentPropertyName===t&&this._deactivate(),e=0;e<u.length;e++)if(!d)for(p=1===u[e].properties.length,r=0;r<u[e].properties.length;r++)if(u[e].properties[r].propertyName===t){s=u[e].properties[r],o=(i=this._getElement(s)).closest("div."+n),p?(u.splice(e,1),o.remove()):(S[s.metaData.type].destroy(i,s),u[e].properties.splice(r,1),i.closest("div."+l).remove()),d=!0;break}},expand:function(t){var e=this.element.find("div."+n).filter(_(t));this._expand(e)},expandAll:function(){var e=this;this.element.find("div."+n).each((function(){e._expand(t(this))}))},collapseAll:function(){var e=this;this.element.find("div."+n).each((function(){e._collapse(t(this))}))},getValueVariesConstant:function(){return f},setValue:function(t,e,a,r){S[e.metaData.type].setValue(t,e,a,r)},getValue:function(t,e){return S[e.metaData.type].getValue(t,e)},focus:function(t){var e,a,r,i;i=t||(this.currentPropertyName?this.currentPropertyName:this.options.data.propertySet[0].properties[0].propertyName),(a=this._getProperty(i))&&((e=(r=this._getElement(a)).closest("div."+n)).hasClass("is-expanded")||this._expand(e),S[a.metaData.type].setFocus(r,a))},saveProperty:function(t){var e,a;t?e=t:this.currentPropertyName&&(e=this.currentPropertyName),e&&(a=this._getProperty(e),this._getElement(a).trigger("change"))},goToGroup:function(t){var e=this.options,a=this.element.find("div."+n).filter(_(t)).find("[data-property-id]").first().attr("data-property-id");e.searchable&&this.clearSearch(),this.collapseAll(),this.expand(t),this.focus(a)},search:function(e){var a,r=this.element,i=r.prev();if(r.find("."+m+", .a-Property-highlight").removeClass(m+" a-Property-highlight"),r.find(".a-Property-notFound").remove(),i.removeClass("has-active-filter"),!e||e.length<2)this.options.searchKey=null;else{a=e.trim().toLowerCase(),this.options.searchKey=a,i.addClass("has-active-filter");var n=[],s=[],o={},l=[],p=[],u=this,d=(r.find(".a-PropertyEditor-propertyGroup-title").each((function(e){var a=t(this),r=a.text().toLowerCase(),i=a.attr("id"),s=[];l.push(i),n[e]={pe_id:i,pe_title:r,pe_children:[]},s=n[e].pe_children,a.parent().next().find(".a-Property-label").each((function(){var e,a,r,n=t(this),l=n.attr("id");s.push({pe_label_id:l,pe_label:n.text().toLowerCase(),pe_value:(e=l.slice(0,-6),a=t("#"+e),r=a.get(0).tagName.toUpperCase(),("INPUT"===r||"TEXTAREA"===r?$v(e):"SELECT"===r?t("#"+e+" option:selected").text():"BUTTON"===r?a.text():"DIV"===r?a.find("input:checked").next().text():"").toLowerCase())}),p.push(l),o[l]=i}))})),function(e){var i,n,s,d,c,h,y,f,g=[],k=e.length,C=l.length,P=p.length;0===k&&r.find(".a-PropertyEditor-wrapper").append('<div class="a-Property-notFound"> <span class="a-Icon icon-search" aria-hidden="true"></span><br />'+v("FILTER_NO_MATCH")+"</div>");var b,D,E,_;for(n=0;n<C;n++)t("#"+l[n]).parent().parent().addClass(m);for(s=0;s<P;s++)t("#"+p[s]).parent().parent().addClass(m);for(i=0;i<k;i++)c=e[i],y=t("#"+c),(f=y.parent().parent()).removeClass(m),-1!==c.indexOf("_g_")&&f.find("."+m).removeClass(m),E=a,_=void 0,_=(D=y).text().replace(new RegExp("("+E+")","gi"),'<span class="a-Property-highlight">$1</span>'),D.html(_),g.push(-1!==(b=c).indexOf("_g_")?b:o[b]);for(h=(g=t.unique(g)).length,d=0;d<h;d++)y=t("#"+g[d]),f=y.parent().next(),u._expand(f.parent().removeClass(m))});!function(t){var e,a,r,i,o,l=n.length;for(e=0;e<l;e++)for(-1!=(r=n[e]).pe_title.indexOf(t)&&s.push(r.pe_id),o=r.pe_children.length,a=0;a<o;a++)-1==(i=r.pe_children[a]).pe_label.indexOf(t)&&-1==i.pe_value.indexOf(t)||s.push(i.pe_label_id);d(s)}(a)}},clearSearch:function(){this.options.searchKey=null,this.element.prev().removeClass("has-active-filter").find(".a-Property-field--filter").val("").trigger("keyup").siblings(".a-Button--stickyFilter").removeClass("is-active")}}),t.apex.propertyEditor.PROP_TYPE=y,t.apex.propertyEditor.addPropertyType=I}(apex.jQuery,apex.util,apex.debug,apex.locale,apex.lang);
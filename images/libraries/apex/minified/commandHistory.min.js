!function(n,e,o){"use strict";var t=function(){var n=[],t=-1,r=null,c={execute:function(){},undo:function(){},redo:function(){return this.execute()},label:function(){return""}};function u(){if(t<0)throw"Command history nothing to undo"}function i(){if(t>=n.length-1)throw"Command history nothing to redo"}return{clear:function(){n=[],t=-1,o(document).trigger("commandHistoryChange")},execute:function(c){try{e.info("Execute command: "+c.label()),c.execute()}catch(n){return e.error("Exception during execute command.",n),void(r&&r("execute",c,n))}(t+=1)<n.length&&(n.length=t),n.push(c),o(document).trigger("commandHistoryChange")},undo:function(){u();try{e.info("Undo command: "+n[t].label()),n[t].undo()}catch(o){e.error("Exception during undo command.",o),r&&r("undo",n[t],o),n.length=t}t-=1,o(document).trigger("commandHistoryChange")},redo:function(){i(),t+=1;try{e.info("Redo command: "+n[t].label()),n[t].redo()}catch(o){e.error("Exception during redo command.",o),r&&r("redo",n[t],o),n.length=t,t-=1}o(document).trigger("commandHistoryChange")},canUndo:function(){return t>=0},canRedo:function(){return t<n.length-1},undoLabel:function(){return u(),n[t].label()},redoLabel:function(){return i(),n[t+1].label()},setErrorHandler:function(n){r=n},getErrorHandler:function(){return r},baseCommand:function(){return Object.create(c)}}};n.commandHistory=t(),n.commandHistory.newCommandHistory=t}(apex,apex.debug,apex.jQuery);
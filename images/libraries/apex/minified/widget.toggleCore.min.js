var ToggleCore=function(e){return function(n){var o=(e=n.extend({},{useSessionStorage:!0,defaultExpandedPreference:!1,onClick:function(){},onResize:function(){},onInitialize:function(){S?m():z()},onCollapse:function(){},onExpand:function(){},isPreferenceGlobal:!1},e)).key,l=e.defaultExpandedPreference,t=e.onExpand,a=e.onCollapse,c=e.onResize,r=e.onClick,i=e.onInitialize,s=e.content,f=e.contentClassExpanded,u=e.contentClassCollapsed,d=e.controllingElement,p=e.controllingElementSelector,x=e.useSessionStorage,g=e.isPreferenceGlobal,C=apex.storage.getScopedSessionStorage({prefix:o,usePageId:!g,useAppId:!0}),E=!1,S=l;if(x){var v=C.getItem("preferenceForExpanded");v&&(S="true"===v)}(!d||d.length<1)&&(d=n(p)),d&&d.click((function(e){r.call(b),y(),d.focus(),e.preventDefault()}));var P=function(e){S=e,x&&C.setItem("preferenceForExpanded",S)},m=function(){E=!1,I.call(b)},z=function(){E=!0,k.call(b)},I=function(e){E||(E=!0,e&&P(E),s.removeClass(u).addClass(f),t())},k=function(e){E&&(E=!1,e&&P(E),s.addClass(u).removeClass(f),a())},y=function(){E?k.call(b,!0):I.call(b,!0)},b={key:o,setUserPreference:P,doesUserPreferExpanded:function(){return S},isExpanded:function(){return E},toggle:function(){y.call(b)},expand:function(){I.call(b)},collapse:function(){k.call(b)},forceExpand:m,forceCollapse:z,resize:function(){c.call(b)},initialize:function(){i.call(b)}};return b}(apex.jQuery)};
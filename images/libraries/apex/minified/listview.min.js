!function(t,e){var i="<a class='ui-btn js-sublist-nav' href='#'>",s=/(^|\s)a-ListView-divider($|\s)/,a=/(^|\s)u-hidden($|\s)/,n=t.getAttribute;function l(t){var e=t;return 0===e.indexOf("fa-")&&(e="fa "+e),"<span class='"+e+"' aria-hidden='true'></span>"}function r(t){var i,s,a,n,l;(n=e(t.target).closest("a.js-sublist-nav")).length&&(i=(l=n.closest("li")).attr("data-list-id"))&&((a=l.parent()).attr("data-parent-id")&&(a=a.parent()),s=e("#"+i),a.hide(),s.show().find(":focusable").eq(0).focus(),t.preventDefault())}function d(t){var i=e(t.target).closest("button").closest(".a-ListView-nestedList"),s=i.find("ul,ol").attr("data-parent-id");i.hide(),e("#"+s).show().find(":focusable").eq(0).focus()}e.widget("apex.listview",{version:"18.1",widgetEventPrefix:"listview",options:{icon:"fa-angle-right",splitIcon:"fa-angle-right",inset:!1,corners:!0,shadow:!0,backButtonText:"Back",autodividers:!1,autodividersSelector:function(t){var i=e.trim(t.text())||null;return i?i=i.slice(0,1).toUpperCase():null},hideDividers:!0,childPages:!1},_create:function(){var t=this.options,e="a-ListView";e+=t.inset?" ui-listview-inset":"",t.inset&&(e+=t.corners?" ui-corner-all":"",e+=t.shadow?" ui-shadow":""),this.element.addClass(e),this.refresh(!0),t.childPages&&this._on({click:r})},_getCreateOptions:t._getCreateOptions,_destroy:function(){this.element.removeClass("a-ListView ui-listview-inset ui-corner-all ui-shadow"),this.nestedLists&&this.nestedLists.length&&this.nestedLists.remove()},_findFirstElementByTagName:function(t,e,i,s){var a={};for(a[i]=a[s]=!0;t;){if(a[t.nodeName])return t;t=t[e]}return null},_addThumbClasses:function(t){var i,s,a=t.length;for(i=0;i<a;i++)(s=e(this._findFirstElementByTagName(t[i].firstChild,"nextSibling","img","IMG"))).length&&e(this._findFirstElementByTagName(s[0].parentNode,"parentNode","li","LI")).addClass(s.hasClass("ui-li-icon")?"has-icon":"has-thumb")},_getChildrenByTagName:function(t,i,s){var a=[],n={};for(n[i]=n[s]=!0,t=t.firstChild;t;)n[t.nodeName]&&a.push(t),t=t.nextSibling;return e(a)},_replaceDividers:function(){var t,i,s,a,n,l=null,r=this.element;for(r.children("li[data-role='list-divider']").remove(),i=r.children("li"),t=0;t<i.length;t++)s=i[t],(a=this.options.autodividersSelector(e(s)))&&l!==a&&((n=document.createElement("li")).appendChild(document.createTextNode(a)),n.setAttribute("data-role","list-divider"),s.parentNode.insertBefore(n,s)),l=a},_hideDividers:function(){var t,e,i,n=!0;for(e=(t=this._getChildrenByTagName(this.element[0],"li","LI")).length-1;e>-1;e--)(i=t[e]).className.match(s)?(n&&(i.className=i.className+" u-hidden"),n=!0):i.className.match(a)||(n=!1)},refresh:function(t){var i,s=this,a=this.options,r=this.element,d=!!e.nodeName(r[0],"ol"),h=r.attr("start"),o={},c=r.find(".ui-li-count");for(itemClass in r.show(),d&&(h||0===h)&&(i=parseInt(h,10)-1,r.css("counter-reset","listnumbering "+i)),a.autodividers&&this._replaceDividers(),function i(r){var h,c,u,f,m,p,v,g,b,C,w,N,L,_,x,y,T,B;for(h=0,c=(T=s._getChildrenByTagName(r,"li","LI")).length;h<c;h++)u=T.eq(h),f="",(t||u[0].className.search(/\ba-ListView-item\b|\ba-ListView-divider\b/)<0)&&(g=s._getChildrenByTagName(u[0],"a","A"),b="list-divider"===n(u[0],"role"),w=u.attr("value"),m=n(u[0],"theme"),g.length&&g[0].className.search(/\bui-btn\b/)<0&&!b?(v=!1!==(p=n(u[0],"icon"))&&(p||a.icon),"ui-btn",f="a-ListView-item has-link",g.length>1&&(f+=" has-alt",N=g.last(),_=(L=n(N[0],"theme")||n(u[0],"theme",!0))?" ui-btn-"+L:"",x=n(N[0],"icon")||n(u[0],"icon")||a.splitIcon,y="ui-btn"+_,N.attr("title",e.trim((B=N,e("<a>").text(B.text()).html()))).addClass(y).empty(),x&&N.append(l(x)),g=g.first()),g.addClass("ui-btn"),v&&g.append(l(v))):b?(f="a-ListView-divider ui-bar-"+(n(u[0],"theme")||"inherit"),u.attr("role","heading")):g.length<=0&&(f="a-ListView-item ui-body-"+(m||"inherit")),d&&w&&(C=parseInt(w,10)-1,u.css("counter-reset","listnumbering "+C)),u.children("ul,ol").each((function(){i(this)}))),o[f]||(o[f]=[]),o[f].push(u[0]);s._addThumbClasses(T),s._addThumbClasses(T.find(".ui-btn"))}(r[0]),o)e(o[itemClass]).addClass(itemClass);c.each((function(){e(this).closest("li").addClass("has-count")})),a.hideDividers&&this._hideDividers(),a.childPages&&this._setupChildren()},_setupChildren:function(){var t,s=1,a=[],n=this,h=this.element,o=h.attr("class"),c=h.find("ul,ol");this.nestedLists&&this.nestedLists.length&&this.nestedLists.remove(),(t=h.attr("id"))||(t=this.widgetName+this.uuid,h.attr("id",t)),c.each((function(){var i=t+"_"+s,a=e(this);a.attr("id",i).attr("data-parent-id",a.parent().parent().attr("id")).attr("class",o).parent().attr("data-list-id",i),s+=1})),c.each((function(){var t,s,o=n.options,c=e(this),u=c.parent(),f=u[0],m=c.attr("id"),p="a-ListView-header",v=o.backButtonText;t=e(f.childNodes[0]).text().replace(/^\s+|\s+$/g,"").length>0?e(f.childNodes[0]).text():e(f.childNodes[1]).text(),o.inset&&(p+=" ui-listview-inset"),c.removeAttr("id").click(r),(s=e("<div id='"+m+"' class='a-ListView-nestedList' style='display:none;'><div class='"+p+"'><button type='button' class='a-Button js-back' title='"+v+"' aria-label='"+v+"'>"+l("fa-angle-left")+"</button><h3>"+t+"</h3></div></div>").insertAfter(h)).append(c).find(".js-back").click(d),u.hasClass("has-link")?u.hasClass("has-alt")?u.children("a").last().addClass("js-sublist-nav"):u.append(i+l(o.splitIcon)+"</a>").addClass("has-alt"):(u.html(i+u.html()+"</a>"),u.addClass("has-link").children().append(l(o.icon))),a.push(s[0])})),this.nestedLists=e(a)}}),e((function(){e("[data-role='listview']").listview()}))}(apex.widget,apex.jQuery);
!function(e,t){var i=e.getAttribute,s=function(e,s){return-1===(""+(i(this,"filtertext")||t(this).text())).toLowerCase().indexOf(s)};t.widget("apex.filterable",{options:{filterReveal:!1,filterCallback:s,enhanced:!1,input:null,children:"> li, > option, > optgroup option, > tbody tr"},_create:function(){var e=this.options;t.extend(this,{_search:null,_timer:0}),this._setInput(e.input),e.enhanced||this._filterItems((this._search&&this._search.val()||"").toLowerCase())},_getCreateOptions:e._getCreateOptions,_onKeyUp:function(){var e,t,s=this._search;if(s){if(e=s.val().toLowerCase(),(t=i(s[0],"lastval")+"")&&t===e)return;this._timer&&(window.clearTimeout(this._timer),this._timer=0),this._timer=this._delay((function(){if(!1===this._trigger("beforefilter",null,{input:s}))return!1;s[0].setAttribute("data-lastval",e),this._filterItems(e),this._timer=0}),250)}},_getFilterableItems:function(){var e=this.element,i=this.options.children,s=i?t.isFunction(i)?i():i.nodeName?t(i):i.jquery?i:this.element.find(i):{length:0};return 0===s.length&&(s=e.children()),s},_filterItems:function(e){var i,n,r,h=[],l=[],o=this.options,a=this._getFilterableItems();if(null!=e)for(n=o.filterCallback||s,r=a.length,i=0;i<r;i++)(n.call(a[i],i,e)?l:h).push(a[i]);0===l.length?a[o.filterReveal&&0===e.length?"addClass":"removeClass"]("u-hidden"):(t(l).addClass("u-hidden"),t(h).removeClass("u-hidden")),this._refreshChildWidget(),this._trigger("filter",null,{items:a})},_refreshChildWidget:function(){var e,i,s=["listview"];for(i=s.length-1;i>-1;i--)e=s[i],t.apex[e]&&(e=this.element.data("apex-"+e))&&t.isFunction(e.refresh)&&e.refresh()},_setInput:function(e){var i=this._search;this._timer&&(window.clearTimeout(this._timer),this._timer=0),i&&(this._off(i,"keyup change input"),i=null),e&&(i=e.jquery?e:e.nodeName?t(e):this.document.find(e),this._on(i,{keydown:"_onKeyDown",keypress:"_onKeyPress",keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"})),this._search=i},_onKeyDown:function(e){e.keyCode===t.ui.keyCode.ENTER&&(e.preventDefault(),this._preventKeyPress=!0)},_onKeyPress:function(e){this._preventKeyPress&&(e.preventDefault(),this._preventKeyPress=!1)},_setOptions:function(e){var t=!(void 0===e.filterReveal&&void 0===e.filterCallback&&void 0===e.children);this._super(e),void 0!==e.input&&(this._setInput(e.input),t=!0),t&&this.refresh()},_destroy:function(){var e=this.options,t=this._getFilterableItems();e.enhanced?t.toggleClass("u-hidden",e.filterReveal):t.removeClass("u-hidden")},refresh:function(){this._timer&&(window.clearTimeout(this._timer),this._timer=0),this._filterItems((this._search&&this._search.val()||"").toLowerCase())}})}(apex.widget,apex.jQuery);
!function(e){"use strict";var t=e.apex.listview.prototype.options,a=/(^|\s)a-ListView-divider(\s|$)/;t.apexRegionId="",t.apexAjaxIdentifier="",t.apexPageItems="",t.apexFilter="",e(document).on("listviewcreate","ul, ol",(function(){var t=e(this),i=t.data("apex-listview").options;function r(e){apex.server.plugin(i.apexAjaxIdentifier,{pageItems:i.apexPageItems,x01:"FETCH",x04:t.data("apex-last-search"),x05:e},{dataType:"html",loadingIndicator:t,loadingIndicatorPosition:"centered",refreshObject:t,clear:1===e?l:void 0,success:n})}function l(){t.empty(),t.listview("refresh")}function n(a){var i=e(a),r=i.filter("li[data-role='list-divider']:first"),l=e("li[data-role='list-divider']:last",t);e("li.apex-load-more",t).remove(),t.append(i),r.text()===l.text()&&r.remove(),t.listview("refresh")}i.apexRegionId&&i.apexAjaxIdentifier&&(t.parents("#"+i.apexRegionId),apex.region.create(i.apexRegionId,{type:"ListView",widgetName:"listview",refresh:function(){r(1)},widget:function(){return t}}),t.on("click","li.apex-load-more",(function(a){r(e("li[data-role!='list-divider']",t).length),a.preventDefault()})),(t.attr("data-apex-filter")||t.attr("data-filter"))&&function(){function l(){var e=d.val();t.data("apex-last-search",e),r(1)}var n=e.apex.filterable.prototype.options.filterCallback,s=t.attr("data-input").substr(1),o=e("<div>",{class:"a-ListView-searchbar ui-filterable ui-bar-"+t.attr("data-filter-theme"),role:"search"}),d=e("<input>",{id:s,placeholder:t.attr("data-filter-placeholder"),"data-type":"search"});d.appendTo(o),o.insertBefore(t),i.inset&&o.addClass("ui-listview-filter-inset");i.apexFilter?d.on("change",l).on("keydown",(function(e){13===e.which&&(e.preventDefault(),l())})):t.filterable({filterCallback:function(e,t){return!this.className.match(a)&&n.call(this,e,t)}})}())}))}(apex.jQuery);
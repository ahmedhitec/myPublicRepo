!function(e,t,n,a,o,i){"use strict";var r={};o.inputSearch=function(t,a,s){var u,c,l,p,d,h,g=e("#"+n.escapeCSS(t+"_HIDDEN"),apex.gPageContext$),m=e("#"+n.escapeCSS(t)+"_LABEL",apex.gPageContext$),x=e("#"+n.escapeCSS(t),apex.gPageContext$),f=e.extend({ajaxIdentifier:null,itemsToSubmit:"",dependingOnSelector:"",optimizeRefresh:!0,matchCaseSensitive:!1,matchContains:!0,maxOptions:null,lazyLoad:!1,cache:!0,width:null,maxLength:null,elementAttributes:null,isEscaped:!0,minLength:1,placeholder:"",title:""},s),S=e.ui.keyCode;function b(e){var t,n=[];for(t=0;t<e.length;t++)n.push({label:e[t],value:e[t]});return n}function v(){g.trigger("apexbeforerefresh"),r={},i(t).setValue(""),g.ojInputSearch(f),g.trigger("apexafterrefresh")}!f.lazyLoad&&a&&(f.options=b(a)),d=i.create(t,{enable:function(){g.ojInputSearch({disabled:!1})},disable:function(){g.ojInputSearch({disabled:!0})},getValue:function(){return c.val()},setValue:function(e){g.val(e),c.val(e)},setFocusTo:function(){return c},getPopupSelector:function(){return".oj-listbox-results"},reinit:function(e){r={},this.setValue(e,null,!0)},delayLoading:!0,isChanged:function(){return h!==c.val()},setStyleTo:function(){return c}}),require(["ojs/ojcore","ojs/ojselectcombobox"],(function(a){var i;if(u=f.options,f.options=function(a){return new Promise((function(i,s){var c,l,p,d="",h="",m=[],x=a.term;if(void 0!==a.term)if(f.lazyLoad){if(f.cache&&r[c=t+"_"+x])return void i(r[c]);o.util.cascadingLov(g,f.ajaxIdentifier,{x01:x,pageItems:e(f.itemsToSubmit,apex.gPageContext$)},{optimizeRefresh:f.optimizeRefresh,dependingOn:e(f.dependingOnSelector,apex.gPageContext$),success:function(e){var t=b(e);f.cache&&(r[c]=t),i(t)},target:g})}else{for(f.matchContains||(d="^"),d+=n.escapeRegExp(x),f.matchCaseSensitive||(h="i"),p=new RegExp(d,h),l=0;l<u.length&&(!f.maxOptions||m.length<f.maxOptions);l++)u[l].label.match(p)&&m.push(u[l]);i(m)}}))},g.ojInputSearch(f),h=g.val(),f.dependingOnSelector&&e(s.dependingOnSelector,apex.gPageContext$).change((function(){g.trigger("apexrefresh")})),g.on("apexrefresh",v),c=e(g.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-input"})),p=e(g.ojInputSearch("getNodeBySubId",{subId:"oj-inputsearch-search"})),l=c.closest(".oj-inputsearch-choice"),f.width&&c.attr("size",f.width),f.maxLength&&c.attr("maxlength",f.maxLength),f.elementAttributes){var j,C,y,I=n.htmlBuilder();for(C in I.markup("<input ").attr("id","customAttrHolder").attr("class","uVisuallyHidden").markup(f.elementAttributes).markup(" />"),e("body").append(I.toString()),y=(j=e("#customAttrHolder"))[0].attributes)y.hasOwnProperty(C)&&-1===e.inArray(y[C].name,["id","class"])&&c.attr(y[C].name,y[C].value);j.remove()}g.removeClass("oj-component-initnode"),i=g.attr("class"),g.attr("class","oj-component-initnode"),c.addClass("apex-item-text apex-item-auto-complete").addClass(i).attr("aria-labelledby",n.escapeCSS(t)+"_LABEL").val(h),l.addClass("oj-text-field-container"),g.on("ojbeforeexpand",(function(){var t=n.escapeCSS(c.attr("aria-owns"));e("#"+t).attr("tabindex","-1")})),c.on("keydown",(function(e){e.which===S.ENTER&&x.toggleClass("js-uses-enter",c.closest(".oj-inputsearch").hasClass("oj-listbox-dropdown-open"))})),m.on("click",(function(){c.focus()})),p.remove(),x.find("span.apex-item-icon").insertAfter(c),d.resolve()}))}}(apex.jQuery,apex.server,apex.util,apex.debug,apex.widget,apex.item);
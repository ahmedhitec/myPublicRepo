!function(e,t,i,n,o,a){"use strict";n.ckeditor5=function(n,l,r){var d,u=a.extend(!0,{editorType:"classic",mode:"html",label:null,toolbar:"intermediate",minHeight:180,maxHeight:null,executeOnInitialization:null,editorOptions:{language:"en",extraPlugins:[],toolbar:[],image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]}}},l);if("basic"==u.toolbar?u.editorOptions.toolbar=["bold","italic","|","bulletedList","numberedList","|","undo","redo"]:"intermediate"==u.toolbar?u.editorOptions.toolbar=["heading","|","bold","italic","underline","strikethrough","|","link","bulletedList","numberedList","|","blockQuote","insertTable","|","undo","redo"]:"full"==u.toolbar&&(u.editorOptions.toolbar=["heading","|","fontSize","fontFamily","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","highlight","|","alignment","indent","outdent","|","bulletedList","numberedList","todoList","|","link","blockQuote","pageBreak","insertTable","mediaEmbed","|","removeFormat","undo","redo"]),a.isFunction(r)){var c=r(u);c&&(u=c)}switch("markdown"==u.mode&&u.editorOptions.extraPlugins.push(ClassicEditor.extraPlugins.Markdown),u.editorType){case"classic":d=window.ClassicEditor;break;case"baloon":case"balloon-block":d=window.BalloonEditor;break;case"decoupled-document":d=window.DecoupledEditor;break;case"inline":d=window.InlineEditor}a(n).each((function(){var n,l=this.id+"_WIDGET";(n=a(this)).parent().append('<div id="'+l+'"></div>'),n.hide();var r,c=this.id,s=n.val(),g=function(){r.editing.view.focus()},b=e.create(c,{delayLoading:!0,enable:function(){r.isReadOnly=!1},disable:function(){r.isReadOnly=!0},setValue:function(e){r.setData(null==e?"":""+e)},getValue:function(){return r.getData()},displayValueFor:function(e){return i.stripHTML(e.replace(/<p>|<br>/g," ")).replace(/&nbsp;/g," ")},setFocusTo:function(){return{focus:g}},isChanged:function(){return s!==r.getData()},getEditor:function(){return r}});u.editorOptions.initialData=n.val(),d.create(document.getElementById(l),u.editorOptions).then((function(e){var i;(r=e).editing.view.change(e=>{e.setStyle("min-height",(u.minHeight||150)+"px",r.editing.view.document.getRoot()),u.maxHeight&&e.setStyle("max-height",u.maxHeight+"px",r.editing.view.document.getRoot())}),r.editing.view.document.on("change:isFocused",(function(e,t,o){o?i=r.getData():r.getData()!==i&&n.trigger("change")}));var o=t.formatMessage("APEX.RICH_TEXT_EDITOR.ACCESSIBLE_LABEL",u.label||"");a("label.ck.ck-label.ck-voice-label",r.ui.view.element).text(o),u.executeOnInitialization&&u.executeOnInitialization(r),b.resolve()})).catch((function(e){o.error(e)})),n.focus((function(){g()}))}))}}(apex.item,apex.lang,apex.util,apex.widget,apex.debug,apex.jQuery);
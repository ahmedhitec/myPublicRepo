!function(t,i,e){"use strict";var s=".a-Splitter-barH,.a-Splitter-barV",o="a-Splitter-thumb",r="."+o,a="is-disabled",n="title";t.widget("apex.splitter",{version:"5.0",widgetEventPrefix:"splitter",options:{orientation:"horizontal",positionedFrom:"begin",minSize:60,position:100,noCollapse:!1,dragCollapse:!0,collapsed:!1,snap:!1,inc:10,realTime:!1,iframeFix:!1,restoreText:null,collapseText:null,title:null,change:null},lastPos:null,bar$:null,before$:null,after$:null,horiz:!0,fromEnd:!1,barSize:1,_create:function(){var s,o,a,n,l,h,p=this,d=this.options,c=this.element,f=i.htmlBuilder(),b=t.ui.keyCode,u=!!d.snap&&[1*d.snap,1*d.snap],m=d.noCollapse?0:1,z=null;if(2!==c.children().length)throw new Error("Splitter must have exactly two children.");if("horizontal"!==d.orientation&&"vertical"!==d.orientation)throw new Error("Orientation bad value");if("begin"!==d.positionedFrom&&"end"!==d.positionedFrom)throw new Error("PositionedFrom bad value");if(d.minSize<m&&(d.minSize=m,e.warn("Option minSize adjusted")),this.horiz="horizontal"===d.orientation,this.fromEnd="end"===d.positionedFrom,h=this.horiz?"left":"top",this.before$=c.children().eq(0),this.after$=c.children().eq(1),c.addClass("a-Splitter resize"),"rtl"===c.css("direction")&&(c.addClass("u-RTL"),this.horiz&&(this.before$=c.children().eq(1),this.after$=c.children().eq(0),this.fromEnd=!this.fromEnd)),c.parent(".a-Splitter").length>0||this.before$.is(".a-Splitter")||this.after$.is(".a-Splitter"))throw new Error("Child of splitter cannot be a splitter");this.before$[0].id||(this.before$[0].id=(c[0].id||"splitter")+"_first"),this.after$[0].id||(this.after$[0].id=(c[0].id||"splitter")+"_second"),d.position<d.minSize&&(d.position=d.minSize),this.lastPos=d.position,d.snap&&(d.inc=d.snap),this._renderBar(f),this.bar$=t(f.toString()).insertAfter(c.children().eq(0)),this.horiz?this.barSize=this.bar$.width():this.barSize=this.bar$.height(),c.css({position:"relative"}).children().css({position:"absolute"}),this.horiz?(s=this.bar$.position()[h],o=0,a="e-resize",this.fromEnd?(n=b.LEFT,l=b.RIGHT):(n=b.RIGHT,l=b.LEFT)):(s=0,o=this.bar$.position()[h],a="s-resize",this.fromEnd?(n=b.UP,l=b.DOWN):(n=b.DOWN,l=b.UP)),this.bar$.css({left:s,top:o}).draggable({axis:p.horiz?"x":"y",containment:"parent",cancel:"button",cursor:a,iframeFix:d.iframeFix,grid:u,scroll:!1,drag:function(t,i){var e;d.realTime&&(e=i.position[h],p.fromEnd&&(e=(p.horiz?c.width():c.height())-e-p.barSize),p._setPos(e,!1))},start:function(t,i){p.bar$.addClass("is-active")},stop:function(t,i){var e=i.position[h];p.bar$.removeClass("is-active"),p.fromEnd&&(e=(p.horiz?c.width():c.height())-e-p.barSize),p._setPos(e,!1)}}).click((function(){t(this).find(r).focus()})).find("button").click((function(){p._setPos(p._getPos(),!p._isCollapsed())})),apex.widget.util.TouchProxy.addTouchListeners(this.bar$[0]),this.bar$.find(r).focus((function(){t(this).parent().addClass("is-focused is-active")})).blur((function(){t(this).parent().removeClass("is-focused is-active")})).keydown((function(t){var i,e,s=t.keyCode,o=null,r=!1;if(s!==l||d.collapsed?s===n&&((o=p._getPos())<0?(d.noCollapse||(r=!0),o=0):o+=d.inc,i=p._getMaxPos(),o>i&&(o=i)):(o=p._getPos(),(o-=d.inc)<d.minSize&&d.noCollapse&&(o=d.minSize),o<0&&(o=0)),null!==o)return e=o,p.fromEnd&&(e=(p.horiz?c.width():c.height())-e-p.barSize),p.bar$.css(h,e),z&&(clearTimeout(z),z=null),z=setTimeout((function(){z=null,p._setPos(o,r)}),100),!1})),this._on(!0,this._eventHandlers),d.disabled&&this._setOption("disabled",d.disabled),this.refresh()},_eventHandlers:{resize:function(e){var s,o,r,a,n=this.options,l=this.element;if(e.target===l[0]){if(s=l.height(),o=l.width(),0===s||0===o)throw new Error("Splitter needs to be in a component with size");a=l.offset(),this.horiz?(l.children().each((function(){i.setOuterHeight(t(this),s)})),this.fromEnd?(r=[a.left+n.minSize,a.top,a.left+o-this.barSize,a.top+s],n.dragCollapse&&!n.noCollapse||(r[2]-=n.minSize)):(r=[a.left,a.top,a.left+o-this.barSize-n.minSize,a.top+s],n.dragCollapse&&!n.noCollapse||(r[0]+=n.minSize+1))):(l.children().each((function(){i.setOuterWidth(t(this),o)})),this.fromEnd?(r=[a.left,a.top+n.minSize,a.left+o,a.top+s-this.barSize],n.dragCollapse&&!n.noCollapse||(r[3]-=n.minSize)):(r=[a.left,a.top,a.left+o,a.top+s-this.barSize-n.minSize],n.dragCollapse&&!n.noCollapse||(r[1]+=n.minSize+1))),this._setPos(n.position,n.collapsed),this.bar$.draggable("option","containment",r),l.children(".resize").filter(":visible").trigger("resize"),e.stopPropagation()}}},_destroy:function(){this.element.removeClass("a-Splitter "+a+" u-RTL resize").children(s).remove(),this.element.children().css("position","")},refresh:function(){this.element.is(":visible")&&this.element.trigger("resize")},_setOption:function(i,s){var o,l,h;if(!this.options.noCollapse||"collapsed"!==i&&"restoreText"!==i&&"collapseText"!==i){if("orientation"===i||"positionedFrom"===i||"noCollapse"===i)throw new Error("Readonly option: "+i);"position"===i?this._setPos(1*s,this._isCollapsed()):"collapsed"===i?this._setPos(this._getPos(),!!s):"snap"===i?(s=!!s&&1*s,this.options.snap=s,o=!!s&&[s,s],this.bar$.draggable("option","grid",o),s&&(this.options.inc=s)):"inc"===i?(s*=1,this.options.snap&&(s=this.options.snap),this.options.inc=s):"disabled"===i?(this.options.disabled=s,h=this.bar$.find(r),this.options.noCollapse?s?h.removeAttr("tabindex"):h.attr("tabindex","0"):(h[0].disabled=s,s?h.attr(n,this.options.title):h.attr(n,this.options.collapsed?this.options.restoreText:this.options.collapseText)),this.bar$.draggable("option","disabled",s),s?(this.element.addClass(a),this.bar$.addClass(a),h.attr("aria-disabled",!0)):(h.removeAttr("aria-disabled"),this.bar$.removeClass(a),this.element.removeClass(a))):"minSize"===i?(s<(l=this.options.noCollapse?0:1)&&(s=l,e.warn("Option minSize adjusted")),this.options.minSize=s):t.Widget.prototype._setOption.apply(this,arguments),"title"===i?(this.bar$.attr(n,s),(this.options.noCollapse||this.options.disabled)&&this.bar$.find(r).attr(n,s)):"restoreText"===i&&this.options.collapsed&&!this.options.disabled?this.bar$.find("button").attr(n,s):"collapseText"!==i||this.options.collapsed||this.options.disabled?"iframeFix"===i?this.bar$.draggable("option","iframeFix",s):"dragCollapse"===i&&this.refresh():this.bar$.find("button").attr(n,s)}else e.warn("Setting "+i+" option on noCollapse splitter has no effect.")},_renderBar:function(t){var i=this.options,e=this.horiz?"a-Splitter-barH":"a-Splitter-barV";this.fromEnd&&(e+=" a-Splitter--end"),i.noCollapse&&(i.collapsed=!1),i.collapsed&&(e+=" is-collapsed"),t.markup("<div").attr("class",e).optionalAttr(n,i.title).markup("><div></div>"),i.noCollapse?t.markup("<span role='separator' class='"+o+"' tabindex='0' aria-expanded='true'").optionalAttr(n,i.title).markup("></span>"):t.markup("<button role='separator' class='"+o+"' type='button'").attr("aria-expanded",!i.collapsed).optionalAttr(n,i.collapsed?i.restoreText:i.collapseText).markup("></button>"),t.markup("</div>")},_getPos:function(){var t=this.element,i=this.horiz?"left":"top",e=this.bar$.position()[i];return this.fromEnd&&(e=(this.horiz?t.width():t.height())-e-this.barSize),e},_isCollapsed:function(){return this.bar$.hasClass("is-collapsed")},_getMaxPos:function(){var t=this.options,i=this.element;return this.horiz?i.width()-this.barSize-t.minSize:i.height()-this.barSize-t.minSize},_setPos:function(t,e){var s,o,a,l,h,p,d=this.options,c=this.element,f=this.horiz?"left":"top",b=this._isCollapsed(),u=this.lastPos;d.noCollapse&&(e=!1),b&&!e&&(t=this.lastPos)<d.minSize&&(t=d.minSize),t<d.minSize?d.noCollapse?t=d.minSize:e=!0:t>(s=this._getMaxPos())&&(t=s),d.noCollapse&&t<=0&&(t=0),t>0&&(this.lastPos=t),e&&(t=0,d.position=0),o=this.horiz?c.width():c.height(),h=t,this.fromEnd&&(h=o-t-this.barSize),this.bar$.css(f,h),p=this.bar$.find(r),this.fromEnd?(a=this.after$,l=o-h-this.barSize):(a=this.before$,l=h),e?(this.bar$.addClass("is-collapsed"),d.disabled||p.attr("aria-expanded",!1).attr(n,d.restoreText),a.hide()):(d.noCollapse?a.toggle(0!==t):(this.bar$.removeClass("is-collapsed"),d.noCollapse||d.disabled||p.attr("aria-expanded",!0).attr(n,d.collapseText),a.show()),this.horiz?i.setOuterWidth(a,l):i.setOuterHeight(a,l)),this.fromEnd?(a=this.before$,l=h):(a=this.after$,l=o-h-this.barSize),this.horiz?i.setOuterWidth(a,l):i.setOuterHeight(a,l),d.noCollapse&&a.toggle(0!==l),this.after$.css(f,h+this.barSize+"px"),this.before$.css(f,0),(!e&&t!==u||b!==e)&&(d.collapsed=e,d.position=t,c.children(".resize").filter(":visible").trigger("resize"),this._trigger("change",{},{position:d.position,collapsed:d.collapsed,lastPosition:this.lastPos}))}});var l=0,h=0;t.apex.splitter.nextSplitter=function(i){var e,o,a,n=i?-1:1,p=t(document.activeElement);if(!(l>0||h>0))return(a=(o=t(".a-Splitter >.a-Splitter-barH,.a-Splitter >.a-Splitter-barV").filter(":visible").not(".ui-state-disabled").add(p)).index(p))>=0&&(a+=n,i&&p.parent().is(s)&&(a+=n),a>=0&&a<o.length&&(e=o.eq(a))),(e&&0===e.length&&!p.parent().is(s)||p.is("html,body"))&&(e=t(".a-Splitter >.a-Splitter-barH,.a-Splitter >.a-Splitter-barV").filter(":visible").not(".ui-state-disabled")[i?"last":"first"]()),e&&e.length>0?(e.children(r).focus(),!0):void 0},t((function(){t(document.body).on("menubeforeopen",(function(){h+=1})).on("menuafterclose",(function(){h-=1})).on("dialogopen",(function(){l+=1})).on("dialogclose",(function(){l-=1}))})),apex.message&&apex.message.addVisibilityCheck((function(i){var e=t("#"+i);e.parents(".a-Splitter").each((function(){e.is(":visible")||t(this).splitter("option","collapsed",!1)}))}))}(apex.jQuery,apex.util,apex.debug);
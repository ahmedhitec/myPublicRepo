!function(e,t){var n=e.getAttribute;t.widget("apex.table",{version:"18.1",widgetEventPrefix:"table",options:{mode:"plain",noDataFoundText:null,columnBtnText:"Columns...",columnsCallout:!1,columnsNoOverlay:!0,enhanced:!1},_create:function(){var e=this.element,n=this.options;n.enhanced||e.addClass("u-Report a-Table"),this.headers=null,this.allHeaders=null,this._menu=t(),this._columnsButton=t(),this._refresh(!0),"reflow"===n.mode?n.enhanced||(e.addClass("a-Table--reflow"),this._updateReflow()):"columntoggle"===n.mode&&(n.enhanced?(this._menu=t("#"+this._id()+"_popup").children().first(),this._columnsButton=t("#"+this._id()+"_popup_btn"),this._addToggles(this._menu,!0)):(this._enhanceColToggle(),e.addClass("a-Table--columntoggle")),this._setupEvents(),this._setToggleState())},_getCreateOptions:e._getCreateOptions,_id:function(){return this.element.attr("id")||this.widgetName+this.uuid},_destroy:function(){var e=this.element;this.options.enhanced||(e.removeClass("u-Report a-Table a-Table--reflow a-Table--columntoggle"),this._menu.remove(),this._columnsButton.remove(),e.find(".a-Table-cellLabel").remove()),this.noData&&this.noData.remove()},_setHeaders:function(){var e=this.element,t=e.find("thead tr");this.headers=e.find("tr:eq(0)").children(),this.allHeaders=this.headers.add(t.children())},refresh:function(){this._refresh()},rebuild:function(){"plain"!==this.options.mode&&this._refresh(!1)},_refresh:function(e){var n,a,i,l=this.element,s=this.options,o=l.find("thead tr");if(0===l.find("tbody tr").length&&s.noDataFoundText?(this.noData||(this.noData=t("<div class='nodatafound'></div>"),l.after(this.noData)),this.noData.text(s.noDataFoundText),l.hide()):this.noData&&(this.noData.remove(),this.noData=null,l.show(),this._columnsButton.show()),this._setHeaders(),o.each((function(){var e=0;t(this).children().each((function(){var n,a=parseInt(this.getAttribute("colspan"),10),i=":nth-child("+(e+1)+")";if(this.setAttribute("data-colstart",e+1),a)for(n=0;n<a-1;n++)i+=", :nth-child("+(++e+1)+")";t(this).data("cells",l.find("tr").not(o.eq(0)).not(this).children(i)),e++}))})),!e)if("reflow"===s.mode)this._updateReflow();else if("columntoggle"===s.mode)for(n=this.headers,a=[],this._menu.find("input").each((function(){var e=t(this),i=e.data("header"),l=n.index(i[0]);l>-1&&!e.prop("checked")&&a.push(l)})),this._unlockCells(this.element.find(".ui-table-cell-hidden, .ui-table-cell-visible")),this._addToggles(this._menu,e),i=a.length-1;i>-1;i--)n.eq(a[i]).data("input").prop("checked",!1).trigger("change")},_updateReflow:function(){var e=this;this.options;t(this.allHeaders.get().reverse()).each((function(){var a,i,l=t(this).data("cells"),s=n(this,"colstart"),o=l.not(this).filter("thead th").length&&" ui-table-cell-label-top",h=t(this).clone().contents();h.length>0&&(o?(i="",(a=parseInt(this.getAttribute("colspan"),10))&&(i="td:nth-child("+a+"n + "+s+")"),e._addLabels(l.filter(i),"a-Table-cellLabel"+o,h)):e._addLabels(l,"a-Table-cellLabel",h))}))},_addLabels:function(e,n,a){1===a.length&&"abbr"===a[0].nodeName.toLowerCase()&&(a=a.eq(0).attr("title")),e.not(":has(b."+n+")").prepend(t("<b class='"+n+"'></b>").append(a))},_setupEvents:function(){this._on(window,{apexwindowresized:"_setToggleState"}),this._on(this._menu,{"change input":"_menuInputChange"}),"columntoggle"===this.options.mode&&this._on(this._columnsButton,{click:function(){this._menu.parent().popup("open")}})},_addToggles:function(e,a){var i,l,s=this._id()+"CB",o=0,h=(this.options,e);a?i=e.find("input"):h.empty(),this.headers.not("td").each((function(){var e,d,u=t(this),c=n(this,"priority");c&&((d=u.add(u.data("cells"))).addClass("ui-table-priority-"+c),l=s+o,e=(a?i.eq(o):t("<div class='apex-item-option'><input id='"+l+"' type='checkbox' checked /><label for='"+l+"'>"+(u.children("abbr").first().attr("title")||u.text())+"</label></div>").appendTo(h).children().eq(0)).data("header",u).data("cells",d),u.data("input",e),o+=1)}))},_menuInputChange:function(e){var n=t(e.target),a=n[0].checked;n.data("cells").toggleClass("ui-table-cell-hidden",!a).toggleClass("ui-table-cell-visible",a)},_unlockCells:function(e){e.removeClass("ui-table-cell-hidden ui-table-cell-visible")},_enhanceColToggle:function(){var e,n,a,i,l,s=this.element,o=this.options;e=this._id()+"_popup",n=this._id()+"_popup_btn",a=t("<button type='button' id='"+n+"' class='a-Button a-Table-columntoggleBtn'><span class='a-Button-label'>"+o.columnBtnText+"</span></button>"),i=t("<div class='a-Table-columntogglePopup' id='"+e+"' style='display:none;'></div>"),l=t("<div role='group' class='checkbox_group apex-item-group apex-item-group--rc apex-item-checkbox' aria-labelledby='"+n+"'></div>"),this._addToggles(l,!1),l.appendTo(i),s.before(i).before(a),i.popup({autoOpen:!1,title:o.columnBtnText,parentElement:a,width:"auto",minHeight:"0",noOverlay:o.columnsNoOverlay,callout:o.columnsCallout}),this._menu=l,this._columnsButton=a,this.noData&&a.hide()},_setToggleState:function(){this._menu.find("input").each((function(){var e=t(this);this.checked="table-cell"===e.data("cells").eq(0).css("display")}))}}),t((function(){t("[data-role='table']").table()}))}(apex.widget,apex.jQuery);
!function(e,t){"use strict";e.ckeditor4=function(t,i,a){var n,o,r=apex.jQuery.extend({toolbar:"Basic",toolbarStartupExpanded:!0,disableNativeSpellChecker:!1,menu_groups:"clipboard,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash"},i),s=0;"Basic"===r.toolbar?"kama"===r.skin?s=r.toolbarStartupExpanded?185:305:"moono"!==r.skin&&"moonocolor"!==r.skin||(s=r.toolbarStartupExpanded?181:305):"Intermediate"===r.toolbar?"kama"===r.skin?s=r.toolbarStartupExpanded?240:515:"moono"!==r.skin&&"moonocolor"!==r.skin||(s=r.toolbarStartupExpanded?235:525):"Full"===r.toolbar&&("kama"===r.skin?s=r.toolbarStartupExpanded?530:615:"moono"!==r.skin&&"moonocolor"!==r.skin||(s=r.toolbarStartupExpanded?590:625)),o="kama"===r.skin?25:20,"Basic"===r.toolbar?r.toolbar=[["Bold","Italic","-","RemoveFormat","-","NumberedList","BulletedList","-","Link","Unlink","-","Undo","Redo"]]:"Intermediate"===r.toolbar?r.toolbar=[["Cut","Copy","Paste","-","Bold","Italic","Underline","-","RemoveFormat","-","NumberedList","BulletedList","-","Outdent","Indent","-","Link","Unlink","Anchor","-","Undo","Redo"],"/",["Format","Font","FontSize","TextColor","-","JustifyLeft","JustifyCenter","JustifyRight"]]:"Full"===r.toolbar&&(r.toolbar=[["Cut","Copy","Paste","PasteText","PasteFromWord","-","Print","Preview","-","Undo","Redo"],["Templates"],["Link","Unlink","Anchor"],["Image","Table","HorizontalRule","Smiley","SpecialChar","PageBreak"],"/",["Bold","Italic","Underline","Strike","-","Subscript","Superscript","-","RemoveFormat"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["TextColor","BGColor"],["ShowBlocks"],"/",["Styles","Format","Font","FontSize"],["Source"]]),r.toolbarCanCollapse=!r.toolbarStartupExpanded,r.resize_dir="both",r.removePlugins="elementspath,image",r.extraPlugins="image2",apex.jQuery(t,apex.gPageContext$).each((function(){var t,l,d=r,u=this;d.height=15*this.rows+o,d.width=9.5*this.cols<s?s:9.5*this.cols,d.resize_minHeight=d.height,d.resize_minWidth=d.width,d.title=apex.lang.formatMessage("APEX.RICH_TEXT_EDITOR.ACCESSIBLE_LABEL",r.label||""),apex.jQuery(this).wrap("<div id='"+this.id+"_DISPLAY'></div>"),apex.jQuery.isFunction(a)&&(t=a(d))&&(d=t),CKEDITOR.replace(this.id,d),CKEDITOR.instances[this.id].on("key",(function(e){e.data.keyCode===CKEDITOR.ALT+112&&apex.jQuery("#"+u.id).trigger(apex.jQuery.Event("keydown",{altKey:!0,ctrlKey:!1,shiftKey:!1,metaKey:!1,isChar:!1,which:112,keyCode:112}))})),CKEDITOR.instances[this.id].on("focus",(function(){l=CKEDITOR.instances[u.id].getSnapshot()})),CKEDITOR.instances[this.id].on("blur",(function(){CKEDITOR.instances[u.id].getSnapshot()!==l&&apex.jQuery("#"+u.id).trigger("change")})),e.initPageItem(this.id,{enable:function(){alert("Enable not supported.")},disable:function(){alert("Disable not supported.")},setValue:function(e){CKEDITOR.instances[u.id].setData(e)},getValue:function(){var e,t,i=CKEDITOR.instances[u.id];return"source"===i.mode?(t=new CKEDITOR.htmlParser.basicWriter,e=CKEDITOR.htmlParser.fragment.fromHtml(i.getData()),i.filter.applyTo(e),e.writeHtml(t),t.getHtml()):i.getData()},setFocusTo:function(){return CKEDITOR.instances[u.id].focus(),{focus:function(){}}},isChanged:function(){return CKEDITOR.instances[u.id].checkDirty()}}),apex.jQuery("#"+u.id+"_DISPLAY")&&i.fullWidth&&(n=function(){var e,t=apex.jQuery("#"+u.id+"_DISPLAY").parent().width();CKEDITOR.instances[u.id].ui.space("contents")&&(e=CKEDITOR.instances[u.id].ui.space("contents").getStyle("height"),CKEDITOR.instances[u.id].resize(t,e,!0))},e.util.onElementResize(apex.jQuery("#"+u.id).parent(),n),CKEDITOR.instances[u.id].on("instanceReady",n),CKEDITOR.instances[u.id].config.resize_dir="vertical")})),apex.jQuery(t,apex.gPageContext$).focus((function(){CKEDITOR.instances[this.id].focus()}))}}(apex.widget,apex.jQuery);
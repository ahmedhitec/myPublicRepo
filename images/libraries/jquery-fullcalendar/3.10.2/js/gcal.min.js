/*!
 * FullCalendar v3.10.2
 * Docs & License: https://fullcalendar.io/
 * (c) 2019 Adam Shaw
 */
!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory(require("fullcalendar"),require("jquery")):"function"==typeof define&&define.amd?define(["fullcalendar","jquery"],factory):"object"==typeof exports?factory(require("fullcalendar"),require("jquery")):factory(root.FullCalendar,root.jQuery)}("undefined"!=typeof self?self:this,function(__WEBPACK_EXTERNAL_MODULE_1__,__WEBPACK_EXTERNAL_MODULE_3__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=270)}({1:function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_1__},2:function(module,exports){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};exports.__extends=function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}},270:function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0});var exportHooks=__webpack_require__(1),GcalEventSource_1=__webpack_require__(271);exportHooks.EventSourceParser.registerClass(GcalEventSource_1["default"]),exportHooks.GcalEventSource=GcalEventSource_1["default"]},271:function(module,exports,__webpack_require__){function parseGoogleCalendarId(url){var match;return/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(url)?url:(match=/^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(url))||(match=/^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(url))?decodeURIComponent(match[1]):void 0}function injectQsComponent(url,component){return url.replace(/(\?.*?)?(#|$)/,function(whole,qs,hash){return(qs?qs+"&":"?")+component+hash})}Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=__webpack_require__(2),$=__webpack_require__(3),fullcalendar_1=__webpack_require__(1),GcalEventSource=function(_super){function GcalEventSource(){return null!==_super&&_super.apply(this,arguments)||this}return tslib_1.__extends(GcalEventSource,_super),GcalEventSource.parse=function(rawInput,calendar){var rawProps;return"object"==typeof rawInput?rawProps=rawInput:"string"==typeof rawInput&&(rawProps={url:rawInput}),rawProps?fullcalendar_1.EventSource.parse.call(this,rawProps,calendar):!1},GcalEventSource.prototype.fetch=function(start,end,timezone){var _this=this,url=this.buildUrl(),requestParams=this.buildRequestParams(start,end,timezone),ajaxSettings=this.ajaxSettings||{},onSuccess=ajaxSettings.success;return requestParams?(this.calendar.pushLoading(),fullcalendar_1.Promise.construct(function(onResolve,onReject){$.ajax($.extend({},fullcalendar_1.JsonFeedEventSource.AJAX_DEFAULTS,ajaxSettings,{url:url,data:requestParams,success:function(responseData,status,xhr){var rawEventDefs,successRes;_this.calendar.popLoading(),responseData.error?(_this.reportError("Google Calendar API: "+responseData.error.message,responseData.error.errors),onReject()):responseData.items&&(rawEventDefs=_this.gcalItemsToRawEventDefs(responseData.items,requestParams.timeZone),successRes=fullcalendar_1.applyAll(onSuccess,_this,[responseData,status,xhr]),$.isArray(successRes)&&(rawEventDefs=successRes),onResolve(_this.parseEventDefs(rawEventDefs)))},error:function(xhr,statusText,errorThrown){_this.reportError("Google Calendar network failure: "+statusText,[xhr,errorThrown]),_this.calendar.popLoading(),onReject()}}))})):fullcalendar_1.Promise.reject()},GcalEventSource.prototype.gcalItemsToRawEventDefs=function(items,gcalTimezone){var _this=this;return items.map(function(item){return _this.gcalItemToRawEventDef(item,gcalTimezone)})},GcalEventSource.prototype.gcalItemToRawEventDef=function(item,gcalTimezone){var url=item.htmlLink||null;url&&gcalTimezone&&(url=injectQsComponent(url,"ctz="+gcalTimezone));var extendedProperties={};return"object"==typeof item.extendedProperties&&"object"==typeof item.extendedProperties.shared&&(extendedProperties=item.extendedProperties.shared),{id:item.id,title:item.summary,start:item.start.dateTime||item.start.date,end:item.end.dateTime||item.end.date,url:url,location:item.location,description:item.description,extendedProperties:extendedProperties}},GcalEventSource.prototype.buildUrl=function(){return GcalEventSource.API_BASE+"/"+encodeURIComponent(this.googleCalendarId)+"/events?callback=?"},GcalEventSource.prototype.buildRequestParams=function(start,end,timezone){var params,apiKey=this.googleCalendarApiKey||this.calendar.opt("googleCalendarApiKey");return apiKey?(start.hasZone()||(start=start.clone().utc().add(-1,"day")),end.hasZone()||(end=end.clone().utc().add(1,"day")),params=$.extend(this.ajaxSettings.data||{},{key:apiKey,timeMin:start.format(),timeMax:end.format(),singleEvents:!0,maxResults:9999}),timezone&&"local"!==timezone&&(params.timeZone=timezone.replace(" ","_")),params):(this.reportError("Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/"),null)},GcalEventSource.prototype.reportError=function(message,apiErrorObjs){var calendar=this.calendar,calendarOnError=calendar.opt("googleCalendarError"),errorObjs=apiErrorObjs||[{message:message}];this.googleCalendarError&&this.googleCalendarError.apply(calendar,errorObjs),calendarOnError&&calendarOnError.apply(calendar,errorObjs),fullcalendar_1.warn.apply(null,[message].concat(apiErrorObjs||[]))},GcalEventSource.prototype.getPrimitive=function(){return this.googleCalendarId},GcalEventSource.prototype.applyManualStandardProps=function(rawProps){var superSuccess=fullcalendar_1.EventSource.prototype.applyManualStandardProps.apply(this,arguments),googleCalendarId=rawProps.googleCalendarId;return null==googleCalendarId&&rawProps.url&&(googleCalendarId=parseGoogleCalendarId(rawProps.url)),null!=googleCalendarId?(this.googleCalendarId=googleCalendarId,superSuccess):!1},GcalEventSource.prototype.applyMiscProps=function(rawProps){this.ajaxSettings||(this.ajaxSettings={}),$.extend(this.ajaxSettings,rawProps)},GcalEventSource.API_BASE="https://www.googleapis.com/calendar/v3/calendars",GcalEventSource}(fullcalendar_1.EventSource);exports["default"]=GcalEventSource,GcalEventSource.defineStandardProps({url:!1,googleCalendarId:!1,googleCalendarApiKey:!0,googleCalendarError:!0})},3:function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_3__}})});